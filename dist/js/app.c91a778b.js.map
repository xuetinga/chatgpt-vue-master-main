{"version":3,"file":"js/app.c91a778b.js","mappings":"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","sources":["webpack://chathome/./src/App.vue","webpack://chathome/./src/view/home.vue","webpack://chathome/./src/components/Emoji.vue","webpack://chathome/src/components/Emoji.vue","webpack://chathome/./src/components/Emoji.vue?c950","webpack://chathome/./src/components/Emoji.vue?1364","webpack://chathome/./src/components/Nav.vue","webpack://chathome/src/components/Nav.vue","webpack://chathome/./src/components/Nav.vue?1117","webpack://chathome/./src/components/Nav.vue?de63","webpack://chathome/./src/util/publicfun.js","webpack://chathome/./src/components/StreamText.vue","webpack://chathome/src/components/StreamText.vue","webpack://chathome/./src/components/StreamText.vue?e685","webpack://chathome/./src/components/StreamText.vue?6dc3","webpack://chathome/src/view/home.vue","webpack://chathome/./src/view/home.vue?005c","webpack://chathome/./src/view/home.vue?3513","webpack://chathome/./src/api/index.js","webpack://chathome/./src/api/getData.js","webpack://chathome/src/App.vue","webpack://chathome/./src/App.vue?5a95","webpack://chathome/./src/App.vue?01fe","webpack://chathome/./src/view/pages/chatHome/index.vue","webpack://chathome/./src/components/PersonCard.vue","webpack://chathome/./src/components/HeadPortrait.vue","webpack://chathome/src/components/HeadPortrait.vue","webpack://chathome/./src/components/HeadPortrait.vue?4e73","webpack://chathome/./src/components/HeadPortrait.vue?f4cd","webpack://chathome/src/components/PersonCard.vue","webpack://chathome/./src/components/PersonCard.vue?56e0","webpack://chathome/./src/components/PersonCard.vue?ea26","webpack://chathome/./src/view/pages/chatHome/chatwindow.vue","webpack://chathome/./src/util/util.js","webpack://chathome/./src/components/FileCard.vue","webpack://chathome/src/components/FileCard.vue","webpack://chathome/./src/components/FileCard.vue?210b","webpack://chathome/./src/components/FileCard.vue?69fe","webpack://chathome/src/view/pages/chatHome/chatwindow.vue","webpack://chathome/./src/view/pages/chatHome/chatwindow.vue?ddc0","webpack://chathome/./src/view/pages/chatHome/chatwindow.vue?49ca","webpack://chathome/src/view/pages/chatHome/index.vue","webpack://chathome/./src/view/pages/chatHome/index.vue?0a32","webpack://chathome/./src/view/pages/chatHome/index.vue?9825","webpack://chathome/./src/view/pages/video.vue","webpack://chathome/src/view/pages/video.vue","webpack://chathome/./src/view/pages/video.vue?aeeb","webpack://chathome/./src/view/pages/video.vue?ade7","webpack://chathome/./src/view/pages/lingting.vue","webpack://chathome/src/view/pages/lingting.vue","webpack://chathome/./src/view/pages/lingting.vue?ac72","webpack://chathome/./src/view/pages/lingting.vue?ce12","webpack://chathome/./src/view/pages/setting.vue","webpack://chathome/src/view/pages/setting.vue","webpack://chathome/./src/view/pages/setting.vue?50e2","webpack://chathome/./src/view/pages/setting.vue?3c27","webpack://chathome/./src/view/pages/chatHome/MobileChat.vue","webpack://chathome/./src/api/chatgptApi.js","webpack://chathome/src/view/pages/chatHome/MobileChat.vue","webpack://chathome/./src/view/pages/chatHome/MobileChat.vue?e52b","webpack://chathome/./src/view/pages/chatHome/MobileChat.vue?c172","webpack://chathome/./src/view/pages/CheckChat.vue","webpack://chathome/src/view/pages/CheckChat.vue","webpack://chathome/./src/view/pages/CheckChat.vue?042c","webpack://chathome/./src/view/pages/CheckChat.vue?f554","webpack://chathome/./src/view/pages/KnowLedgeChat.vue","webpack://chathome/src/view/pages/KnowLedgeChat.vue","webpack://chathome/./src/view/pages/KnowLedgeChat.vue?3d20","webpack://chathome/./src/view/pages/KnowLedgeChat.vue?50f6","webpack://chathome/./src/view/pages/FreeChat.vue","webpack://chathome/src/view/pages/FreeChat.vue","webpack://chathome/./src/view/pages/FreeChat.vue?bbaf","webpack://chathome/./src/view/pages/FreeChat.vue?d37e","webpack://chathome/./src/view/pages/TitleSetChat.vue","webpack://chathome/src/view/pages/TitleSetChat.vue","webpack://chathome/./src/view/pages/TitleSetChat.vue?907d","webpack://chathome/./src/view/pages/TitleSetChat.vue?9560","webpack://chathome/./src/view/pages/Prompt.vue","webpack://chathome/src/view/pages/Prompt.vue","webpack://chathome/./src/view/pages/Prompt.vue?1641","webpack://chathome/./src/view/pages/Prompt.vue?e0a2","webpack://chathome/./src/view/pages/SelectModel.vue","webpack://chathome/src/view/pages/SelectModel.vue","webpack://chathome/./src/view/pages/SelectModel.vue?14ca","webpack://chathome/./src/view/pages/SelectModel.vue?f1dc","webpack://chathome/./src/view/pages/KnowSetting.vue","webpack://chathome/src/view/pages/KnowSetting.vue","webpack://chathome/./src/view/pages/KnowSetting.vue?3fea","webpack://chathome/./src/view/pages/KnowSetting.vue?583e","webpack://chathome/./src/view/pages/HelpChat.vue","webpack://chathome/src/view/pages/HelpChat.vue","webpack://chathome/./src/view/pages/HelpChat.vue?607e","webpack://chathome/./src/view/pages/HelpChat.vue?1764","webpack://chathome/./src/router/index.js","webpack://chathome/./src/main.js","webpack://chathome/./src/mock/index.js","webpack://chathome/webpack/bootstrap","webpack://chathome/webpack/runtime/chunk loaded","webpack://chathome/webpack/runtime/compat get default export","webpack://chathome/webpack/runtime/define property getters","webpack://chathome/webpack/runtime/global","webpack://chathome/webpack/runtime/hasOwnProperty shorthand","webpack://chathome/webpack/runtime/make namespace object","webpack://chathome/webpack/runtime/node module decorator","webpack://chathome/webpack/runtime/publicPath","webpack://chathome/webpack/runtime/jsonp chunk loading","webpack://chathome/webpack/startup"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-container',{staticClass:\"main-bg\"},[_c('el-container',{staticStyle:{\"justify-content\":\"center\",\"align-items\":\"center\"}},[_c('el-header',{staticStyle:{\"text-align\":\"center\",\"line-height\":\"40px\",\"margin-top\":\"120px\",\"font-family\":\"'Courier New', Courier, monospace\",\"font-size\":\"100px\",\"font-weight\":\"700\"}},[_vm._v(\" Port AI \")]),_c('el-main',{staticStyle:{\"justify-content\":\"center\",\"width\":\"100%\",\"margin-top\":\"70px\"}},[_c('el-row',{staticStyle:{\"margin-top\":\"40px\"},attrs:{\"gutter\":20,\"justify\":\"center\"}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-card',{nativeOn:{\"click\":function($event){return _vm.goToKnowledgeQA.apply(null, arguments)}}},[_c('el-row',{staticClass:\"title-row\"},[_c('el-col',{attrs:{\"span\":22}},[_c('i',{staticClass:\"el-icon-s-promotion\"}),_c('span',{staticClass:\"main-title\"},[_vm._v(\"知识库问答\")])]),_c('el-col',{attrs:{\"span\":22}},[_c('span',{staticClass:\"sub-title\"},[_vm._v(\"助力安全生产法律条款问答\")])])],1)],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-card',{nativeOn:{\"click\":function($event){return _vm.goToFreeChat.apply(null, arguments)}}},[_c('el-row',{staticClass:\"title-row\"},[_c('el-col',{attrs:{\"span\":22}},[_c('i',{staticClass:\"el-icon-s-promotion\"}),_c('span',{staticClass:\"main-title\"},[_vm._v(\"自由对话\")])]),_c('el-col',{attrs:{\"span\":22}},[_c('span',{staticClass:\"sub-title\"},[_vm._v(\"LLM原生对话\")])])],1)],1)],1)],1),_c('el-row',{staticStyle:{\"margin-top\":\"30px\"},attrs:{\"gutter\":20,\"justify\":\"center\"}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-card',{nativeOn:{\"click\":function($event){return _vm.goToCheckChat.apply(null, arguments)}}},[_c('el-row',{staticClass:\"title-row\"},[_c('el-col',{attrs:{\"span\":22}},[_c('i',{staticClass:\"el-icon-s-promotion\"}),_c('span',{staticClass:\"main-title\"},[_vm._v(\"条款检查\")])]),_c('el-col',{attrs:{\"span\":22}},[_c('span',{staticClass:\"sub-title\"},[_vm._v(\"新旧条款校对与分析\")])])],1)],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-card',{nativeOn:{\"click\":function($event){return _vm.goToTitleSetChat.apply(null, arguments)}}},[_c('el-row',{staticClass:\"title-row\"},[_c('el-col',{attrs:{\"span\":22}},[_c('i',{staticClass:\"el-icon-s-promotion\"}),_c('span',{staticClass:\"main-title\"},[_vm._v(\"题目生成\")])]),_c('el-col',{attrs:{\"span\":22}},[_c('span',{staticClass:\"sub-title\"},[_vm._v(\"基于法规条款的单选题生成\")])])],1)],1)],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"emoji-content\"},[_vm._v(\" hhhhhhhhhhh \")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"emoji-content\">\r\n    hhhhhhhhhhh\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      emojiList: [\r\n        require(\"@/assets/img/emoji/slightly-smiling-face.png\"),\r\n        require(\"@/assets/img/emoji/smiling-face.png\"),\r\n        require(\"@/assets/img/emoji/smiling-face-with-heart-eyes.png\"),\r\n        require(\"@/assets/img/emoji/smiling-face-with-sunglasses.png\"),\r\n        require(\"@/assets/img/emoji/thinking-face.png\"),\r\n        require(\"@/assets/img/emoji/tired-face.png\"),\r\n        require(\"@/assets/img/emoji/money-mouth-face.png\"),\r\n        require(\"@/assets/img/emoji/loudly-crying-face.png\"),\r\n        require(\"@/assets/img/emoji/pouting-face.png\"),\r\n        require(\"@/assets/img/emoji/face-screaming-in-fear.png\"),\r\n        require(\"@/assets/img/emoji/face-vomiting.png\"),\r\n        require(\"@/assets/img/emoji/face-without-mouth.png\"),\r\n        require(\"@/assets/img/emoji/face-with-tongue.png\"),\r\n        require(\"@/assets/img/emoji/clown-face.png\"),\r\n        require(\"@/assets/img/emoji/new-moon-face.png\"),\r\n        require(\"@/assets/img/emoji/ghost.png\"),\r\n        require(\"@/assets/img/emoji/jack-o-lantern.png\"),\r\n        require(\"@/assets/img/emoji/money-bag.png\"),\r\n        require(\"@/assets/img/emoji/pile-of-poo.png\"),\r\n        require(\"@/assets/img/emoji/shamrock.png\"),\r\n        require(\"@/assets/img/emoji/hibiscus.png\"),\r\n        require(\"@/assets/img/emoji/lips.png\"),\r\n        require(\"@/assets/img/emoji/sparkles.png\"),\r\n        require(\"@/assets/img/emoji/star.png\"),\r\n        require(\"@/assets/img/emoji/two-hearts.png\"),\r\n        require(\"@/assets/img/emoji/rainbow.png\"),\r\n        require(\"@/assets/img/emoji/thought-balloon.png\"),\r\n      ],\r\n    };\r\n  },\r\n  methods: {\r\n    sendEmoji(item) {\r\n      this.$emit(\"sendEmoji\", item);\r\n    },\r\n    closeEmoji() {\r\n      this.$emit(\"closeEmoji\");\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.emoji-content{\r\n  width: 150px;\r\n  height: 150px;\r\n  background-color: aqua;\r\n}\r\n\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Emoji.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Emoji.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Emoji.vue?vue&type=template&id=420b79b2&scoped=true&\"\nimport script from \"./Emoji.vue?vue&type=script&lang=js&\"\nexport * from \"./Emoji.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Emoji.vue?vue&type=style&index=0&id=420b79b2&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"420b79b2\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c(\"div\")\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<!-- \r\n  <el-aside width=\"150px\" height=100vh; style=\" position: relative; overflow: hidden; \">\r\n    <div v-if=\"isCollapse\"\r\n      style=\"position: fixed; top:10px; border:0px;text-align: center;z-index: 1000;margin-left:70px; width: 10px; height: 10px;\">\r\n      <el-button @click=\"toggleCollapse\">\r\n        <i :class=\"`el-icon-arrow-${isCollapse ? 'right' : 'left'}`\"></i>\r\n      </el-button>\r\n    </div>\r\n    <div v-else style=\"position: fixed; top:10px; border:0px;text-align: center;z-index: 1000;margin-left: 90px;\">\r\n      <el-button @click=\"toggleCollapse\">\r\n        <i :class=\"`el-icon-arrow-${isCollapse ? 'right' : 'left'}`\"></i>\r\n      </el-button>\r\n    </div>\r\n    <el-menu :default-active=\"isSelect\" @open=\"handleOpen\" @close=\"handleClose\" :collapse=\"isCollapse\">\r\n      <el-menu-item index=\"0\" @click.native=\"goToMain\">\r\n        <img src=\"../imgs/logo.png\" style=\"width: 25px; height: 25px;\" />\r\n        <span slot=\"title\">Yoka</span>\r\n      </el-menu-item>\r\n      <el-menu-item index=\"1\" @click.native=\"goToKnowledgeQA\">\r\n        <i class=\"el-icon-s-opportunity\"></i>\r\n        <span slot=\"title\">知识库问答</span>\r\n      </el-menu-item>\r\n      <el-menu-item index=\"2\" @click.native=\"goToFreeChat\">\r\n        <i class=\"el-icon-chat-dot-square\"></i>\r\n        <span slot=\"title\">自由对话</span>\r\n      </el-menu-item>\r\n      <el-menu-item index=\"3\" @click.native=\"goToCheckChat\">\r\n        <i class=\"el-icon-document\"></i>\r\n        <span slot=\"title\">条款检查</span>\r\n      </el-menu-item>\r\n      <el-menu-item index=\"4\" @click.native=\"goToTitleSetChat\">\r\n        <i class=\"el-icon-s-promotion\"></i>\r\n        <span slot=\"title\">题目生成</span>\r\n      </el-menu-item>\r\n    </el-menu>\r\n\r\n\r\n\r\n    <div class=\"fixed-bottom-menu\">\r\n      <el-menu class=\"el-menu-vertical-demo\" @open=\"handleOpen\" @close=\"handleClose\" :collapse=\"isCollapse\" :default-active=\"isSelect\">\r\n        <el-menu-item index=\"5\" @click.native=\"goToKnowSetting\">\r\n          <i class=\"el-icon-coordinate\"></i>\r\n          <span slot=\"title\">知识管理</span>\r\n        </el-menu-item>\r\n        <el-menu-item index=\"6\" @click.native=\"goToPrompt\">\r\n          <i class=\"el-icon-setting\"></i>\r\n          <span slot=\"title\">prompt设置</span>\r\n        </el-menu-item>\r\n        <el-menu-item index=\"7\" @click.native=\"goToSelectModel\">\r\n          <i class=\"el-icon-chat-dot-round\"></i>\r\n          <span slot=\"title\">模型选择</span>\r\n        </el-menu-item>\r\n        <el-menu-item index=\"8\" @click.native=\"goToHelp\">\r\n          <i class=\"el-icon-magic-stick\"></i>\r\n          <span slot=\"title\">帮助</span>\r\n        </el-menu-item>\r\n      </el-menu>\r\n    </div>\r\n  </el-aside> -->\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nexport default {\r\n  props: {\r\n    isCollapse: {\r\n      type: Boolean,\r\n      required: true\r\n    },\r\n    isSelect: {\r\n      type: String,\r\n      required: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      chat_id: \"\",\r\n      newhistory: {},\r\n      historyArrlist: [],\r\n      configs: [],\r\n      promptall: [],\r\n      models: [],\r\n      promptdefaultvalue: 'default',\r\n      dynamicMarginLeft: '50px',\r\n    }\r\n  },\r\n  methods: {\r\n    goToMain() {\r\n      console.log(\"dddd\")\r\n      window.location.href = '#/ChatHome';\r\n    },\r\n    goToKnowledgeQA() {\r\n      window.location.href = '#/KnowLedgeChat';\r\n    },\r\n    goToFreeChat() {\r\n      window.location.href = '#/FreeChat';\r\n    },\r\n    goToCheckChat() {\r\n      window.location.href = '#/CheckChat';\r\n    },\r\n    goToTitleSetChat() {\r\n      window.location.href = '#/TitleSetChat';\r\n    },\r\n    goToKnowSetting() {\r\n      window.location.href = '#/KnowSetting';\r\n    },\r\n    goToPrompt() {\r\n      window.location.href = '#/Prompt';\r\n    },\r\n    goToSelectModel() {\r\n      window.location.href = '#/SelectModel';\r\n    },\r\n    goToHelp() {\r\n      window.location.href = '#/HelpChat';\r\n    },\r\n    toggleCollapse() {\r\n      this.$emit('update:isCollapse', !this.isCollapse);\r\n      this.dynamicMarginLeft = \"150px\"\r\n    },\r\n    handleOpen(key, keyPath) {\r\n      console.log(key, keyPath);\r\n    },\r\n    handleClose(key, keyPath) {\r\n      console.log(key, keyPath);\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.el-menu .el-menu-item {\r\n    border-radius: 10px;\r\n    /* 圆角 */\r\n}\r\n.el-menu .el-menu-item:hover {\r\n    border-radius: 10px;\r\n    /* 圆角 */\r\n}\r\n\r\n.el-menu-vertical-demo .el-menu-item:hover {\r\n    border-radius: 10px;\r\n    /* 圆角 */\r\n}\r\n.fixed-bottom-menu {\r\n    position: absolute;\r\n    bottom: 0;\r\n    width: 150px;\r\n    height: 250px;\r\n\r\n}\r\n.el-menu-vertical-demo{\r\n}\r\n\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Nav.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Nav.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Nav.vue?vue&type=template&id=7b52f710&scoped=true&\"\nimport script from \"./Nav.vue?vue&type=script&lang=js&\"\nexport * from \"./Nav.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Nav.vue?vue&type=style&index=0&id=7b52f710&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7b52f710\",\n  null\n  \n)\n\nexport default component.exports","export default {\r\n    methods: {\r\n      updateIsCollapse(value) {\r\n        this.isCollapse = value;\r\n      }\r\n    }\r\n  }\r\n  ","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_vm._v(_vm._s(_vm.displayedText))])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>{{ displayedText }}</div>\r\n  </template>\r\n  \r\n  <script>\r\n  export default {\r\n    props: {\r\n      text: {\r\n        type: String,\r\n        required: true,\r\n      },\r\n      speed: {\r\n        type: Number,\r\n        default: 50, // 默认速度为每50毫秒显示一个字符\r\n      },\r\n    },\r\n    data() {\r\n      return {\r\n        displayedText: '',\r\n        currentIndex: 0,\r\n      };\r\n    },\r\n    mounted() {\r\n      this.startStreaming();\r\n    },\r\n    methods: {\r\n      startStreaming() {\r\n        if (this.currentIndex < this.text.length) {\r\n          this.displayedText += this.text[this.currentIndex];\r\n          this.currentIndex++;\r\n          setTimeout(this.startStreaming, this.speed);\r\n        }\r\n      },\r\n    },\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  /* 可以根据需要添加样式 */\r\n  </style>\r\n  ","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./StreamText.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./StreamText.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StreamText.vue?vue&type=template&id=09047708&scoped=true&\"\nimport script from \"./StreamText.vue?vue&type=script&lang=js&\"\nexport * from \"./StreamText.vue?vue&type=script&lang=js&\"\nimport style0 from \"./StreamText.vue?vue&type=style&index=0&id=09047708&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"09047708\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <el-container  class=\"main-bg\">\r\n\r\n    <!-- <Nav :isCollapse=\"isCollapse\" @update:isCollapse=\"updateIsCollapse\" :isSelect=\"selected\"></Nav> -->\r\n\r\n    <el-container style=\" justify-content: center;align-items: center; \">\r\n      <el-header style=\"text-align: center; line-height: 40px;margin-top:120px ; font-family: 'Courier New', Courier, monospace; font-size: 100px; font-weight: 700;\">\r\n        Port AI\r\n      </el-header>\r\n      <el-main style=\" justify-content: center; width: 100%; margin-top: 70px; \">\r\n        <el-row :gutter=\"20\" style=\"margin-top: 40px; \" justify=\"center\">\r\n          <el-col :span=\"12\">\r\n            <el-card @click.native=\"goToKnowledgeQA\">\r\n              <el-row class=\"title-row\">\r\n                <el-col :span=\"22\">\r\n                  <i class=\"el-icon-s-promotion\"></i>\r\n                  <span class=\"main-title\">知识库问答</span>\r\n                </el-col>\r\n                <el-col :span=\"22\">\r\n                  <span class=\"sub-title\">助力安全生产法律条款问答</span>\r\n                </el-col>\r\n              </el-row>\r\n            </el-card>\r\n          </el-col>\r\n          <!-- 居中 -->\r\n          <el-col :span=\"12\">\r\n            <el-card @click.native=\"goToFreeChat\">\r\n              <el-row class=\"title-row\">\r\n                <el-col :span=\"22\">\r\n                  <i class=\"el-icon-s-promotion\"></i>\r\n                  <span class=\"main-title\">自由对话</span>\r\n                </el-col>\r\n                <el-col :span=\"22\">\r\n                  <span class=\"sub-title\">LLM原生对话</span>\r\n                </el-col>\r\n              </el-row>\r\n            </el-card>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row :gutter=\"20\" justify=\"center\" style=\"margin-top: 30px;\">\r\n          <el-col :span=\"12\">\r\n            <el-card @click.native=\"goToCheckChat\">\r\n              <el-row class=\"title-row\">\r\n                <el-col :span=\"22\">\r\n                  <i class=\"el-icon-s-promotion\"></i>\r\n                  <span class=\"main-title\">条款检查</span>\r\n                </el-col>\r\n                <el-col :span=\"22\">\r\n                  <span class=\"sub-title\">新旧条款校对与分析</span>\r\n                </el-col>\r\n              </el-row>\r\n            </el-card>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <el-card @click.native=\"goToTitleSetChat\">\r\n              <el-row class=\"title-row\">\r\n                <el-col :span=\"22\">\r\n                  <i class=\"el-icon-s-promotion\"></i>\r\n                  <span class=\"main-title\">题目生成</span>\r\n                </el-col>\r\n                <el-col :span=\"22\">\r\n                  <span class=\"sub-title\">基于法规条款的单选题生成</span>\r\n                </el-col>\r\n              </el-row>\r\n            </el-card>\r\n          </el-col>\r\n        </el-row>\r\n      </el-main>\r\n\r\n    </el-container>\r\n  </el-container>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"App\",\r\n  components: {\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.home {\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background-color: rgb(249, 248, 247);\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 50%;\r\n  transform: translate(-50%, -50%);\r\n}\r\n\r\n.el-menu-vertical-demo:not(.el-menu--collapse) {\r\n  width: 150px;\r\n  min-height: 400px;\r\n}\r\n\r\n.el-menu-vertical-demo::before {\r\n  // // content: \"\";\r\n  // // position: absolute;\r\n  // // top: 0;\r\n  // // left: 0;\r\n  // // width: 100%;\r\n  // // height: 100%;\r\n  // // background-color: rgba(0, 0, 0, 0);\r\n  // // /* 设置初始背景色透明 */\r\n  // // z-index: -1;\r\n  // // transition: background-color 0.3s ease;\r\n  // /* 添加过渡效果 */\r\n}\r\n\r\n.title-row {\r\n  padding: 14px;\r\n}\r\n\r\n.main-title {\r\n  margin-left: 8px;\r\n  /* Adjust the space between icon and title as needed */\r\n  font-size: 20px;\r\n  /* Your desired size for the main title */\r\n  vertical-align: middle;\r\n}\r\n\r\n.sub-title {\r\n  /* Styling for subtitle, if necessary */\r\n}\r\n\r\n.main-bg{\r\n  height: 100vh; \r\n  background: linear-gradient(to right, #eef4ff, #f2fbff);\r\n}\r\n\r\n</style>\r\n<script>\r\nwindow.addEventListener('resize', function() {\r\n  var asideRect = document.querySelector('aside').getBoundingClientRect();\r\n  var fixedButton = document.querySelector('.fixed-button');\r\n  fixedButton.style.top = asideRect.top + 'px';  // 调整 top 值以跟随 aside\r\n});\r\nimport Emoji from \"@/components/Emoji.vue\";\r\nimport Nav from \"@/components/Nav.vue\";\r\nimport commonMethodsMixin from '../util/publicfun.js';\r\nimport StreamText from '@/components/StreamText.vue';\r\n  export default {\r\n    mixins: [commonMethodsMixin],\r\n    components: {\r\n        Emoji,\r\n        Nav,\r\n        StreamText\r\n    },\r\n    data() {\r\n      return {\r\n        selected: '0',\r\n        isCollapse: false,\r\n        cards: [\r\n        {\r\n          icon: 'el-icon-info',\r\n          title: '标题一',\r\n          subtitle: '副标题一'\r\n        },\r\n        {\r\n          icon: 'el-icon-warning',\r\n          title: '标题二',\r\n          subtitle: '副标题二'\r\n        },\r\n        {\r\n          icon: 'el-icon-error',\r\n          title: '标题三',\r\n          subtitle: '副标题三'\r\n        },\r\n        {\r\n          icon: 'el-icon-success',\r\n          title: '标题四',\r\n          subtitle: '副标题四'\r\n        }\r\n      ]\r\n\r\n      };\r\n    },\r\n    methods: {\r\n      updateIsCollapse(value) {\r\n            this.isCollapse = value;\r\n            // this.updateIsCollapse(value);\r\n        },\r\n      toggleCollapse() {\r\n      this.isCollapse = !this.isCollapse; // 切换状态\r\n      },\r\n      \r\n      handleOpen(key, keyPath) {\r\n        console.log(key, keyPath);\r\n      },\r\n      handleClose(key, keyPath) {\r\n        console.log(key, keyPath);\r\n      },\r\n      goToMain(){\r\n        window.location.href = '#/ChatHome';\r\n      },\r\n      goToKnowledgeQA(){\r\n        window.location.href = '#/KnowLedgeChat';\r\n      },\r\n      goToFreeChat(){\r\n        window.location.href = '#/FreeChat';\r\n      },\r\n      goToCheckChat(){\r\n        window.location.href = '#/CheckChat';\r\n      },  \r\n      goToTitleSetChat(){\r\n        window.location.href = '#/TitleSetChat';\r\n      },\r\n\r\n      goToKnowSetting(){\r\n        window.location.href = '#/KnowSetting';\r\n      },\r\n      goToPrompt(){\r\n        window.location.href = '#/Prompt';\r\n      },\r\n      goToSelectModel(){\r\n        window.location.href = '#/SelectModel';\r\n      },\r\n      goToHelp(){\r\n        window.location.href = '#/HelpChat';\r\n      },\r\n      submitForm(){\r\n        console.log('Submitting form data along with the fileList:',);\r\n\r\n      },\r\n\r\n    }\r\n  }\r\n</script>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./home.vue?vue&type=template&id=63eb803e&scoped=true&\"\nimport script from \"./home.vue?vue&type=script&lang=js&\"\nexport * from \"./home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./home.vue?vue&type=style&index=0&id=63eb803e&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"63eb803e\",\n  null\n  \n)\n\nexport default component.exports","import axios from 'axios'\r\n\r\n//全局参数，自定义参数可在发送请求时设置\r\naxios.defaults.timeout = 300000000 //超时时间ms\r\naxios.defaults.withCredentials = true\r\n// 请求时的拦截\r\n//回调里面不能获取错误信息\r\naxios.interceptors.request.use(\r\n  function (config) {\r\n\r\n    return config;\r\n  },\r\n  function (error) {\r\n    // 当请求异常时做一些处理\r\n    console.log('请求异常：' + JSON.stringify(error));\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\naxios.interceptors.response.use(function (response) {\r\n  // Do something with response data\r\n\r\n  return response\r\n}, function (error) {\r\n  // Do something with response error\r\n  console.log('响应出错：' + error)\r\n  return Promise.reject(error)\r\n})\r\n\r\n\r\nconst base = {\r\n  axios: axios,\r\n  baseUrl: 'http://localhost:8080'\r\n}\r\n\r\nexport default base\r\n","import base from './index'\r\nlet axios = base.axios\r\nlet baseUrl = base.baseUrl\r\n\r\n// 获取好友\r\nexport const getFriend = params => {\r\n  return axios({\r\n    method: 'post',\r\n    baseURL: `${baseUrl}/friend/friendList`,\r\n    data: params\r\n  }).then(res => res.data)\r\n}\r\n// 获取最初聊天信息\r\nexport const getkbChat = params => {\r\n  return axios({\r\n    method: 'post',\r\n    url: `http://121.43.126.21:8001/chat/new_kb_chat`,\r\n    data: params\r\n  }).then(res => res.data)\r\n}\r\nexport const getclauseChat = params => {\r\n  return axios({\r\n    method: 'post',\r\n    url: `http://121.43.126.21:8001/chat/new_clause_chat`,\r\n    data: params\r\n  }).then(res => res.data)\r\n}\r\nexport const getChat = params => {\r\n  return axios({\r\n    method: 'post',\r\n    url: `http://121.43.126.21:8001/chat/new_chat`,\r\n    data: params\r\n  }).then(res => res.data)\r\n}\r\n// 获取单个聊天信息\r\nexport const getChatchat = params => {\r\n  return axios({\r\n    method: 'post',\r\n    url: `http://121.43.126.21:8001/chat/${params.dialogue_id}/chat?query=${params.query}&config=${params.config}`,\r\n    data: params\r\n  }).then(res => res.data)\r\n}\r\n\r\n\r\n\r\n// 获取聊天信息\r\nexport const chatgpt = params => {\r\n  return axios({\r\n    method: 'post',\r\n    // url: `http://121.43.126.21:8001/chat/knowledge_base_chat`,\r\n\r\n    url: `http://121.43.126.21:8001/chat/${params.dialogue_id}/chat?query=${params.query}&config=${params.config}`,\r\n    data: params,\r\n\r\n  }).then(res => {\r\n    return res\r\n  })\r\n}\r\n// 获取聊天信息\r\nexport const chatupload = params => {\r\n  return axios({\r\n    method: 'post',\r\n    headers: {\r\n      'Content-Type': 'multipart/form-data'\r\n    },\r\n    url: `http://121.43.126.21:8001/upload/img`,\r\n    data: params,\r\n  }).then(res => {\r\n    return res\r\n  })\r\n}\r\n\r\n// 获取history\r\nexport const gethistory = params => {\r\n  return axios({\r\n    method: 'get',\r\n    headers: {\r\n      'Content-Type': 'multipart/form-data'\r\n    },\r\n    url: `http://121.43.126.21:8001/history/chat_history`,\r\n    data: params,\r\n  }).then(res => {\r\n    return res\r\n  })\r\n}\r\n// 获取history\r\nexport const getkbhistory = params => {\r\n  return axios({\r\n    method: 'get',\r\n    headers: {\r\n      'Content-Type': 'multipart/form-data'\r\n    },\r\n    url: `http://121.43.126.21:8001/history/kb_chat_history`,\r\n    data: params,\r\n  }).then(res => {\r\n    return res\r\n  })\r\n}\r\n// 获取history\r\nexport const getclausehistory = params => {\r\n  return axios({\r\n    method: 'get',\r\n    headers: {\r\n      'Content-Type': 'multipart/form-data'\r\n    },\r\n    url: `http://121.43.126.21:8001/history/clause_chat_history`,\r\n    data: params,\r\n  }).then(res => {\r\n    return res\r\n  })\r\n}\r\n// 获取exam\r\nexport const getexam = params => {\r\n  return axios({\r\n    method: 'get',\r\n    headers: {\r\n      'Content-Type': 'multipart/form-data'\r\n    },\r\n    url: `http://121.43.126.21:8001/exam`,\r\n    data: params,\r\n  }).then(res => {\r\n    return res\r\n  })\r\n}\r\n// 获取static\r\nexport const getstatic = params => {\r\n  return axios({\r\n    method: 'get',\r\n    headers: {\r\n      'Content-Type': 'multipart/form-data'\r\n    },\r\n    url: `http://121.43.126.21:8001/static`,\r\n    data: params,\r\n  }).then(res => {\r\n    return res\r\n  })\r\n}\r\n// 条款检查\r\nexport const setclause_check = params => {\r\n  return axios({\r\n    method: 'post',\r\n    headers: {\r\n      'Content-Type': 'multipart/form-data'\r\n    },\r\n    url: `http://121.43.126.21:8001/chat/${params.dialogue_id}/clause_check?query=${params.query}&config=${params.config}`,\r\n    data: params,\r\n  }).then(res => {\r\n    return res\r\n  })\r\n}\r\n// 删除对应id的对话\r\nexport const delete_dialogue = params => {\r\n  return axios({\r\n    method: 'post',\r\n    headers: {\r\n      'Content-Type': 'multipart/form-data'\r\n    },\r\n    url: `http://121.43.126.21:8001/chat/delete_chat/${params.dialogue_id}`,\r\n    data: params,\r\n  }).then(res => {\r\n    return res\r\n  })\r\n}\r\n\r\nexport const chatkbStreamgpt = async (params, handleChunk, handleReferences) => {\r\n  const response = await fetch(`http://121.43.126.21:8001/chat/${params.dialogue_id}/knowledge_base_stream_chat?query=${params.query}&config=${params.config}`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json;charset=UTF-8',\r\n    },\r\n    body: JSON.stringify(params)\r\n  });\r\n\r\n  const readableStream = response.body;\r\n  if (readableStream) {\r\n    const reader = readableStream.getReader();\r\n    let first = true;\r\n    let isReferences = false;\r\n    let references = '';\r\n    \r\n    while (true) {\r\n      const { value, done } = await reader.read();\r\n      if (done) {\r\n        break;\r\n      }\r\n      const chunkValue = new TextDecoder().decode(value);\r\n      const lines = chunkValue.split('\\n').filter(line => line.startsWith('data: '));\r\n      lines.forEach(line => {\r\n        const content = line.slice(6).trim(); // Remove 'data: ' prefix and trim whitespace\r\n        if (isReferences) {\r\n          references = content;\r\n        } else if (content.startsWith('{\"response\"')) {\r\n          \r\n          isReferences = true;\r\n          references = content;\r\n        } else {\r\n          handleChunk(first, content);\r\n        }\r\n        first = false;\r\n      });\r\n    }\r\n    \r\n    reader.releaseLock();\r\n    \r\n    if (isReferences && references) {\r\n      handleReferences(references);\r\n    }\r\n  }\r\n};\r\n\r\nexport const chatclauseStreamgpt = async (params, handleChunk, handleReferences) => {\r\n  const response = await fetch(`http://121.43.126.21:8001/chat/${params.dialogue_id}/clause_stream_check?query=${params.query}&config=${params.config}`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json;charset=UTF-8',\r\n    },\r\n    body: JSON.stringify(params)\r\n  });\r\n\r\n  const readableStream = response.body;\r\n  if (readableStream) {\r\n    const reader = readableStream.getReader();\r\n    let first = true;\r\n    let isReferences = false;\r\n    let references = '';\r\n    let hasdata = false;\r\n    while (true) {\r\n      const { value, done } = await reader.read();\r\n      if (done) {\r\n        break;\r\n      }\r\n      const chunkValue = new TextDecoder().decode(value);\r\n      const lines = chunkValue.split('\\n').filter(line => line.startsWith('data: '));\r\n      lines.forEach(line => {\r\n        const content = line.slice(6).trim(); // Remove 'data: ' prefix and trim whitespace\r\n        if (isReferences) {\r\n          references = content;\r\n        } else if (content.startsWith('{\"response\"')) {\r\n          isReferences = true;\r\n          references = content;\r\n        } else {\r\n          hasdata =true\r\n          handleChunk(first, content);\r\n        }\r\n        first = false;\r\n      });\r\n      if(hasdata == false){\r\n        handleChunk(true, \"\");\r\n      }\r\n    }\r\n    \r\n    reader.releaseLock();\r\n    \r\n    if (isReferences && references) {\r\n      handleReferences(references);\r\n    }\r\n  }\r\n};\r\nexport const chatStreamgpt = async (params, handleChunk, handleReferences) => {\r\n  const response = await fetch(`http://121.43.126.21:8001/chat/${params.dialogue_id}/stream_chat?query=${params.query}&config=${params.config}`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json;charset=UTF-8',\r\n    },\r\n    body: JSON.stringify(params)\r\n  });\r\n\r\n  const readableStream = response.body;\r\n  if (readableStream) {\r\n    const reader = readableStream.getReader();\r\n    let first = true;\r\n    let isReferences = false;\r\n    let references = '';\r\n    \r\n    while (true) {\r\n      const { value, done } = await reader.read();\r\n      if (done) {\r\n        break;\r\n      }\r\n      const chunkValue = new TextDecoder().decode(value);\r\n      const lines = chunkValue.split('\\n').filter(line => line.startsWith('data: '));\r\n      lines.forEach(line => {\r\n        const content = line.slice(6).trim(); // Remove 'data: ' prefix and trim whitespace\r\n        if (isReferences) {\r\n          references = content;\r\n        } else if (content.startsWith('{\"response\"')) {\r\n          isReferences = true;\r\n          references = content;\r\n        } \r\n        else if (content.startsWith('\"markdown\"')) {\r\n          handleChunk(first, \"\");\r\n        } \r\n        else {\r\n          handleChunk(first, content);\r\n        }\r\n        first = false;\r\n      });\r\n    }\r\n    \r\n    reader.releaseLock();\r\n    \r\n    if (isReferences && references) {\r\n      handleReferences(references);\r\n    }\r\n  }\r\n};\r\n// 条款检查上传\r\n\r\nexport const upload_exam = async (file, handleChunk) => {\r\n  \r\n\r\n  try {\r\n    const response = await fetch('http://121.43.126.21:8001/exam/upload_exam', {\r\n      method: 'POST',\r\n      headers: {\r\n        'accept': 'application/json',\r\n      },\r\n      body: file,\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP error! status: ${response.status}`);\r\n    }\r\n\r\n    const readableStream = response.body;\r\n    if (readableStream) {\r\n      const reader = readableStream.getReader();\r\n      const decoder = new TextDecoder();\r\n      let buffer = '';\r\n\r\n      while (true) {\r\n        const { value, done } = await reader.read();\r\n        if (done) break;\r\n\r\n        buffer += decoder.decode(value, { stream: true });\r\n\r\n        let boundaryIndex;\r\n        while ((boundaryIndex = buffer.indexOf('data: ')) !== -1) {\r\n          const lineEndIndex = buffer.indexOf('\\n', boundaryIndex);\r\n          if (lineEndIndex === -1) break;\r\n\r\n          const chunkValue = buffer.substring(boundaryIndex + 6, lineEndIndex).trim(); // Remove 'data: ' prefix and trim whitespace\r\n          buffer = buffer.substring(lineEndIndex + 1);\r\n\r\n          if (chunkValue) {\r\n            handleChunk(chunkValue);\r\n          }\r\n        }\r\n      }\r\n\r\n      // Process any remaining buffered data\r\n      // if (buffer.length > 0) {\r\n      //   handleChunk(buffer);\r\n      // }\r\n\r\n      reader.releaseLock();\r\n    }\r\n  } catch (error) {\r\n    console.error('Error uploading file', error);\r\n  }\r\n};\r\n\r\n\r\n\r\nexport const upload_kg = async (file, handleChunk) => {\r\n  const formData = new FormData();\r\n  formData.append('file', file.file);\r\n\r\n  // 发送文件上传请求并逐条处理返回的数据流\r\n  const response = await axios.post('http://121.43.126.21:8001/knowledge/upload_kg', formData, {\r\n    headers: {\r\n      'Content-Type': 'multipart/form-data'\r\n    },\r\n    responseType: 'stream' // 使用流式响应\r\n  });\r\n\r\n  const reader = response.body.getReader();\r\n  const decoder = new TextDecoder();\r\n  let buffer = '';\r\n\r\n  while (true) {\r\n    const { value, done } = await reader.read();\r\n    if (done) break;\r\n\r\n    buffer += decoder.decode(value, { stream: true });\r\n\r\n    let boundaryIndex;\r\n    while ((boundaryIndex = buffer.indexOf('\"content\":')) !== -1) {\r\n      const start = boundaryIndex + 10;\r\n      const end = buffer.indexOf('}', start);\r\n      if (end === -1) break;\r\n\r\n      const chunk = buffer.substring(start, end).trim();\r\n      buffer = buffer.substring(end + 1);\r\n\r\n      const contentMatch = chunk.match(/\"(.*?)\"/);\r\n      if (contentMatch) {\r\n        const content = contentMatch[1];\r\n        handleChunk(content);\r\n      }\r\n    }\r\n  }\r\n\r\n  reader.releaseLock();\r\n};\r\n\r\n// 获取聊天信息\r\nexport const clause_doc_stream_check1 = params => {\r\n  return axios({\r\n    method: 'post',\r\n    headers: {\r\n      'Content-Type': 'multipart/form-data'\r\n    },\r\n    url: `http://121.43.126.21:8001/chat/${params.dialogue_id}/clause_doc_stream_check?config=${params.config}`,\r\n    data: params.file,\r\n\r\n  }).then(res => {\r\n    return res\r\n  })\r\n}\r\nexport const clause_doc_stream_check = async (params, handleChunk, handleReferences) => {\r\n  const formData = new FormData();\r\n  // Assuming params.file is already a FormData object, if not, add the fields manually\r\n  formData.append('file', params.file);\r\n\r\n  // Ensure config is URL encoded\r\n\r\n  const response = await fetch(`http://121.43.126.21:8001/chat/${params.dialogue_id}/clause_doc_stream_check?config=${params.config}`, {\r\n    method: 'post',\r\n    body: formData\r\n  });\r\n\r\n  if (!response.ok) {\r\n    throw new Error(`HTTP error! status: ${response.status}`);\r\n  }\r\n\r\n  const readableStream = response.body;\r\n  if (readableStream) {\r\n    const reader = readableStream.getReader();\r\n    let first = true;\r\n    let isReferences = false;\r\n    let references = '';\r\n    \r\n    while (true) {\r\n      const { value, done } = await reader.read();\r\n      if (done) {\r\n        break;\r\n      }\r\n      const chunkValue = new TextDecoder().decode(value);\r\n      const lines = chunkValue.split('\\n').filter(line => line.startsWith('data: '));\r\n      lines.forEach(line => {\r\n        const content = line.slice(6).trim(); // Remove 'data: ' prefix and trim whitespace\r\n        if (isReferences) {\r\n          references = content;\r\n        } else if (content.startsWith('{\"response\"')) {\r\n          isReferences = true;\r\n          references = content;\r\n        } \r\n        else if (content.startsWith('\"markdown\"')) {\r\n          handleChunk(first, \"\");\r\n        } \r\n        else {\r\n          handleChunk(first, content);\r\n        }\r\n        first = false;\r\n      });\r\n    }\r\n    \r\n    reader.releaseLock();\r\n    \r\n    if (isReferences && references) {\r\n      handleReferences(references);\r\n    }\r\n  }\r\n};\r\nexport const chatFileStreamgpt = async (params, handleChunk, handleReferences) => {\r\n  const response = await fetch(`http://121.43.126.21:8001/chat/${params.dialogue_id}/stream_doc_chat?query=${params.query}&config=${params.config}`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json;charset=UTF-8',\r\n    },\r\n    body: JSON.stringify(params)\r\n  });\r\n\r\n  const readableStream = response.body;\r\n  if (readableStream) {\r\n    const reader = readableStream.getReader();\r\n    let first = true;\r\n    let isReferences = false;\r\n    let references = '';\r\n    \r\n    while (true) {\r\n      const { value, done } = await reader.read();\r\n      if (done) {\r\n        break;\r\n      }\r\n      const chunkValue = new TextDecoder().decode(value);\r\n      const lines = chunkValue.split('\\n').filter(line => line.startsWith('data: '));\r\n      lines.forEach(line => {\r\n        const content = line.slice(6).trim(); // Remove 'data: ' prefix and trim whitespace\r\n        if (isReferences) {\r\n          references = content;\r\n        } else if (content.startsWith('{\"response\"')) {\r\n          \r\n          isReferences = true;\r\n          references = content;\r\n        } else {\r\n          handleChunk(first, content);\r\n        }\r\n        first = false;\r\n      });\r\n    }\r\n    \r\n    reader.releaseLock();\r\n    \r\n    if (isReferences && references) {\r\n      handleReferences(references);\r\n    }\r\n  }\r\n};\r\n// 获取聊天信息\r\nexport const upload_doc = params => {\r\n  return axios({\r\n    method: 'post',\r\n    headers: {\r\n      'Content-Type': 'multipart/form-data'\r\n    },\r\n    url: `http://121.43.126.21:8001/upload/doc?config=${params.config}`,\r\n    data: params.file,\r\n\r\n  }).then(res => {\r\n    return res\r\n  })\r\n}\r\nexport const chatImgStreamgpt = async (params, handleChunk, handleReferences) => {\r\n  const response = await fetch(`http://121.43.126.21:8001/chat/${params.dialogue_id}/stream_img_chat?query=${params.query}&config=${params.config}`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json;charset=UTF-8',\r\n    },\r\n    body: JSON.stringify(params)\r\n  });\r\n\r\n  const readableStream = response.body;\r\n  if (readableStream) {\r\n    const reader = readableStream.getReader();\r\n    let first = true;\r\n    let isReferences = false;\r\n    let references = '';\r\n    \r\n    while (true) {\r\n      const { value, done } = await reader.read();\r\n      if (done) {\r\n        break;\r\n      }\r\n      const chunkValue = new TextDecoder().decode(value);\r\n      const lines = chunkValue.split('\\n').filter(line => line.startsWith('data: '));\r\n      lines.forEach(line => {\r\n        const content = line.slice(6).trim(); // Remove 'data: ' prefix and trim whitespace\r\n        if (isReferences) {\r\n          references = content;\r\n        } else if (content.startsWith('{\"response\"')) {\r\n          \r\n          isReferences = true;\r\n          references = content;\r\n        } else {\r\n          handleChunk(first, content);\r\n        }\r\n        first = false;\r\n      });\r\n    }\r\n    \r\n    reader.releaseLock();\r\n    \r\n    if (isReferences && references) {\r\n      handleReferences(references);\r\n    }\r\n  }\r\n};\r\nexport const upload_img = params => {\r\n  return axios({\r\n    method: 'post',\r\n    headers: {\r\n      'Content-Type': 'multipart/form-data'\r\n    },\r\n    url: `http://121.43.126.21:8001/upload/img`,\r\n    data: params.file,\r\n\r\n  }).then(res => {\r\n    return res\r\n  })\r\n}","<template>\r\n  <div id=\"app\">\r\n    <router-view />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport Home from './view/home.vue'\r\n\r\nimport { getChatMsg, gethistory,getstatic } from \"@/api/getData\";\r\n\r\nexport default {\r\n  name: 'App',\r\n  components: {\r\n    Home\r\n  },\r\n  data:{\r\n    configs:[],\r\n    kbs:[],\r\n    models:[],\r\n    prompts:[],\r\n  },\r\n  created(){\r\n    getstatic().then((res)=>{\r\n      console.log(\"全局\",res.data)\r\n      this.configs = res.data.configs\r\n      this.kbs = res.data.kbs\r\n      this.models = res.data.models\r\n      this.prompts = res.data.prompts\r\n\r\n    }).catch((err)=>{\r\n      console.log(\"err\",err)\r\n    })\r\n  }\r\n\r\n}\r\n</script>\r\n<!-- <script src=\"http://at.alicdn.com/t/c/font_4543431_6b3jbyyzxqg.js\"></script> -->\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n@import url(./assets/font/iconfont.css);\r\n.iconfont {\r\n  font-family: \"iconfont\" !important;\r\n  font-style: normal;\r\n  font-size: 25px;\r\n  vertical-align: middle;\r\n  color: rgb(117,120,137);\r\n  transition: .3s;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n}\r\n\r\n* {\r\n  padding: 0;\r\n  margin: 0;\r\n}\r\n\r\n#app {\r\n  //width: 100vw;\r\n  height: 100vh;\r\n  //background-color: rgb(151,157,167);\r\n  overflow: hidden;\r\n}\r\n\r\nbody {\r\n  box-sizing: border-box;\r\n  font-family: Oxygen, Arial, sans-serif;\r\n}\r\n\r\nrouter-link {\r\n  text-decoration: none !important;\r\n}\r\n\r\n@font-face {\r\n  font-family: 'Oxygen';\r\n  src: url(\"@/assets/font/Oxygen-Light.ttf\");\r\n}\r\nhtml body a:-webkit-any-link {\r\n  text-decoration: none !important;\r\n  color:transparent\r\n}\r\n.icon {\r\n    width: 1em; height: 1em;\r\n    vertical-align: -0.15em;\r\n    overflow: hidden;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=b547d7b4&scoped=true&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=b547d7b4&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b547d7b4\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"chatHome\"},[_c('div',{staticClass:\"chatLeft\"},[_c('div',{staticClass:\"online-person\"},[_c('span',{staticClass:\"onlin-text\"},[_vm._v(\"聊天列表\")]),_c('div',{staticClass:\"person-cards-wrapper\"},_vm._l((_vm.personList),function(personInfo){return _c('div',{key:personInfo.id,staticClass:\"personList\",on:{\"click\":function($event){return _vm.clickPerson(personInfo)}}},[_c('PersonCard',{attrs:{\"personInfo\":personInfo,\"pcCurrent\":_vm.pcCurrent}})],1)}),0)])]),_c('div',{staticClass:\"chatRight\"},[(_vm.showChatWindow)?_c('div',[_c('ChatWindow',{attrs:{\"frinedInfo\":_vm.chatWindowInfo},on:{\"personCardSort\":_vm.personCardSort}})],1):_c('div',{staticClass:\"showIcon\"},[_c('span',{staticClass:\"iconfont icon-snapchat\"})])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"person-card\",class:{ activeCard: _vm.personInfo.id == _vm.current }},[_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"info-detail\"},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.personInfo.name))]),_c('div',{staticClass:\"detail\"},[_vm._v(_vm._s(_vm.personInfo.detail))])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"head-portrait\"},[_c('img',{attrs:{\"src\":_vm.imgUrl,\"alt\":\"\"}})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"head-portrait\">\r\n    <img :src=\"imgUrl\" alt=\"\">\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    props: {\r\n        imgUrl:{ default:require('@/assets/img/head_portrait.jpg')}\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.head-portrait {\r\n    width: 50px;\r\n    height: 50px;\r\n    border-radius: 50%;\r\n    // border: 2px solid rgb(137,140,151);\r\n    border: 2px solid rgb(255, 255, 255);\r\n    position:relative;\r\n    &::before {\r\n        content: '';\r\n        width: 15px;\r\n        height: 15px;\r\n        z-index: 1;\r\n        display: block;\r\n        border-radius: 50%;\r\n        background-color: rgb(144,225,80);\r\n        position: absolute;\r\n        right: 0;\r\n    }\r\n    img {\r\n        width: 45px;\r\n        height: 45px;\r\n        border-radius: 50%;\r\n        // padding: 2px;\r\n        box-sizing: border-box;\r\n        position: absolute;\r\n        left: 50%;\r\n        top: 50%;\r\n        transform: translate(-50%, -50%);\r\n        vertical-align: middle;\r\n    }\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HeadPortrait.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HeadPortrait.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HeadPortrait.vue?vue&type=template&id=fefd1e26&scoped=true&\"\nimport script from \"./HeadPortrait.vue?vue&type=script&lang=js&\"\nexport * from \"./HeadPortrait.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HeadPortrait.vue?vue&type=style&index=0&id=fefd1e26&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fefd1e26\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"person-card\" :class=\"{ activeCard: personInfo.id == current }\">\r\n    <div class=\"info\">\r\n          <!-- <HeadPortrait :imgUrl=\"personInfo.headImg\"></HeadPortrait> -->\r\n          <div class=\"info-detail\">\r\n            <div class=\"name\">{{ personInfo.name }}</div>\r\n            <div class=\"detail\">{{ personInfo.detail }}</div>\r\n          </div>\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport HeadPortrait from \"./HeadPortrait.vue\";\r\n\r\nexport default {\r\n  props: {\r\n    personInfo: {\r\n      default: {\r\n      },\r\n    },\r\n    pcCurrent: {\r\n      default: ''\r\n    }\r\n  },\r\n  components: {\r\n    HeadPortrait,\r\n  },\r\n  data() {\r\n    return {\r\n      current: '',\r\n    }\r\n  },\r\n  watch: {\r\n    pcCurrent: function() {\r\n      this.isActive()\r\n    }\r\n  },\r\n  methods: {\r\n    isActive() {\r\n      this.current = this.pcCurrent\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.person-card {\r\n  width: 250px;\r\n  height: 80px;\r\n  border-radius: 10px;\r\n  background-color: rgb(50, 54, 68);\r\n  position: relative;\r\n  margin: 25px 0;\r\n  cursor: pointer;\r\n  .info {\r\n    position: absolute;\r\n    left: 50%;\r\n    top: 50%;\r\n    width: 90%;\r\n    transform: translate(-50%, -50%);\r\n    overflow: hidden;\r\n    display: flex;\r\n    .info-detail {\r\n      margin-top: 5px;\r\n      margin-left: 20px;\r\n      .name {\r\n        color: #fff;\r\n        overflow: hidden;\r\n        white-space: nowrap;\r\n        text-overflow: ellipsis;\r\n        margin-bottom: 5px;\r\n      }\r\n      .detail {\r\n        color: #5c6675;\r\n        overflow: hidden;\r\n        white-space: nowrap;\r\n        text-overflow: ellipsis;\r\n        font-size: 12px;\r\n      }\r\n    }\r\n  }\r\n  &:hover {\r\n    background-color: #1d90f5;\r\n    transition: 0.3s;\r\n    box-shadow: 0px 0px 10px 0px rgba(0, 136, 255);\r\n    // box-shadow:  0 5px 20px rgba(251, 152, 11, .5);\r\n    .info {\r\n      .info-detail {\r\n        .detail {\r\n          color: #fff;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n.activeCard {\r\n    background-color: #1d90f5;\r\n    transition: 0.3s;\r\n    box-shadow: 3px 2px 10px 0px rgba(0, 136, 255);\r\n    .info {\r\n      .info-detail {\r\n        .detail {\r\n          color: #fff;\r\n        }\r\n      }\r\n    }\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PersonCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PersonCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PersonCard.vue?vue&type=template&id=76795be9&scoped=true&\"\nimport script from \"./PersonCard.vue?vue&type=script&lang=js&\"\nexport * from \"./PersonCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PersonCard.vue?vue&type=style&index=0&id=76795be9&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"76795be9\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"chat-window\"},[_c('div',{staticClass:\"top\"},[_c('div',{staticClass:\"info-detail\"},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.frinedInfo.name))]),_c('div',{staticClass:\"detail\"},[_vm._v(_vm._s(_vm.frinedInfo.detail))])]),_c('div',{staticClass:\"other-fun\"},[_c('span',{staticClass:\"iconfont icon-shipin\",on:{\"click\":_vm.video}}),_c('span',{staticClass:\"iconfont icon-gf-telephone\",on:{\"click\":_vm.telephone}}),_vm._m(0),_vm._m(1),_c('input',{attrs:{\"type\":\"file\",\"name\":\"\",\"id\":\"imgFile\",\"accept\":\"image/*\"},on:{\"change\":_vm.sendImg}}),_c('input',{attrs:{\"type\":\"file\",\"name\":\"\",\"id\":\"docFile\",\"accept\":\"application/*,text/*\"},on:{\"change\":_vm.sendFile}})])]),_c('div',{staticClass:\"botoom\"},[_c('div',{ref:\"chatContent\",staticClass:\"chat-content\"},_vm._l((_vm.chatList),function(item,index){return _c('div',{key:item.id,staticClass:\"chat-wrapper\"},[(item.uid !== '1001')?_c('div',{staticClass:\"chat-friend\"},[_c('div',{staticClass:\"info-time\"},[_c('img',{attrs:{\"src\":item.headImg,\"alt\":\"\"}}),_c('span',[_vm._v(_vm._s(item.name))]),_c('span',[_vm._v(_vm._s(item.time))])]),(item.chatType == 0)?_c('div',{staticClass:\"chat-text\"},[(_vm.isSend && index == _vm.chatList.length - 1)?[_c('span',{staticClass:\"flash_cursor\"})]:[_c('pre',[_vm._v(_vm._s(item.msg))])]],2):_vm._e(),(item.chatType == 1)?_c('div',{staticClass:\"chat-img\"},[(item.extend.imgType == 1)?_c('img',{staticStyle:{\"width\":\"100px\",\"height\":\"100px\"},attrs:{\"src\":item.msg,\"alt\":\"表情\"}}):_c('el-image',{attrs:{\"src\":item.msg,\"preview-src-list\":_vm.srcImgList}})],1):_vm._e(),(item.chatType == 2)?_c('div',{staticClass:\"chat-img\"},[_c('div',{staticClass:\"word-file\"},[_c('FileCard',{attrs:{\"fileType\":item.extend.fileType,\"file\":item.msg}})],1)]):_vm._e()]):_c('div',{staticClass:\"chat-me\"},[_c('div',{staticClass:\"info-time\"},[_c('span',[_vm._v(_vm._s(item.name))]),_c('span',[_vm._v(_vm._s(item.time))]),_c('img',{attrs:{\"src\":item.headImg,\"alt\":\"\"}})]),(item.chatType == 0)?_c('div',{staticClass:\"chat-text\"},[_vm._v(\" \"+_vm._s(item.msg)+\" \")]):_vm._e(),(item.chatType == 1)?_c('div',{staticClass:\"chat-img\"},[(item.extend.imgType == 1)?_c('img',{staticStyle:{\"width\":\"100px\",\"height\":\"100px\"},attrs:{\"src\":item.msg,\"alt\":\"表情\"}}):_c('el-image',{staticStyle:{\"max-width\":\"300px\",\"border-radius\":\"10px\"},attrs:{\"src\":item.msg,\"preview-src-list\":_vm.srcImgList}})],1):_vm._e(),(item.chatType == 2)?_c('div',{staticClass:\"chat-img\"},[_c('div',{staticClass:\"word-file\"},[_c('FileCard',{attrs:{\"fileType\":item.extend.fileType,\"file\":item.msg}})],1)]):_vm._e()])])}),0),_c('div',{staticClass:\"chatInputs\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inputMsg),expression:\"inputMsg\"}],staticClass:\"inputs\",domProps:{\"value\":(_vm.inputMsg)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.sendText.apply(null, arguments)},\"input\":function($event){if($event.target.composing)return;_vm.inputMsg=$event.target.value}}}),_c('el-button',{staticClass:\"send boxinput\",attrs:{\"disabled\":_vm.isSend},on:{\"click\":_vm.sendText}},[_c('img',{attrs:{\"src\":require(\"@/assets/img/emoji/rocket.png\"),\"alt\":\"\"}})])],1)])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('label',{attrs:{\"for\":\"docFile\"}},[_c('span',{staticClass:\"iconfont icon-wenjian\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('label',{attrs:{\"for\":\"imgFile\"}},[_c('span',{staticClass:\"iconfont icon-tupian\"})])\n}]\n\nexport { render, staticRenderFns }","//防抖\r\nexport function debounce(fn) {\r\n    console.log(1)\r\n    let t = null //只会执行一次\r\n    debugger\r\n\r\n    return function (){\r\n        if(t){\r\n            clearTimeout(t)\r\n        }\r\n        t = setTimeout(()=>{\r\n            console.log(temp);  //可以获取\r\n            // console.log(arguments[0]) //undefined\r\n            fn.apply(this,arguments)\r\n            //在这个回调函数里面的argument是这个回调函数的参数，因为没有参数所以undefined，可以通过外面的函数赋值来进行访问\r\n            //也可以改变成箭头函数,箭头函数的this是指向定义函数的那一层的，所以访问到的arguments是上一层函数的arguments\r\n        },1000)\r\n\r\n    }\r\n}\r\n//节流\r\nexport function throttle(fn, delay = 200) {\r\n    let timer = null\r\n    console.log(fn);\r\n    debugger\r\n    return function () {\r\n        if(timer) return\r\n        timer = setTimeout(() => {\r\n            debugger\r\n          fn.apply(this,arguments)\r\n          timer = null\r\n        })\r\n    }\r\n }\r\n//下拉动画\r\n export function animation(obj, target, fn1) {\r\n    // console.log(fn1);\r\n    // fn是一个回调函数，在定时器结束的时候添加\r\n    // 每次开定时器之前先清除掉定时器\r\n    clearInterval(obj.timer);\r\n    obj.timer = setInterval(function () {\r\n      // 步长计算公式  越来越小\r\n      // 步长取整\r\n      var step = (target - obj.scrollTop) / 10;\r\n      step = step > 0 ? Math.ceil(step) : Math.floor(step);\r\n      if (obj.scrollTop >= target) {\r\n        clearInterval(obj.timer);\r\n        // 如果fn1存在，调用fn\r\n        if (fn1) {\r\n          fn1();\r\n        }\r\n      } else {\r\n        // 每30毫秒就将新的值给obj.left\r\n        obj.scrollTop = obj.scrollTop + step;\r\n      }\r\n    }, 10);\r\n  }\r\n\r\n  //判断文件类型\r\n  export function judgeFileType(file) {\r\n    if (file == null||file == \"\"){  \r\n         alert(\"请选择要上传的图片!\");  \r\n         return false;  \r\n    }  \r\n    if (file.lastIndexOf('.')==-1){    //如果不存在\".\"    \r\n        alert(\"路径不正确!\");  \r\n        return false;  \r\n    }  \r\n    var AllImgExt=\".jpg|.jpeg|.gif|.bmp|.png|\";  \r\n    var extName = file.substring(file.lastIndexOf(\".\")).toLowerCase();//（把路径中的所有字母全部转换为小写）          \r\n    if(AllImgExt.indexOf(extName+\"|\")==-1)          \r\n    {  \r\n        ErrMsg=\"该文件类型不允许上传。请上传 \"+AllImgExt+\" 类型的文件，当前文件类型为\"+extName;  \r\n        alert(ErrMsg);  \r\n        return false;  \r\n    }  \r\n  }\r\n\r\n  //文件类型\r\n  export function fileType() {\r\n    return {\r\n      'application/msword': 'word',\r\n      'application/pdf': 'pdf',\r\n      'application/vnd.ms-powerpoint': 'ppt',\r\n      'application/vnd.ms-excel': 'excel',\r\n      'aplication/zip': 'zpi',\r\n    }\r\n  }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"file-card\"},[(_vm.fileType == 0)?_c('img',{attrs:{\"src\":require(\"@/assets/img/fileImg/unknowfile.png\"),\"alt\":\"\"}}):(_vm.fileType == 1)?_c('img',{attrs:{\"src\":require(\"@/assets/img/fileImg/word.png\"),\"alt\":\"\"}}):(_vm.fileType == 2)?_c('img',{attrs:{\"src\":require(\"@/assets/img/fileImg/excel.png\"),\"alt\":\"\"}}):(_vm.fileType == 3)?_c('img',{attrs:{\"src\":require(\"@/assets/img/fileImg/ppt.png\"),\"alt\":\"\"}}):(_vm.fileType == 4)?_c('img',{attrs:{\"src\":require(\"@/assets/img/fileImg/pdf.png\"),\"alt\":\"\"}}):(_vm.fileType == 5)?_c('img',{attrs:{\"src\":require(\"@/assets/img/fileImg/zpi.png\"),\"alt\":\"\"}}):_c('img',{attrs:{\"src\":require(\"@/assets/img/fileImg/txt.png\"),\"alt\":\"\"}}),_c('div',{staticClass:\"word\"},[_c('span',[_vm._v(_vm._s(_vm.file.name || '未知'))]),_c('span',[_vm._v(\"154kb\")])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"file-card\">\r\n    <img src=\"@/assets/img/fileImg/unknowfile.png\" alt=\"\" v-if=\"fileType == 0\"/>\r\n    <img src=\"@/assets/img/fileImg/word.png\" alt=\"\" v-else-if=\"fileType == 1\"/>\r\n    <img src=\"@/assets/img/fileImg/excel.png\" alt=\"\" v-else-if=\"fileType == 2\"/>\r\n    <img src=\"@/assets/img/fileImg/ppt.png\" alt=\"\" v-else-if=\"fileType == 3\"/>\r\n    <img src=\"@/assets/img/fileImg/pdf.png\" alt=\"\" v-else-if=\"fileType == 4\"/>\r\n    <img src=\"@/assets/img/fileImg/zpi.png\" alt=\"\" v-else-if=\"fileType == 5\"/>\r\n    <img src=\"@/assets/img/fileImg/txt.png\" alt=\"\" v-else/>\r\n    <div class=\"word\">\r\n      <span\r\n        >{{file.name || '未知'}}</span\r\n      >\r\n      <span>154kb</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  // props: [\"fileType\", \"file\"],\r\n  props: {\r\n    fileType: Number,\r\n    file: File,\r\n    default() {\r\n      return {};\r\n    },\r\n  },\r\n  watch: {\r\n    file() {\r\n      console.log(this.file);\r\n    },\r\n  },  \r\n  mounted() {\r\n    console.log(this.file);\r\n    console.log(this.fileType);\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.file-card {\r\n  width: 250px;\r\n  height: 100px;\r\n  background-color: rgb(45, 48, 63);\r\n  border-radius: 20px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  padding: 10px;\r\n  box-sizing: border-box;\r\n  cursor: pointer;\r\n  &:hover {\r\n    background-color: rgb(33, 36, 54);\r\n  }\r\n  img {\r\n    width: 60px;\r\n    height: 60px;\r\n  }\r\n  .word {\r\n    width: 60%;\r\n    margin-left: 10px;\r\n    overflow: hidden;\r\n    span {\r\n      width: 90%;\r\n      display: inline-block;\r\n      color: #fff;\r\n    }\r\n    span:first-child {\r\n      font-size: 14px;\r\n      overflow: hidden;\r\n      white-space: nowrap;\r\n      text-overflow: ellipsis;\r\n    }\r\n    span:last-child {\r\n      font-size: 12px;\r\n      color: rgb(180, 180, 180);\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FileCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FileCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FileCard.vue?vue&type=template&id=55607d03&scoped=true&\"\nimport script from \"./FileCard.vue?vue&type=script&lang=js&\"\nexport * from \"./FileCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FileCard.vue?vue&type=style&index=0&id=55607d03&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"55607d03\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"chat-window\">\r\n    <div class=\"top\">\r\n      <!-- <div class=\"head-pic\">\r\n        <HeadPortrait :imgUrl=\"frinedInfo.headImg\"></HeadPortrait>\r\n      </div> -->\r\n      <div class=\"info-detail\">\r\n        <div class=\"name\">{{ frinedInfo.name }}</div>\r\n        <div class=\"detail\">{{ frinedInfo.detail }}</div>\r\n      </div>\r\n      <div class=\"other-fun\">\r\n        <span class=\"iconfont icon-shipin\" @click=\"video\"> </span>\r\n        <span class=\"iconfont icon-gf-telephone\" @click=\"telephone\"></span>\r\n        <label for=\"docFile\">\r\n          <span class=\"iconfont icon-wenjian\"></span>\r\n        </label>\r\n        <label for=\"imgFile\">\r\n          <span class=\"iconfont icon-tupian\"></span>\r\n        </label>\r\n        <input type=\"file\" name=\"\" id=\"imgFile\" @change=\"sendImg\" accept=\"image/*\" />\r\n        <input type=\"file\" name=\"\" id=\"docFile\" @change=\"sendFile\" accept=\"application/*,text/*\" />\r\n        <!-- accept=\"application/*\" -->\r\n      </div>\r\n    </div>\r\n    <div class=\"botoom\">\r\n      <div class=\"chat-content\" ref=\"chatContent\">\r\n        <div class=\"chat-wrapper\" v-for=\"(item, index) in chatList\" :key=\"item.id\">\r\n          <!-- <div v-if=\"isSend && index == chatList.length - 1\">\r\n            <div class=\"chat-friend\" v-if=\"item.uid !== '1001'\">\r\n              <div class=\"info-time\">\r\n                <img :src=\"item.headImg\" alt=\"\" />\r\n                <span>{{ item.name }}</span>\r\n                <span>{{ item.time }}</span>\r\n              </div>\r\n              <div class=\"chat-text\" v-if=\"item.chatType == 0\">\r\n                <span class=\"flash_cursor\"></span>\r\n              </div>\r\n            </div> \r\n          </div>-->\r\n          <div class=\"chat-friend\" v-if=\"item.uid !== '1001'\">\r\n            <div class=\"info-time\">\r\n              <img :src=\"item.headImg\" alt=\"\" />\r\n              <span>{{ item.name }}</span>\r\n              <span>{{ item.time }}</span>\r\n            </div>\r\n            <div class=\"chat-text\" v-if=\"item.chatType == 0\">\r\n              <template v-if=\"isSend && index == chatList.length - 1\">\r\n                <span class=\"flash_cursor\"></span>\r\n              </template>\r\n              <template v-else><pre>{{ item.msg }}</pre></template>\r\n            </div>\r\n            <div class=\"chat-img\" v-if=\"item.chatType == 1\">\r\n              <img :src=\"item.msg\" alt=\"表情\" v-if=\"item.extend.imgType == 1\" style=\"width: 100px; height: 100px\" />\r\n              <el-image :src=\"item.msg\" :preview-src-list=\"srcImgList\" v-else>\r\n              </el-image>\r\n            </div>\r\n            <div class=\"chat-img\" v-if=\"item.chatType == 2\">\r\n              <div class=\"word-file\">\r\n                <FileCard :fileType=\"item.extend.fileType\" :file=\"item.msg\"></FileCard>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"chat-me\" v-else>\r\n            <div class=\"info-time\">\r\n              <span>{{ item.name }}</span>\r\n              <span>{{ item.time }}</span>\r\n              <img :src=\"item.headImg\" alt=\"\" />\r\n            </div>\r\n            <div class=\"chat-text\" v-if=\"item.chatType == 0\">\r\n              {{ item.msg }}\r\n            </div>\r\n            <div class=\"chat-img\" v-if=\"item.chatType == 1\">\r\n              <img :src=\"item.msg\" alt=\"表情\" v-if=\"item.extend.imgType == 1\" style=\"width: 100px; height: 100px\" />\r\n              <el-image style=\"max-width: 300px; border-radius: 10px\" :src=\"item.msg\" :preview-src-list=\"srcImgList\"\r\n                v-else>\r\n              </el-image>\r\n            </div>\r\n            <div class=\"chat-img\" v-if=\"item.chatType == 2\">\r\n              <div class=\"word-file\">\r\n                <FileCard :fileType=\"item.extend.fileType\" :file=\"item.msg\"></FileCard>\r\n              </div>\r\n            </div>\r\n\r\n          </div>\r\n\r\n\r\n        </div>\r\n      </div>\r\n      <div class=\"chatInputs\">\r\n        <!-- <div class=\"emoji boxinput\" @click=\"clickEmoji\">\r\n          <img src=\"@/assets/img/emoji/smiling-face.png\" alt=\"\" />\r\n        </div> -->\r\n        <!-- <div class=\"emoji-content\">\r\n          <Emoji\r\n            v-show=\"showEmoji\"\r\n            @sendEmoji=\"sendEmoji\"\r\n            @closeEmoji=\"clickEmoji\"\r\n          ></Emoji>\r\n        </div> -->\r\n        <input class=\"inputs\" v-model=\"inputMsg\" @keyup.enter=\"sendText\" />\r\n        <el-button class=\"send boxinput\" :disabled = \"isSend\" @click=\"sendText\">\r\n          <img src=\"@/assets/img/emoji/rocket.png\" alt=\"\" />\r\n        </el-button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { animation } from \"@/util/util\";\r\nimport { getChatMsg, chatgpt } from \"@/api/getData\";\r\n\r\nimport HeadPortrait from \"@/components/HeadPortrait\";\r\nimport Emoji from \"@/components/Emoji\";\r\nimport FileCard from \"@/components/FileCard.vue\";\r\nexport default {\r\n  components: {\r\n    HeadPortrait,\r\n    Emoji,\r\n    FileCard,\r\n  },\r\n  props: {\r\n    frinedInfo: Object,\r\n    default() {\r\n      return {};\r\n    },\r\n  },\r\n  watch: {\r\n    frinedInfo() {\r\n      this.getFriendChatMsg();\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      chatList: [],\r\n      inputMsg: \"\",\r\n      showEmoji: false,\r\n      friendInfo: {},\r\n      srcImgList: [],\r\n      isSend: false\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getFriendChatMsg();\r\n  },\r\n  methods: {\r\n    //获取聊天记录\r\n    getFriendChatMsg() {\r\n      let params = {\r\n        frinedId: this.frinedInfo.id,\r\n      };\r\n      getChatMsg(params).then((res) => {\r\n        this.chatList = res;\r\n        this.chatList.forEach((item) => {\r\n          if (item.chatType == 2 && item.extend.imgType == 2) {\r\n            this.srcImgList.push(item.msg);\r\n          }\r\n        });\r\n        this.scrollBottom();\r\n\r\n      });\r\n    },\r\n    //发送信息\r\n    sendMsg(msgList) {\r\n      this.chatList.push(msgList);\r\n      this.scrollBottom();\r\n    },\r\n    //获取窗口高度并滚动至最底层\r\n    scrollBottom() {\r\n      this.$nextTick(() => {\r\n        const scrollDom = this.$refs.chatContent;\r\n        animation(scrollDom, scrollDom.scrollHeight - scrollDom.offsetHeight);\r\n      });\r\n    },\r\n    //关闭标签框\r\n    clickEmoji() {\r\n      this.showEmoji = !this.showEmoji;\r\n    },\r\n    //发送文字信息\r\n    sendText() {\r\n      if (this.inputMsg) {\r\n        let chatMsg = {\r\n          headImg: require(\"@/assets/img/head_portrait.jpg\"),\r\n          name: \"卧龙\",\r\n          time: new Date().toLocaleTimeString(),\r\n          msg: this.inputMsg,\r\n          chatType: 0, //信息类型，0文字，1图片\r\n          uid: \"1001\", //uid\r\n        };\r\n        this.sendMsg(chatMsg);\r\n        this.$emit('personCardSort', this.frinedInfo.id)\r\n        this.inputMsg = \"\";\r\n        let data = {\r\n          prompt: chatMsg.msg,\r\n          temperature: 1,\r\n          top_p: 1,\r\n          model: 'text-davinci-003',\r\n          max_tokens: 2048,\r\n          frequency_penalty: 0,\r\n          presence_penalty: 0,\r\n          stop: [\"Human:\", \"AI:\"]\r\n        }\r\n        this.loading = true\r\n        this.isSend = true;\r\n        let chatGPT = {\r\n          headImg: require(\"@/assets/img/head_portrait1.png\"),\r\n          name: \"chatgpt\",\r\n          time: new Date().toLocaleTimeString(),\r\n          msg: \"\",\r\n          chatType: 0, //信息类型，0文字，1图片\r\n          uid: \"1002\", //uid\r\n        };\r\n        this.sendMsg(chatGPT);\r\n        chatgpt(data).then((res) => {\r\n          this.isSend = false;\r\n          this.chatList[this.chatList.length-1].msg = res.choices[0].text;\r\n        });\r\n\r\n\r\n      } else {\r\n        this.$message({\r\n          message: \"消息不能为空哦~\",\r\n          type: \"warning\",\r\n        });\r\n      }\r\n    },\r\n    //发送表情\r\n    sendEmoji(msg) {\r\n      let chatMsg = {\r\n        headImg: require(\"@/assets/img/head_portrait.jpg\"),\r\n        name: \"大毛是小白\",\r\n        time: \"09：12 AM\",\r\n        msg: msg,\r\n        chatType: 1, //信息类型，0文字，1图片\r\n        extend: {\r\n          imgType: 1, //(1表情，2本地图片)\r\n        },\r\n        uid: \"1001\",\r\n      };\r\n      this.sendMsg(chatMsg);\r\n      this.clickEmoji();\r\n    },\r\n    //发送本地图片\r\n    sendImg(e) {\r\n      let _this = this;\r\n      console.log(e.target.files);\r\n      let chatMsg = {\r\n        headImg: require(\"@/assets/img/head_portrait.jpg\"),\r\n        name: \"大毛是小白\",\r\n        time: \"09：12 AM\",\r\n        msg: \"\",\r\n        chatType: 1, //信息类型，0文字，1图片, 2文件\r\n        extend: {\r\n          imgType: 2, //(1表情，2本地图片)\r\n        },\r\n        uid: \"1001\",\r\n      };\r\n      let files = e.target.files[0]; //图片文件名\r\n      if (!e || !window.FileReader) return; // 看是否支持FileReader\r\n      let reader = new FileReader();\r\n      reader.readAsDataURL(files); // 关键一步，在这里转换的\r\n      reader.onloadend = function () {\r\n        chatMsg.msg = this.result; //赋值\r\n        _this.srcImgList.push(chatMsg.msg);\r\n      };\r\n      this.sendMsg(chatMsg);\r\n      e.target.files = null;\r\n    },\r\n    //发送文件\r\n    sendFile(e) {\r\n      let chatMsg = {\r\n        headImg: require(\"@/assets/img/head_portrait.jpg\"),\r\n        name: \"大毛是小白\",\r\n        time: \"09：12 AM\",\r\n        msg: \"\",\r\n        chatType: 2, //信息类型，0文字，1图片, 2文件\r\n        extend: {\r\n          fileType: \"\", //(1word，2excel，3ppt，4pdf，5zpi, 6txt)\r\n        },\r\n        uid: \"1001\",\r\n      };\r\n      let files = e.target.files[0]; //图片文件名\r\n      chatMsg.msg = files;\r\n      console.log(files);\r\n      if (files) {\r\n        switch (files.type) {\r\n          case \"application/msword\":\r\n          case \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\":\r\n            chatMsg.extend.fileType = 1;\r\n            break;\r\n          case \"application/vnd.ms-excel\":\r\n          case \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\":\r\n            chatMsg.extend.fileType = 2;\r\n            break;\r\n          case \"application/vnd.ms-powerpoint\":\r\n          case \"application/vnd.openxmlformats-officedocument.presentationml.presentation\":\r\n            chatMsg.extend.fileType = 3;\r\n            break;\r\n          case \"application/pdf\":\r\n            chatMsg.extend.fileType = 4;\r\n            break;\r\n          case \"application/zip\":\r\n          case \"application/x-zip-compressed\":\r\n            chatMsg.extend.fileType = 5;\r\n            break;\r\n          case \"text/plain\":\r\n            chatMsg.extend.fileType = 6;\r\n            break;\r\n          default:\r\n            chatMsg.extend.fileType = 0;\r\n        }\r\n        this.sendMsg(chatMsg);\r\n        e.target.files = null;\r\n      }\r\n    },\r\n    // 发送语音\r\n    telephone() {\r\n      this.$message(\"该功能还没有开发哦，敬请期待一下吧~🥳\");\r\n    },\r\n    //发送视频\r\n    video() {\r\n      this.$message(\"该功能还没有开发哦，敬请期待一下吧~🥳\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.flash_cursor {\r\n  width: 20px;\r\n  height: 30px;\r\n  display: inline-block;\r\n  background: #d6e3f5;\r\n  opacity: 1;\r\n  animation: glow 800ms ease-out infinite alternate;\r\n}\r\n\r\n@keyframes glow {\r\n  0% {\r\n    opacity: 1;\r\n  }\r\n\r\n  25% {\r\n    opacity: .5;\r\n  }\r\n\r\n  50% {\r\n    opacity: 0;\r\n  }\r\n\r\n  75% {\r\n    opacity: .5;\r\n  }\r\n\r\n  100% {\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n.chat-window {\r\n  width: 100%;\r\n  height: 100%;\r\n  margin-left: 20px;\r\n  position: relative;\r\n\r\n  .top {\r\n    margin-bottom: 50px;\r\n\r\n    &::after {\r\n      content: \"\";\r\n      display: block;\r\n      clear: both;\r\n    }\r\n\r\n    .head-pic {\r\n      float: left;\r\n    }\r\n\r\n    .info-detail {\r\n      float: left;\r\n      margin: 5px 20px 0;\r\n\r\n      .name {\r\n        font-size: 20px;\r\n        font-weight: 600;\r\n        color: #fff;\r\n      }\r\n\r\n      .detail {\r\n        color: #9e9e9e;\r\n        font-size: 12px;\r\n        margin-top: 2px;\r\n      }\r\n    }\r\n\r\n    .other-fun {\r\n      float: right;\r\n      margin-top: 20px;\r\n\r\n      span {\r\n        margin-left: 30px;\r\n        cursor: pointer;\r\n      }\r\n\r\n      // .icon-tupian {\r\n\r\n      // }\r\n      input {\r\n        display: none;\r\n      }\r\n    }\r\n  }\r\n\r\n  .botoom {\r\n    width: 100%;\r\n    height: 70vh;\r\n    background-color: rgb(50, 54, 68);\r\n    border-radius: 20px;\r\n    padding: 20px;\r\n    box-sizing: border-box;\r\n    position: relative;\r\n\r\n    .chat-content {\r\n      width: 100%;\r\n      height: 85%;\r\n      overflow-y: scroll;\r\n      padding: 20px;\r\n      box-sizing: border-box;\r\n\r\n      &::-webkit-scrollbar {\r\n        width: 0;\r\n        /* Safari,Chrome 隐藏滚动条 */\r\n        height: 0;\r\n        /* Safari,Chrome 隐藏滚动条 */\r\n        display: none;\r\n        /* 移动端、pad 上Safari，Chrome，隐藏滚动条 */\r\n      }\r\n\r\n      .chat-wrapper {\r\n        position: relative;\r\n        word-break: break-all;\r\n\r\n        .chat-friend {\r\n          width: 100%;\r\n          float: left;\r\n          margin-bottom: 20px;\r\n          display: flex;\r\n          flex-direction: column;\r\n          justify-content: flex-start;\r\n          align-items: flex-start;\r\n\r\n          .chat-text {\r\n            max-width: 90%;\r\n            padding: 20px;\r\n            border-radius: 20px 20px 20px 5px;\r\n            background-color: rgb(56, 60, 75);\r\n            color: #fff;\r\n\r\n            &:hover {\r\n              background-color: rgb(39, 42, 55);\r\n            }\r\n\r\n            pre{\r\n              white-space: break-spaces;\r\n            }\r\n          }\r\n\r\n          .chat-img {\r\n            img {\r\n              width: 100px;\r\n              height: 100px;\r\n            }\r\n          }\r\n\r\n          .info-time {\r\n            margin: 10px 0;\r\n            color: #fff;\r\n            font-size: 14px;\r\n\r\n            img {\r\n              width: 30px;\r\n              height: 30px;\r\n              border-radius: 50%;\r\n              vertical-align: middle;\r\n              margin-right: 10px;\r\n            }\r\n\r\n            span:last-child {\r\n              color: rgb(101, 104, 115);\r\n              margin-left: 10px;\r\n              vertical-align: middle;\r\n            }\r\n          }\r\n        }\r\n\r\n        .chat-me {\r\n          width: 100%;\r\n          float: right;\r\n          margin-bottom: 20px;\r\n          position: relative;\r\n          display: flex;\r\n          flex-direction: column;\r\n          justify-content: flex-end;\r\n          align-items: flex-end;\r\n\r\n          .chat-text {\r\n            float: right;\r\n            max-width: 90%;\r\n            padding: 20px;\r\n            border-radius: 20px 20px 5px 20px;\r\n            background-color: rgb(29, 144, 245);\r\n            color: #fff;\r\n\r\n            &:hover {\r\n              background-color: rgb(26, 129, 219);\r\n            }\r\n          }\r\n\r\n          .chat-img {\r\n            img {\r\n              max-width: 300px;\r\n              max-height: 200px;\r\n              border-radius: 10px;\r\n            }\r\n          }\r\n\r\n          .info-time {\r\n            margin: 10px 0;\r\n            color: #fff;\r\n            font-size: 14px;\r\n            display: flex;\r\n            justify-content: flex-end;\r\n\r\n            img {\r\n              width: 30px;\r\n              height: 30px;\r\n              border-radius: 50%;\r\n              vertical-align: middle;\r\n              margin-left: 10px;\r\n            }\r\n\r\n            span {\r\n              line-height: 30px;\r\n            }\r\n\r\n            span:first-child {\r\n              color: rgb(101, 104, 115);\r\n              margin-right: 10px;\r\n              vertical-align: middle;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    .chatInputs {\r\n      width: 90%;\r\n      position: absolute;\r\n      bottom: 0;\r\n      margin: 3%;\r\n      display: flex;\r\n\r\n      .boxinput {\r\n        width: 50px;\r\n        height: 50px;\r\n        background-color: rgb(66, 70, 86);\r\n        border-radius: 15px;\r\n        border: 1px solid rgb(80, 85, 103);\r\n        position: relative;\r\n        cursor: pointer;\r\n\r\n        img {\r\n          width: 30px;\r\n          height: 30px;\r\n          position: absolute;\r\n          left: 50%;\r\n          top: 50%;\r\n          transform: translate(-50%, -50%);\r\n        }\r\n      }\r\n\r\n      .emoji {\r\n        transition: 0.3s;\r\n\r\n        &:hover {\r\n          background-color: rgb(46, 49, 61);\r\n          border: 1px solid rgb(71, 73, 82);\r\n        }\r\n      }\r\n\r\n      .inputs {\r\n        width: 90%;\r\n        height: 50px;\r\n        background-color: rgb(66, 70, 86);\r\n        border-radius: 15px;\r\n        border: 2px solid rgb(34, 135, 225);\r\n        padding: 10px;\r\n        box-sizing: border-box;\r\n        transition: 0.2s;\r\n        font-size: 20px;\r\n        color: #fff;\r\n        font-weight: 100;\r\n        margin: 0 20px;\r\n\r\n        &:focus {\r\n          outline: none;\r\n        }\r\n      }\r\n\r\n      .send {\r\n        background-color: rgb(29, 144, 245);\r\n        border: 0;\r\n        transition: 0.3s;\r\n        box-shadow: 0px 0px 5px 0px rgba(0, 136, 255);\r\n\r\n        &:hover {\r\n          box-shadow: 0px 0px 10px 0px rgba(0, 136, 255);\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./chatwindow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./chatwindow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./chatwindow.vue?vue&type=template&id=5bebf295&scoped=true&\"\nimport script from \"./chatwindow.vue?vue&type=script&lang=js&\"\nexport * from \"./chatwindow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./chatwindow.vue?vue&type=style&index=0&id=5bebf295&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5bebf295\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"chatHome\">\r\n    <div class=\"chatLeft\">\r\n      <div class=\"online-person\">\r\n        <span class=\"onlin-text\">聊天列表</span>\r\n        <div class=\"person-cards-wrapper\">\r\n          <div\r\n            class=\"personList\"\r\n            v-for=\"personInfo in personList\"\r\n            :key=\"personInfo.id\"\r\n            @click=\"clickPerson(personInfo)\"\r\n          >\r\n            <PersonCard\r\n              :personInfo=\"personInfo\"\r\n              :pcCurrent=\"pcCurrent\"\r\n            ></PersonCard>\r\n            \r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"chatRight\">\r\n      <!-- <router-view></router-view> -->\r\n      <div v-if=\"showChatWindow\">\r\n        <ChatWindow\r\n          :frinedInfo=\"chatWindowInfo\"\r\n          @personCardSort=\"personCardSort\"\r\n        ></ChatWindow>\r\n      </div>\r\n      <div class=\"showIcon\" v-else>\r\n        <span class=\"iconfont icon-snapchat\"></span>\r\n        <!-- <img src=\"@/assets/img/snapchat.png\" alt=\"\" /> -->\r\n      </div>\r\n    </div>\r\n    <!-- <el-col :span=\"4\"><div class=\"grid-content bg-purple\"></div></el-col> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport PersonCard from \"@/components/PersonCard.vue\";\r\nimport ChatWindow from \"./chatwindow.vue\";\r\n\r\nimport { getFriend } from \"@/api/getData\";\r\nexport default {\r\n  name: \"App\",\r\n  components: {\r\n    PersonCard,\r\n    ChatWindow,\r\n  },\r\n  data() {\r\n    return {\r\n      pcCurrent: \"\",\r\n      personList: [],\r\n      showChatWindow: false,\r\n      chatWindowInfo: {},\r\n    };\r\n  },\r\n  mounted() {\r\n    getFriend().then((res) => {\r\n      console.log(res);\r\n      this.personList = res;\r\n    });\r\n  },\r\n  methods: {\r\n    clickPerson(info) {\r\n      this.showChatWindow = true;\r\n      this.chatWindowInfo = info;\r\n      this.personInfo = info;\r\n      this.pcCurrent = info.id;\r\n    },\r\n    personCardSort(id) {\r\n      if (id !== this.personList[0].id) {\r\n        console.log(id);\r\n        let nowPersonInfo;\r\n        for (let i = 0; i < this.personList.length; i++) {\r\n          if (this.personList[i].id == id) {\r\n            nowPersonInfo = this.personList[i];\r\n            this.personList.splice(i, 1);\r\n            break;\r\n          }\r\n        }\r\n        this.personList.unshift(nowPersonInfo);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.chatHome {\r\n  // margin-top: 20px;\r\n  display: flex;\r\n  .chatLeft {\r\n    width: 280px;\r\n    .title {\r\n      color: #fff;\r\n      padding-left: 10px;\r\n    }\r\n    .online-person {\r\n      margin-top: 60px;\r\n      .onlin-text {\r\n        padding-left: 10px;\r\n        color: rgb(176, 178, 189);\r\n      }\r\n      .person-cards-wrapper {\r\n        padding-left: 10px;\r\n        height: 65vh;\r\n        margin-top: 20px;\r\n        overflow: hidden;\r\n        overflow-y: scroll;\r\n        box-sizing: border-box;\r\n        &::-webkit-scrollbar {\r\n          width: 0; /* Safari,Chrome 隐藏滚动条 */\r\n          height: 0; /* Safari,Chrome 隐藏滚动条 */\r\n          display: none; /* 移动端、pad 上Safari，Chrome，隐藏滚动条 */\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .chatRight {\r\n    flex: 1;\r\n    padding-right: 30px;\r\n    .showIcon {\r\n      position: absolute;\r\n      top: calc(50% - 150px); /*垂直居中 */\r\n      left: calc(50% - 50px); /*水平居中 */\r\n      .icon-snapchat {\r\n        width: 300px;\r\n        height: 300px;\r\n        font-size: 300px;\r\n        // color: rgb(28, 30, 44);\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=43be492b&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=43be492b&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"43be492b\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"video\"},[_vm._v(\" video \")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"video\">\r\n    video\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./video.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./video.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./video.vue?vue&type=template&id=4a220fc7&\"\nimport script from \"./video.vue?vue&type=script&lang=js&\"\nexport * from \"./video.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c(\"div\")\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  \r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./lingting.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./lingting.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./lingting.vue?vue&type=template&id=5b2fe0ca&\"\nimport script from \"./lingting.vue?vue&type=script&lang=js&\"\nexport * from \"./lingting.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"setting\"},[_vm._v(\" setting \")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"setting\">\r\n    setting\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./setting.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./setting.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./setting.vue?vue&type=template&id=40ffbe08&\"\nimport script from \"./setting.vue?vue&type=script&lang=js&\"\nexport * from \"./setting.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-container',{staticStyle:{\"height\":\"100vh\"}},[_c('el-aside',{staticStyle:{\"background-color\":\"rgb(238, 241, 246)\"},attrs:{\"width\":\"200px\"}},[_c('el-menu',[_c('el-menu-item',{attrs:{\"index\":\"1\"}},[_vm._v(\"主页\")]),_c('div',{attrs:{\"id\":\"app\"}},[_c('el-menu',{staticClass:\"el-menu-vertical-demo\",attrs:{\"default-active\":\"1-4-1\",\"collapse\":false},on:{\"open\":_vm.handleOpen,\"close\":_vm.handleClose}},[_c('el-menu-item',{attrs:{\"index\":\"1\"}},[_c('i',{staticClass:\"el-icon-menu\"}),_c('router-link',{attrs:{\"to\":\"/MobileChat\"}},[_vm._v(\"知识库问答\")])],1),_c('el-menu-item',{attrs:{\"index\":\"2\"}},[_c('i',{staticClass:\"el-icon-menu\"}),_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"自由对话\")])]),_c('el-menu-item',{attrs:{\"index\":\"3\"}},[_c('i',{staticClass:\"el-icon-document\"}),_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"条款检查\")])]),_c('el-menu-item',{attrs:{\"index\":\"4\"}},[_c('i',{staticClass:\"el-icon-setting\"}),_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"题目生成\")])])],1)],1)],1)],1),_c('el-container',[_c('el-header',{staticStyle:{\"text-align\":\"right\",\"line-height\":\"60px\"}},[_vm._v(\" DB-GPT \")]),_c('el-main',[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":8}},[_c('el-card',[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_vm._v(\"Chat Data\")]),_vm._v(\" 知识库问答页面 \")])],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  baseURL: \"\",\r\n  timeout: 1000 * 60 * 2,\r\n  headers: { \"Content-Type\": \"application/json\" },\r\n});\r\n// instance.defaults.headers.common[\"Authorization\"] = `Bearer ${OPENAI_API_KEY}`;\r\n\r\nexport const chatgpt = (content) => {\r\n  return instance.post(\"v1/chat/completions\", { content: content });\r\n};\r\n","<template>\r\n  <!-- <div class=\"mobile-chat-wrapper\">\r\n    <div class=\"chat-history\">\r\n      <div class=\"chat-content\" ref=\"chatContent\">\r\n        <div\r\n          class=\"chat-wrapper\"\r\n          v-for=\"(item, index) in chatList\"\r\n          :key=\"item.id\"\r\n        >\r\n          <div class=\"chat-friend\" v-if=\"item.uid !== '1001'\">\r\n            <div class=\"info-time\">\r\n              <img :src=\"item.headImg\" alt=\"\" />\r\n              <span>{{ item.name }}</span>\r\n              <span>{{ item.time }}</span>\r\n            </div>\r\n            <div class=\"chat-text\" v-if=\"item.chatType == 0\">\r\n              <template v-if=\"isSend && index === chatList.length - 1\">\r\n                <span class=\"flash_cursor\"></span>\r\n              </template>\r\n              <template v-else>\r\n                <pre>{{ item.msg }}</pre>\r\n              </template>\r\n            </div>\r\n            <div class=\"chat-img\" v-if=\"item.chatType == 1\">\r\n              <img\r\n                :src=\"item.msg\"\r\n                alt=\"表情\"\r\n                v-if=\"item.extend.imgType == 1\"\r\n                style=\"width: 100px; height: 100px\"\r\n              />\r\n              <el-image :src=\"item.msg\" :preview-src-list=\"srcImgList\" v-else>\r\n              </el-image>\r\n            </div>\r\n            <div class=\"chat-img\" v-if=\"item.chatType == 2\">\r\n              <div class=\"word-file\">\r\n                <FileCard\r\n                  :fileType=\"item.extend.fileType\"\r\n                  :file=\"item.msg\"\r\n                ></FileCard>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"chat-me\" v-else>\r\n            <div class=\"info-time\">\r\n              <span>{{ item.name }}</span>\r\n              <span>{{ item.time }}</span>\r\n              <img :src=\"item.headImg\" alt=\"\" />\r\n            </div>\r\n            <div class=\"chat-text\" v-if=\"item.chatType == 0\">\r\n              {{ item.msg }}\r\n            </div>\r\n            <div class=\"chat-img\" v-if=\"item.chatType == 1\">\r\n              <img\r\n                :src=\"item.msg\"\r\n                alt=\"表情\"\r\n                v-if=\"item.extend.imgType == 1\"\r\n                style=\"width: 100px; height: 100px\"\r\n              />\r\n              <el-image\r\n                style=\"max-width: 300px; border-radius: 10px\"\r\n                :src=\"item.msg\"\r\n                :preview-src-list=\"srcImgList\"\r\n                v-else\r\n              >\r\n              </el-image>\r\n            </div>\r\n            <div class=\"chat-img\" v-if=\"item.chatType == 2\">\r\n              <div class=\"word-file\">\r\n                <FileCard\r\n                  :fileType=\"item.extend.fileType\"\r\n                  :file=\"item.msg\"\r\n                ></FileCard>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"chat-input-wrapper\">\r\n      <el-input v-model=\"inputMsg\" @change=\"sendText\" autofocus />\r\n      <img\r\n        class=\"send-icon\"\r\n        src=\"@/assets/img/emoji/rocket.png\"\r\n        alt=\"\"\r\n        @click=\"sendText\"\r\n      />\r\n    </div>\r\n  </div> -->\r\n  <el-container style=\"height: 100vh;\">\r\n    <el-aside width=\"200px\" style=\"background-color: rgb(238, 241, 246)\">\r\n      <!-- 侧边栏内容 -->\r\n      <el-menu>\r\n        <el-menu-item index=\"1\">主页</el-menu-item>\r\n        <div id=\"app\">\r\n          <!-- <el-radio-group v-model=\"isCollapse\" style=\"margin-bottom: 20px;\">\r\n            <el-radio-button :label=\"false\">展开</el-radio-button>\r\n            <el-radio-button :label=\"true\">收起</el-radio-button>\r\n          </el-radio-group> -->\r\n          <el-menu default-active=\"1-4-1\" class=\"el-menu-vertical-demo\" @open=\"handleOpen\" @close=\"handleClose\"\r\n            :collapse=\"false\">\r\n\r\n            <el-menu-item index=\"1\">\r\n              <i class=\"el-icon-menu\"></i>\r\n              <router-link to=\"/MobileChat\">知识库问答</router-link>\r\n            </el-menu-item>\r\n            <el-menu-item index=\"2\">\r\n              <i class=\"el-icon-menu\"></i>\r\n              <span slot=\"title\">自由对话</span>\r\n            </el-menu-item>\r\n            <el-menu-item index=\"3\">\r\n              <i class=\"el-icon-document\"></i>\r\n              <span slot=\"title\">条款检查</span>\r\n            </el-menu-item>\r\n            <el-menu-item index=\"4\">\r\n              <i class=\"el-icon-setting\"></i>\r\n              <span slot=\"title\">题目生成</span>\r\n            </el-menu-item>\r\n          </el-menu>\r\n        </div>\r\n      </el-menu>\r\n    </el-aside>\r\n\r\n    <el-container>\r\n      <el-header style=\"text-align: right; line-height: 60px\">\r\n        <!-- 头部内容 -->\r\n        DB-GPT\r\n      </el-header>\r\n      <el-main>\r\n        <!-- 主要内容区域 -->\r\n        <el-row :gutter=\"20\">\r\n          <el-col :span=\"8\">\r\n            <el-card>\r\n              <!-- 卡片内容 -->\r\n              <div slot=\"header\">Chat Data</div>\r\n             知识库问答页面\r\n            </el-card>\r\n          </el-col>\r\n          <!-- 更多列和卡片 -->\r\n        </el-row>\r\n      </el-main>\r\n    </el-container>\r\n  </el-container>\r\n</template>\r\n\r\n<script>\r\nimport { animation } from \"@/util/util\";\r\nimport { chatgpt } from \"@/api/chatgptApi\";\r\nexport default {\r\n  name: \"MobileChat\",\r\n  data() {\r\n    return {\r\n      websock: null,\r\n      chatList: [\r\n        {\r\n          headImg: require(\"@/assets/img/head_portrait1.png\"),\r\n          name: \"AI小助\",\r\n          time: new Date().toLocaleTimeString(),\r\n          msg: \" AI小助为您服务\",\r\n          chatType: 0,\r\n          uid: \"1002\",\r\n        },\r\n      ],\r\n      inputMsg: \"\",\r\n      isSend: false,\r\n    };\r\n  },\r\n  created() {\r\n    // this.initWebSocket()\r\n  },\r\n  destroyed() {\r\n    // this.websock.close() //离开路由之后断开websocket连接\r\n  },\r\n  methods: {\r\n    testOpenAi(content) {\r\n      console.log(`我说:${content}`);\r\n      chatgpt(content).then(\r\n        (response) => {\r\n          let data = response.data\r\n          if (data.code == 0) {\r\n            //   console.log(JSON.stringify(data.data));\r\n            console.log(\r\n              `OpenAi:${JSON.stringify(data.msg.content)}`\r\n            );\r\n            //数据接收\r\n            let chatGPT = {\r\n              headImg: require(\"@/assets/img/head_portrait1.png\"),\r\n              name: \"AI小助\",\r\n              time: new Date().toLocaleTimeString(),\r\n              msg: data.msg.content,\r\n              chatType: 0, //信息类型，0文字，1图片\r\n              uid: \"1002\", //uid\r\n            };\r\n            this.sendMsg(chatGPT);\r\n            this.isSend = false;\r\n          } else {\r\n            this.testOpenAi(content);\r\n            // let chatGPT = {\r\n            //   headImg: require(\"@/assets/img/head_portrait1.png\"),\r\n            //   name: \"AI小助\",\r\n            //   time: new Date().toLocaleTimeString(),\r\n            //   msg: `开小差了:${data}`,\r\n            //   chatType: 0, //信息类型，0文字，1图片\r\n            //   uid: \"1002\", //uid\r\n            // };\r\n            // this.sendMsg(chatGPT);\r\n            // this.isSend = false;\r\n            console.error(data);\r\n          }\r\n        },\r\n        (err) => {\r\n          console.error(err);\r\n          let chatGPT = {\r\n              headImg: require(\"@/assets/img/head_portrait1.png\"),\r\n              name: \"AI小助\",\r\n              time: new Date().toLocaleTimeString(),\r\n              msg: `开小差了:${JSON.stringify(err)}`,\r\n              chatType: 0, //信息类型，0文字，1图片\r\n              uid: \"1002\", //uid\r\n            };\r\n            this.sendMsg(chatGPT);\r\n            this.isSend = false;\r\n        }\r\n      );\r\n    },\r\n    sendText() {\r\n      if (this.inputMsg) {\r\n        let chatMsg = {\r\n          headImg: require(\"@/assets/img/head_portrait.jpg\"),\r\n          name: \"\",\r\n          time: new Date().toLocaleTimeString(),\r\n          msg: this.inputMsg,\r\n          chatType: 0, //信息类型，0文字，1图片\r\n          uid: \"1001\", //uid\r\n        };\r\n        this.sendMsg(chatMsg);\r\n        this.inputMsg = \"\";\r\n        this.loading = true;\r\n        this.isSend = true;\r\n        this.testOpenAi(chatMsg.msg);\r\n      } else {\r\n        // this.$message({\r\n        //   message: \"消息不能为空哦~\",\r\n        //   type: \"warning\",\r\n        // });\r\n      }\r\n    },\r\n    //发送信息\r\n    sendMsg(msgList) {\r\n      this.chatList.push(msgList);\r\n      this.scrollBottom();\r\n    },\r\n    //获取窗口高度并滚动至最底层\r\n    scrollBottom() {\r\n      this.$nextTick(() => {\r\n        const scrollDom = this.$refs.chatContent;\r\n        animation(scrollDom, scrollDom.scrollHeight - scrollDom.offsetHeight);\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.mobile-chat-wrapper {\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n  height: 100vh;\r\n  position: relative;\r\n  background-color: #272a37;\r\n\r\n  .chat-history {\r\n    flex: 1 1 0;\r\n    overflow-y: auto;\r\n  }\r\n\r\n  .chat-input-wrapper {\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 8px 16px 8px 8px;\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n\r\n    .send-icon {\r\n      height: 40px;\r\n      margin-left: 16px;\r\n    }\r\n  }\r\n\r\n  .chat-content {\r\n    width: 100%;\r\n    height: 85%;\r\n    overflow-y: scroll;\r\n    padding: 20px;\r\n    box-sizing: border-box;\r\n\r\n    &::-webkit-scrollbar {\r\n      width: 0;\r\n      /* Safari,Chrome 隐藏滚动条 */\r\n      height: 0;\r\n      /* Safari,Chrome 隐藏滚动条 */\r\n      display: none;\r\n      /* 移动端、pad 上Safari，Chrome，隐藏滚动条 */\r\n    }\r\n\r\n    .chat-wrapper {\r\n      position: relative;\r\n      word-break: break-all;\r\n\r\n      .chat-friend {\r\n        width: 100%;\r\n        float: left;\r\n        margin-bottom: 20px;\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: flex-start;\r\n        align-items: flex-start;\r\n\r\n        .chat-text {\r\n          max-width: 90%;\r\n          padding: 20px;\r\n          border-radius: 20px 20px 20px 5px;\r\n          background-color: rgb(56, 60, 75);\r\n          color: #fff;\r\n\r\n          &:hover {\r\n            background-color: rgb(39, 42, 55);\r\n          }\r\n\r\n          pre {\r\n            white-space: break-spaces;\r\n          }\r\n        }\r\n\r\n        .chat-img {\r\n          img {\r\n            width: 100px;\r\n            height: 100px;\r\n          }\r\n        }\r\n\r\n        .info-time {\r\n          margin: 10px 0;\r\n          color: #fff;\r\n          font-size: 14px;\r\n\r\n          img {\r\n            width: 30px;\r\n            height: 30px;\r\n            border-radius: 50%;\r\n            vertical-align: middle;\r\n            margin-right: 10px;\r\n          }\r\n\r\n          span:last-child {\r\n            color: rgb(101, 104, 115);\r\n            margin-left: 10px;\r\n            vertical-align: middle;\r\n          }\r\n        }\r\n      }\r\n\r\n      .chat-me {\r\n        width: 100%;\r\n        float: right;\r\n        margin-bottom: 20px;\r\n        position: relative;\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: flex-end;\r\n        align-items: flex-end;\r\n\r\n        .chat-text {\r\n          float: right;\r\n          max-width: 90%;\r\n          padding: 20px;\r\n          border-radius: 20px 20px 5px 20px;\r\n          background-color: rgb(29, 144, 245);\r\n          color: #fff;\r\n\r\n          &:hover {\r\n            background-color: rgb(26, 129, 219);\r\n          }\r\n        }\r\n\r\n        .chat-img {\r\n          img {\r\n            max-width: 300px;\r\n            max-height: 200px;\r\n            border-radius: 10px;\r\n          }\r\n        }\r\n\r\n        .info-time {\r\n          margin: 10px 0;\r\n          color: #fff;\r\n          font-size: 14px;\r\n          display: flex;\r\n          justify-content: flex-end;\r\n\r\n          img {\r\n            width: 30px;\r\n            height: 30px;\r\n            border-radius: 50%;\r\n            vertical-align: middle;\r\n            margin-left: 10px;\r\n          }\r\n\r\n          span {\r\n            line-height: 30px;\r\n          }\r\n\r\n          span:first-child {\r\n            color: rgb(101, 104, 115);\r\n            margin-right: 10px;\r\n            vertical-align: middle;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .flash_cursor {\r\n    width: 20px;\r\n    height: 30px;\r\n    display: inline-block;\r\n    background: #d6e3f5;\r\n    opacity: 1;\r\n    animation: glow 800ms ease-out infinite alternate;\r\n  }\r\n  @keyframes glow {\r\n    0% {\r\n      opacity: 1;\r\n    }\r\n\r\n    25% {\r\n      opacity: 0.5;\r\n    }\r\n\r\n    50% {\r\n      opacity: 0;\r\n    }\r\n\r\n    75% {\r\n      opacity: 0.5;\r\n    }\r\n\r\n    100% {\r\n      opacity: 1;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MobileChat.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MobileChat.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MobileChat.vue?vue&type=template&id=19d7ea9a&\"\nimport script from \"./MobileChat.vue?vue&type=script&lang=js&\"\nexport * from \"./MobileChat.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MobileChat.vue?vue&type=style&index=0&id=19d7ea9a&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-container',{staticClass:\"main-bg\"},[_c('Nav',{attrs:{\"isCollapse\":_vm.isCollapse,\"isSelect\":_vm.selected},on:{\"update:isCollapse\":_vm.updateIsCollapse}}),_c('el-container',{style:({ 'margin-left': _vm.isCollapse ? '-40px' : '0px' })},[_c('el-main',[_c('el-container',{staticStyle:{\"background-color\":\"antiquewhite\",\"height\":\"90vh\",\"border-radius\":\"5px\"}},[_c('el-aside',{staticClass:\"aside-container\",attrs:{\"width\":\"200px\"}},[_c('el-header',{staticStyle:{\"text-align\":\"center\",\"line-height\":\"40px\",\"margin-top\":\"10px\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.newChat}},[_vm._v(\"新条款\")])],1),_c('el-menu',{staticStyle:{\"background-color\":\"antiquewhite\",\"border-radius\":\"5px\",\"height\":\"200px\",\"justify-content\":\"center\"},on:{\"select\":_vm.handleSelect}},_vm._l((_vm.historyArrlist),function(question,index){return _c('el-menu-item',{key:index,staticClass:\"menu-item-history\",attrs:{\"index\":index.toString()},on:{\"click\":function($event){return _vm.historyChat(question, index)}}},[_c('span',{staticClass:\"menu-item-wrapper\",attrs:{\"slot\":\"title\"},on:{\"mouseover\":function($event){return _vm.showDeleteButton(index)},\"mouseleave\":function($event){return _vm.hideDeleteButton(index)}},slot:\"title\"},[_vm._v(\" \"+_vm._s(_vm.getUserContent(question.history))+\" \"),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(question.showDeleteButton),expression:\"question.showDeleteButton\"}],staticStyle:{\"position\":\"absolute\",\"right\":\"5px\",\"top\":\"55%\",\"transform\":\"translateY(-51%)\"},attrs:{\"type\":\"text\",\"icon\":\"el-icon-close\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.deleteItem(index)}}})],1)])}),1)],1),_c('el-container',{staticStyle:{\"background-color\":\"whitesmoke\",\"border-radius\":\"5px\"}},[_c('el-main',{staticStyle:{\"justify-content\":\"center\"}},[(_vm.chatStarted)?_c('div',{ref:\"chatContainer\",staticClass:\"chat-container\"},_vm._l((_vm.chatMessages),function(message,index){return _c('div',{key:index,staticClass:\"chat-message\"},[(message.role === 'user')?_c('div',{staticClass:\"answer-message\"},[_c('div',{staticClass:\"card\",staticStyle:{\"background-color\":\"rgba(244, 152, 24, 0.5)\",\"float\":\"right\"}},[_c('i',{staticClass:\"el-icon-user\"},[_vm._v(\" \"+_vm._s(message.content))])])]):(message.role === 'assistant')?_c('div',{staticClass:\"answer-message\"},[_c('div',{staticClass:\"card\",staticStyle:{\"width\":\"800px\"}},[(index === _vm.chatMessages.length - 1)?_c('span',[_c('vue-markdown',{attrs:{\"source\":message.content,\"breaks\":true,\"typographer\":true,\"linkify\":true,\"highlight\":false}})],1):_c('span',[_vm._v(\" \"+_vm._s(message.content)+\" \")]),(message.reference.length > 0)?_c('div',[_c('el-divider'),_c('i',{staticClass:\"el-icon-paperclip\",staticStyle:{\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"}},[_vm._v(\"Reference\")]),_vm._l((message.reference),function(item,index1){return _c('div',{key:index1,staticClass:\"reference-item\"},[_c('div',{staticClass:\"reference-content\",on:{\"mouseenter\":function($event){return _vm.showFullReference(index, index1)},\"mouseleave\":function($event){return _vm.hideFullReference(index, index1)}}},[(message.isHovered[index1])?[_vm._v(\" \"+_vm._s(item[0])+\" \"+_vm._s(item[2])+\" \")]:[_vm._v(\" \"+_vm._s(item[1])+\" \")]],2)])})],2):_vm._e()])]):_vm._e()])}),0):_c('div',[_c('el-row',{staticClass:\"main-message\",attrs:{\"type\":\"flex\"}},[_c('el-col',{attrs:{\"span\":20}},[_c('div',{staticClass:\"message-content\"},[_vm._v(\" Yoka: 助力安全生产的强大知识管家 \")])])],1),_c('el-row',{staticClass:\"response-options\",attrs:{\"type\":\"flex\"}},_vm._l((_vm.cards1),function(card,index){return _c('el-col',{key:index,attrs:{\"span\":8}},[_c('el-card',{nativeOn:{\"click\":function($event){return _vm.sendMessage(card.message)}}},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(_vm._s(card.header))])]),_c('div',{staticClass:\"text item\"},[_vm._v(\" \"+_vm._s(card.content)+\" \")])])],1)}),1)],1)]),_c('el-footer',{staticStyle:{\"align-items\":\"flex-start\",\"display\":\"flex\"}},[_c('div',{staticClass:\"input-wrapper\"},[_c('div',{staticClass:\"input-field-wrapper\"},[_c('el-input',{staticClass:\"input-field\",attrs:{\"placeholder\":\"请输入内容\"},on:{\"input\":_vm.sendMessage},model:{value:(_vm.newMessage),callback:function ($$v) {_vm.newMessage=$$v},expression:\"newMessage\"}})],1),_c('div',{staticClass:\"input-button\"},[_vm._l((_vm.fileList),function(file,index){return _c('div',{key:index,staticClass:\"file-tag\"},[_c('span',{staticStyle:{\"overflow\":\"hidden\",\"text-overflow\":\"ellipsis\",\"font-size\":\"10px\"}},[_vm._v(_vm._s(file.name))]),_c('i',{staticClass:\"el-icon-close\",on:{\"click\":function($event){return _vm.removeFile(index)}}})])}),_c('el-upload',{ref:\"upload\",staticClass:\"upload-icon\",attrs:{\"action\":\"\",\"http-request\":_vm.uploadFile,\"before-upload\":_vm.beforeUpload,\"show-file-list\":false}},[_c('i',{staticClass:\"el-icon-paperclip\",staticStyle:{\"margin-right\":\"5px\"}})]),_c('i',{staticClass:\"el-icon-s-promotion\",staticStyle:{\"margin-right\":\"5px\"},on:{\"click\":_vm.startChat}})],2)])])],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <el-container class=\"main-bg\">\r\n        <Nav :isCollapse=\"isCollapse\" @update:isCollapse=\"updateIsCollapse\" :isSelect=\"selected\"></Nav>\r\n\r\n        <el-container :style=\"{ 'margin-left': isCollapse ? '-40px' : '0px' }\">\r\n            <el-main>\r\n\r\n                <el-container style=\"background-color: antiquewhite;height: 90vh;border-radius: 5px;\">\r\n                    <el-aside width=\"200px\" class=\"aside-container\">\r\n                        <el-header style=\"text-align: center; line-height: 40px; margin-top:10px; \">\r\n                            <el-button type=\"primary\" icon=\"el-icon-plus\" @click=\"newChat\">新条款</el-button>\r\n                        </el-header>\r\n                        <!-- Sidebar content here -->\r\n                        <el-menu @select=\"handleSelect\"\r\n                            style=\"background-color: antiquewhite; border-radius: 5px; height: 200px; justify-content: center;\">\r\n                            <el-menu-item v-for=\"(question, index) in historyArrlist\" :key=\"index\"\r\n                                :index=\"index.toString()\" class=\"menu-item-history\"\r\n                                @click=\"historyChat(question, index)\">\r\n                                <span slot=\"title\" @mouseover=\"showDeleteButton(index)\"\r\n                                    @mouseleave=\"hideDeleteButton(index)\" class=\"menu-item-wrapper\">\r\n                                    {{ getUserContent(question.history) }}\r\n                                    <el-button v-show=\"question.showDeleteButton\" type=\"text\" icon=\"el-icon-close\"\r\n                                        @click.stop=\"deleteItem(index)\"\r\n                                        style=\"position: absolute; right: 5px; top: 55%; transform: translateY(-51%);\"></el-button>\r\n                                </span>\r\n                            </el-menu-item>\r\n                        </el-menu>\r\n                    </el-aside>\r\n\r\n                    <el-container style=\"background-color: whitesmoke; border-radius: 5px;\">\r\n\r\n                        <el-main style=\"justify-content: center;\">\r\n                            <!-- 聊天页面 -->\r\n                            <div v-if=\"chatStarted\" class=\"chat-container\" ref=\"chatContainer\">\r\n                                <div v-for=\"(message, index) in chatMessages\" :key=\"index\" class=\"chat-message\">\r\n                                    <div v-if=\"message.role === 'user'\" class=\"answer-message\">\r\n                                        <div class=\"card\"\r\n                                            style=\" background-color: rgba(244, 152, 24, 0.5); float: right;\">\r\n                                            <i class=\"el-icon-user\"> {{ message.content }}</i>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div v-else-if=\"message.role === 'assistant'\" class=\"answer-message\">\r\n                                        <div class=\"card\" style=\"width: 800px;\">\r\n\r\n                                            <span v-if=\"index === chatMessages.length - 1\">\r\n                                                <vue-markdown :source=\"message.content\" :breaks=\"true\"\r\n                                                    :typographer=\"true\" :linkify=\"true\"\r\n                                                    :highlight=\"false\"></vue-markdown>\r\n                                            </span>\r\n                                            <span v-else>\r\n                                                {{ message.content }}\r\n                                            </span>\r\n                                            <div v-if=\"message.reference.length > 0\">\r\n                                                <el-divider></el-divider>\r\n                                                <i class=\"el-icon-paperclip\"\r\n                                                    style=\"margin-top: 10px;margin-bottom: 10px;\">Reference</i>\r\n\r\n                                                <div v-for=\"(item, index1) in message.reference\" :key=\"index1\"\r\n                                                    class=\"reference-item\">\r\n                                                    <div class=\"reference-content\"\r\n                                                        @mouseenter=\"showFullReference(index, index1)\"\r\n                                                        @mouseleave=\"hideFullReference(index, index1)\">\r\n                                                        <template v-if=\"message.isHovered[index1]\">\r\n                                                            {{ item[0] }} {{ item[2] }}\r\n                                                        </template>\r\n                                                        <template v-else>\r\n                                                            {{ item[1] }}\r\n                                                        </template>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div v-else>\r\n                                <el-row type=\"flex\" class=\"main-message\">\r\n                                    <el-col :span=\"20\">\r\n                                        <div class=\"message-content\">\r\n                                            Yoka: 助力安全生产的强大知识管家\r\n                                        </div>\r\n                                    </el-col>\r\n                                </el-row>\r\n                                <el-row type=\"flex\" class=\"response-options\">\r\n                                    <el-col :span=\"8\" v-for=\"(card, index) in cards1\" :key=\"index\">\r\n                                        <el-card @click.native=\"sendMessage(card.message)\">\r\n                                            <div slot=\"header\" class=\"clearfix\">\r\n                                                <span>{{ card.header }}</span>\r\n                                            </div>\r\n                                            <div class=\"text item\">\r\n                                                {{ card.content }}\r\n                                            </div>\r\n                                        </el-card>\r\n                                    </el-col>\r\n                                </el-row>\r\n                            </div>\r\n\r\n                        </el-main>\r\n\r\n\r\n                        <el-footer style=\"align-items: flex-start; display: flex\">\r\n\r\n                            <div class=\"input-wrapper\">\r\n\r\n                                <div class=\"input-field-wrapper\">\r\n                                    <el-input v-model=\"newMessage\" class=\"input-field\" placeholder=\"请输入内容\"\r\n                                        @input=\"sendMessage\">\r\n                                    </el-input>\r\n\r\n                                </div>\r\n                                <div class=\"input-button\">\r\n                                    <div v-for=\"(file, index) in fileList\" :key=\"index\" class=\"file-tag\">\r\n                                        <span style=\" overflow: hidden; text-overflow: ellipsis;font-size: 10px;\">{{\r\n            file.name }}</span>\r\n                                        <i class=\"el-icon-close\" @click=\"removeFile(index)\"></i>\r\n                                    </div>\r\n                                    <el-upload class=\"upload-icon\" action :http-request=\"uploadFile\" ref=\"upload\"\r\n                                        :before-upload=\"beforeUpload\" :show-file-list=\"false\">\r\n                                        <i class=\"el-icon-paperclip\" style=\"margin-right: 5px;\"></i>\r\n                                    </el-upload>\r\n                                    <i class=\"el-icon-s-promotion\" @click=\"startChat\" style=\"margin-right: 5px;\">\r\n                                    </i>\r\n                                </div>\r\n\r\n                            </div>\r\n                        </el-footer>\r\n                    </el-container>\r\n                </el-container>\r\n            </el-main>\r\n        </el-container>\r\n    </el-container>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport { clause_doc_stream_check, delete_dialogue, chatclauseStreamgpt, getclausehistory, getChatMsg, chatgpt, chatupload, gethistory, setclause_check, getstatic, getChat, getChatchat, getclauseChat } from \"@/api/getData\";\r\nimport Emoji from \"@/components/Emoji.vue\";\r\nimport Nav from \"@/components/Nav.vue\";\r\nimport commonMethodsMixin from '../../util/publicfun.js';\r\nimport StreamText from '@/components/StreamText.vue';\r\nimport VueMarkdown from 'vue-markdown';\r\n\r\nexport default {\r\n    mixins: [commonMethodsMixin],\r\n    components: {\r\n        Emoji,\r\n        Nav,\r\n        StreamText,\r\n        VueMarkdown\r\n    },\r\n    created() {\r\n        console.log(\"created\", this.$root.configs)\r\n        getclausehistory().then((res) => {\r\n            console.log(\"gethistoryres\", res.data)\r\n            this.historyArrlist = res.data\r\n        }).catch((err) => {\r\n            console.log(\"errr\", err)\r\n        })\r\n        getstatic().then((res) => {\r\n            console.log(\"getstatic111\", res.data)\r\n\r\n            this.configs = res.data.prompts\r\n\r\n            this.promptall = res.data.prompts.map(prompt => {\r\n                return {\r\n                    value: prompt.scene\r\n                };\r\n            });\r\n            this.models = res.data.models.map(prompt => {\r\n                return {\r\n                    value: prompt\r\n                };\r\n            });\r\n        }).catch((err) => {\r\n            console.log(\"err\", err)\r\n        })\r\n    },\r\n    data() {\r\n        return {\r\n            selected: \"3\",\r\n            newMessage: \"\",\r\n            promptall: [{\r\n                value: \"生成摘要\",\r\n            }, {\r\n                value: '标签提取',\r\n            }, {\r\n                value: '内容检查',\r\n            }],\r\n            promptdefaultvalue: '',\r\n            isCollapse: false,\r\n            cards: [\r\n                {\r\n                    icon: 'el-icon-info',\r\n                    title: '标题一',\r\n                    subtitle: '副标题一'\r\n                },\r\n                {\r\n                    icon: 'el-icon-warning',\r\n                    title: '标题二',\r\n                    subtitle: '副标题二'\r\n                },\r\n                {\r\n                    icon: 'el-icon-error',\r\n                    title: '标题三',\r\n                    subtitle: '副标题三'\r\n                },\r\n                {\r\n                    icon: 'el-icon-success',\r\n                    title: '标题四',\r\n                    subtitle: '副标题四'\r\n                }\r\n            ],\r\n            fileList: [],\r\n            chat_id: \"\",\r\n            newhistory: {},\r\n            historyArrlist: [],\r\n            configs: [],\r\n            promptall: [],\r\n            promptdefaultvalue: '',\r\n            dynamicMarginLeft: '50px',\r\n            isCollapse: false,\r\n            cards: [\r\n                {\r\n                    icon: 'el-icon-info',\r\n                    title: '标题一',\r\n                    subtitle: '副标题一'\r\n                },\r\n                {\r\n                    icon: 'el-icon-warning',\r\n                    title: '标题二',\r\n                    subtitle: '副标题二'\r\n                },\r\n                {\r\n                    icon: 'el-icon-error',\r\n                    title: '标题三',\r\n                    subtitle: '副标题三'\r\n                },\r\n                {\r\n                    icon: 'el-icon-success',\r\n                    title: '标题四',\r\n                    subtitle: '副标题四'\r\n                }\r\n            ],\r\n            cards1: [\r\n                // {\r\n                //     header: '翻译',\r\n                //     content: '帮我翻译苹果',\r\n                //     message: '帮我翻译苹果'\r\n                // },\r\n                // {\r\n                //     header: '摘要',\r\n                //     content: '帮我分析这个摘要',\r\n                //     message: '帮我分析这个摘要'\r\n                // },\r\n                // {\r\n                //     header: '试题生成',\r\n                //     content: '帮我生成一个试题',\r\n                //     message: '帮我生成一个试题'\r\n                // }\r\n            ],\r\n            chatMessages: [],\r\n            chatStarted: false,\r\n            chatMessagesList: [],\r\n            //上传后的文件列表\r\n            fileList: [],\r\n            // 允许的文件类型\r\n            fileType: [\"pdf\", \"doc\", \"docx\", \"xls\", \"xlsx\", \"txt\", \"png\", \"jpg\", \"bmp\", \"jpeg\"],\r\n            // 运行上传文件大小，单位 M\r\n            fileSize: 50,\r\n            // 附件数量限制\r\n            fileLimit: 5,\r\n            //请求头\r\n            headers: { \"Content-Type\": \"multipart/form-data\" },\r\n            isHovered: [],\r\n        };\r\n    },\r\n    watch: {\r\n\r\n        chatMessages: {\r\n            handler(newMessages) {\r\n                this.scrollToBottom();\r\n                console.log(\"newMessages\", newMessages)\r\n                newMessages.forEach(message => {\r\n                    // 确保 message 对象具有 reference 属性并进行初始化\r\n                    if (!message.reference) {\r\n                        this.$set(message, 'reference', []);\r\n                    }\r\n                    if (!message.isHovered) {\r\n                        this.$set(message, 'isHovered', Array(message.reference.length).fill(false));\r\n                    }\r\n                });\r\n            },\r\n            immediate: true,\r\n            deep: true\r\n        }\r\n    },\r\n    methods: {\r\n        historyChat(question, index) {\r\n            console.log(\"this.question\", question)\r\n            this.chatStarted = true;\r\n            this.historyArrlist.forEach((item, i) => {\r\n                item.showDeleteButton = i === index;\r\n            });\r\n            this.newhistory = question\r\n            this.chatMessages = question.history\r\n            this.chat_id = question.dialogue_id\r\n        },\r\n        scrollToBottom() {\r\n            this.$nextTick(() => {\r\n                const container = this.$refs.chatContainer;\r\n                if (container) {\r\n                    container.scrollTop = container.scrollHeight;\r\n                }\r\n            });\r\n        },\r\n        showFullReference(messageIndex, referenceIndex) {\r\n            console.log(\"this.chatMessages[messageIndex]\", this.chatMessages[messageIndex])\r\n            this.$set(this.chatMessages[messageIndex].isHovered, referenceIndex, true);\r\n        },\r\n        hideFullReference(messageIndex, referenceIndex) {\r\n            this.$set(this.chatMessages[messageIndex].isHovered, referenceIndex, false);\r\n        },\r\n        showDeleteButton(index) {\r\n            this.$set(this.historyArrlist[index], 'showDeleteButton', true);\r\n        },\r\n        hideDeleteButton(index) {\r\n            this.$set(this.historyArrlist[index], 'showDeleteButton', false);\r\n        },\r\n        deleteItem(index) {\r\n            console.log(\"deleteItem\", this.historyArrlist[index])\r\n\r\n            let params = {\r\n                dialogue_id: this.historyArrlist[index].dialogue_id,\r\n            }\r\n            this.$confirm('此操作将永久删除该对话, 是否继续?', '提示', {\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n                type: 'warning'\r\n            }).then(() => {\r\n\r\n                delete_dialogue(params).then((res) => {\r\n                    this.$message({\r\n                        type: 'success',\r\n                        message: '删除成功!'\r\n                    });\r\n                    this.historyArrlist.splice(index, 1);\r\n                    this.newMessage = \"\"\r\n                    this.chatStarted = false\r\n                    // this.$nextTick(() => {\r\n                    //     document.activeElement.blur();\r\n                    // });\r\n                    // this.$nextTick(() => {\r\n                    //     this.$refs.dummyInput.focus();\r\n                    // });\r\n                }).catch((err) => {\r\n\r\n                })\r\n\r\n            }).catch(() => {\r\n                this.$message({\r\n                    type: 'info',\r\n                    message: '已取消删除'\r\n                });\r\n            });\r\n\r\n        },\r\n        handleSelect(index) {\r\n            this.activeIndex = Number(index);\r\n            // 处理选中项逻辑\r\n        },\r\n        getUserContent(history) {\r\n            if (history.length > 0) {\r\n                const userEntry = history.find(entry => entry.role === 'assistant');\r\n                return userEntry ? userEntry.content : '';\r\n            }\r\n            else {\r\n                return \"\"\r\n            }\r\n\r\n        },\r\n        updateIsCollapse(value) {\r\n            this.isCollapse = value;\r\n            // this.updateIsCollapse(value);\r\n        },\r\n        beforeUpload(file) {\r\n            const FileExt = file.name.split('.').pop().toLowerCase();\r\n            const isLt50M = file.size / 1024 / 1024 < 50;\r\n\r\n            if (!isLt50M) {\r\n                this.$message.error('上传文件大小不能超过 50MB!');\r\n                return false;\r\n            }\r\n\r\n            if (!this.fileType.includes(FileExt)) {\r\n                this.$message.error('上传文件格式不正确!');\r\n                return false;\r\n            }\r\n\r\n            return true;\r\n        },\r\n        handleClose(index) {\r\n            this.fileList.splice(index, 1);\r\n            if (this.fileList.length === 0) {\r\n                this.fileflag = true;\r\n                this.$set(this.rules.url, 0, { required: true, validator: this.validatorUrl, trigger: 'blur' });\r\n            }\r\n        },\r\n        handleExceed() {\r\n            this.$message({\r\n                type: 'warning',\r\n                message: '超出最大上传文件数量的限制！'\r\n            });\r\n            return;\r\n        },\r\n\r\n        uploadFile(item) {\r\n            // this.$showMessage('文件上传中........')\r\n            //上传文件的需要formdata类型;所以要转\r\n            console.log(\"FormDatas\", item)\r\n\r\n            var FormDatas = new FormData()\r\n            FormDatas.append('file', item.file);\r\n\r\n\r\n            this.fileList.push(item.file);\r\n\r\n            // .then(res => {\r\n            // console.log(\"res\", res.data.content)\r\n            // if (res.data.id != '' || res.data.id != null) {\r\n            //     this.fileList.push(item.file);//成功过后手动将文件添加到展示列表里\r\n            //     let i = this.fileList.indexOf(item.file)\r\n            //     this.fileList[i].id = res.data.id;//id也添加进去，最后整个大表单提交的时候需要的\r\n            //     if (this.fileList.length > 0) {//如果上传了附件就把校验规则给干掉\r\n            //         this.fileflag = false;\r\n            //         this.$set(this.rules.url, 0, '')\r\n            //     }\r\n            //     //this.handleSuccess();\r\n            // }\r\n            // })\r\n        },\r\n        handleChunk1(first, content) {\r\n            if (first) {\r\n                this.chatMessages.push({ content: '', role: 'assistant', reference: [] });\r\n            }\r\n            console.log(\"content\", content)\r\n\r\n            const lastMessageIndex = this.chatMessages.length - 1;\r\n            this.chatMessages[lastMessageIndex].content += content;\r\n            this.$set(this.chatMessages, lastMessageIndex, { ...this.chatMessages[lastMessageIndex] });\r\n            this.newhistory = {\r\n                dialogue_id: this.chat_id, history: this.chatMessages\r\n            }\r\n            const existingIndex = this.historyArrlist.findIndex(item => item.dialogue_id === this.chat_id);\r\n\r\n            if (existingIndex === -1) {\r\n                this.historyArrlist.unshift(this.newhistory);\r\n            } else {\r\n                console.log(\"Duplicate dialogue_id found, not adding.\");\r\n            }\r\n            this.newMessage = '';\r\n            this.chatStarted = true;\r\n            this.fileList=[]\r\n        },\r\n        //上传成功后的回调\r\n        handleSuccess() {\r\n\r\n        },\r\n        beforeRemove() {\r\n\r\n        },\r\n        handlePreview() {\r\n\r\n        },\r\n        guid() {\r\n            return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n                var r = Math.random() * 16 | 0,\r\n                    v = c == 'x' ? r : (r & 0x3 | 0x8);\r\n                return v.toString(16);\r\n            });\r\n        }\r\n        ,\r\n        startChat() {\r\n            console.log(\"this.chat_id\", this.chat_id)\r\n\r\n            if (this.newMessage.trim() !== '' || this.newMessage.trim().length > 0 || this.fileList.length > 0) {\r\n                if(this.fileList.length > 0){\r\n                    // this.newMessage = \"\"\r\n                    this.chatMessages.push({ content: \"让我来分析这个文档      \"+this.fileList[0].name, role: 'user' });\r\n                    \r\n                }\r\n                else{\r\n                    this.chatMessages.push({ content: this.newMessage, role: 'user' });\r\n                }\r\n                if (this.chat_id == \"\") {\r\n                    this.chat_id = this.guid()\r\n                }\r\n                console.log(\"chat_id\", this.chat_id)\r\n                let config = {\r\n                    \"model\": \"deepseek\",\r\n                    \"prompt\": \"default\",\r\n                    \"knowledge\": \"default\",\r\n                    \"LLM_config\": \"default\"\r\n                }\r\n                let params = {\r\n                    dialogue_id: this.chat_id,\r\n                    query: this.newMessage,\r\n                    config: JSON.stringify(config)\r\n                    // history: JSON.stringify([{role:\"hh\",content:\"xx\"},{role:\"hh\",content:\"xx\"}])\r\n                    // {role:\"hh\",content:\"xx\"}\r\n                    // ,\r\n                }\r\n                console.log(\"params\", params)\r\n                if (this.fileList.length > 0) {\r\n                    let params1 = {\r\n                        dialogue_id: this.chat_id,\r\n                        config: JSON.stringify(config),\r\n                        file: this.fileList[0]\r\n                    }\r\n                    clause_doc_stream_check(params1, this.handleChunk1)\r\n                }\r\n                else {\r\n                    chatclauseStreamgpt(params, this.handleChunk, this.handleReferences);\r\n\r\n                }\r\n            }\r\n            else {\r\n\r\n\r\n                this.$alert('请输入内容', '提示', {\r\n                    confirmButtonText: '确定',\r\n                    callback: action => {\r\n\r\n                    }\r\n                });\r\n\r\n\r\n            }\r\n\r\n\r\n        },\r\n        handleChunk(first, content) {\r\n            if (first) {\r\n                this.chatMessages.push({ content: '', role: 'assistant', reference: [] });\r\n            }\r\n            console.log(\"content\", content)\r\n\r\n            const lastMessageIndex = this.chatMessages.length - 1;\r\n            this.chatMessages[lastMessageIndex].content += content;\r\n            this.$set(this.chatMessages, lastMessageIndex, { ...this.chatMessages[lastMessageIndex] });\r\n            this.newhistory = {\r\n                dialogue_id: this.chat_id, history: this.chatMessages\r\n            }\r\n            const existingIndex = this.historyArrlist.findIndex(item => item.dialogue_id === this.chat_id);\r\n\r\n            if (existingIndex === -1) {\r\n                this.historyArrlist.unshift(this.newhistory);\r\n            } else {\r\n                console.log(\"Duplicate dialogue_id found, not adding.\");\r\n            }\r\n            this.newMessage = '';\r\n            this.chatStarted = true;\r\n        },\r\n        handleReferences(reference) {\r\n            console.log(\"this.chatMessages111\", this.chatMessages);\r\n\r\n            if (this.chatMessages.length === 0 || !this.chatStarted) {\r\n                // If no message exists, create a new one\r\n                this.chatMessages.push({ content: '', role: 'assistant', reference: [] });\r\n                this.newMessage = '';\r\n                this.chatStarted = true;\r\n            }\r\n            const lastMessageIndex = this.chatMessages.length - 1;\r\n            this.chatMessages[lastMessageIndex].reference = JSON.parse(reference).reference;\r\n            this.chatMessages[lastMessageIndex].content = JSON.parse(reference).response;\r\n\r\n            this.$set(this.chatMessages, lastMessageIndex, { ...this.chatMessages[lastMessageIndex] });\r\n\r\n            // Initialize itemDetailsVisible array\r\n            this.itemDetailsVisible = Array(this.chatMessages[lastMessageIndex].reference.length).fill(false);\r\n\r\n            console.log(\"this.chatMessages\", this.chatMessages);\r\n\r\n            // Update the historyArrlist\r\n            this.newhistory = {\r\n                dialogue_id: this.chat_id, history: this.chatMessages\r\n            };\r\n\r\n            const existingIndex = this.historyArrlist.findIndex(item => item.dialogue_id === this.chat_id);\r\n\r\n            if (existingIndex === -1) {\r\n                this.historyArrlist.unshift(this.newhistory);\r\n            } else {\r\n                this.historyArrlist[existingIndex] = this.newhistory;\r\n            }\r\n        },\r\n\r\n        newChat() {\r\n            if (this.chatMessages.length == 0) {\r\n                //说明没有新建\r\n                getclauseChat().then((res) => {\r\n                    //\r\n                    console.log(\"getclauseChat\", res)\r\n\r\n                    this.chat_id = res.dialogue_id\r\n                    this.chatStarted = true;\r\n                    console.log(\"chatStarted\", this.chatStarted)\r\n\r\n                    this.chatMessages = res.history\r\n                }).catch((err) => {\r\n                    console.log(\"err\")\r\n                })\r\n            }\r\n            else {\r\n                //保存在历史\r\n                this.newhistory.showDeleteButton = false\r\n                let newhistory = this.newhistory\r\n                var isDuplicate = this.historyArrlist.some(function (item) {\r\n                    return item.dialogue_id === newhistory.dialogue_id;\r\n                });\r\n\r\n                // 如果不存在相同 dialogue_id 的记录，则将新记录添加到历史记录数组中\r\n                if (!isDuplicate) {\r\n                    this.historyArrlist.unshift(newhistory);\r\n                }\r\n                else {\r\n                    getChat().then((res) => {\r\n                        console.log(\"getChat\", res)\r\n                        this.chat_id = res.dialogue_id\r\n                        this.chatStarted = true;\r\n                        this.chatMessages = res.history\r\n                    }).catch((err) => {\r\n                        console.log(\"err\")\r\n                    })\r\n                }\r\n                console.log(this.historyArrlist, \"this.historyArrlist\")\r\n            }\r\n        },\r\n        // startchat() {\r\n        //     if (this.newMessage.trim() !== '') {\r\n        //         console.log(\" this.newMessage\", this.newMessage)\r\n        //         this.chatMessages.push({ content: this.newMessage, role: 'user' });\r\n        //     }\r\n        //     if (this.chat_id == \"\") {\r\n        //         this.chat_id = this.guid()\r\n        //     }\r\n        //     console.log(\"chat_id\", this.chat_id)\r\n        //     let params = {\r\n        //         dialogue_id: this.chat_id,\r\n        //         query: this.newMessage,\r\n        //         config: \"default\"\r\n        //         // history: JSON.stringify([{role:\"hh\",content:\"xx\"},{role:\"hh\",content:\"xx\"}])\r\n        //         // {role:\"hh\",content:\"xx\"}\r\n        //         // ,\r\n        //     }\r\n        //     console.log(\"params\", params)\r\n        //     chatgpt(params).then((res) => {\r\n        //         console.log(\"resresres\", res.data)\r\n        //         this.chatMessages.push({ content: res.data.response, role: 'assistant', reference: res.data.reference });\r\n        //         this.newhistory = {\r\n        //             dialogue_id: this.chat_id, history: this.chatMessages\r\n        //         }\r\n\r\n        //         this.newMessage = ''; // Clear the input after sending.\r\n        //         this.chatStarted = true; // Switch to chat view.\r\n        //     });\r\n        // },\r\n        sendMessage(text) {\r\n            this.newMessage = text;\r\n        },\r\n        toggleCollapse() {\r\n            this.isCollapse = !this.isCollapse; // 切换状态\r\n        },\r\n        handleOpen(key, keyPath) {\r\n            console.log(key, keyPath);\r\n        },\r\n        handleClose(key, keyPath) {\r\n            console.log(key, keyPath);\r\n        },\r\n        goToMain() {\r\n            window.location.href = '#/ChatHome';\r\n        },\r\n        goToKnowledgeQA() {\r\n            window.location.href = '#/KnowLedgeChat';\r\n        },\r\n        goToFreeChat() {\r\n            window.location.href = '#/FreeChat';\r\n        },\r\n        goToCheckChat() {\r\n            window.location.href = '#/CheckChat';\r\n        },\r\n        goToTitleSetChat() {\r\n            window.location.href = '#/TitleSetChat';\r\n        },\r\n        goToKnowSetting() {\r\n            window.location.href = '#/KnowSetting';\r\n        },\r\n        goToPrompt() {\r\n            window.location.href = '#/Prompt';\r\n        },\r\n        goToSelectModel() {\r\n            window.location.href = '#/SelectModel';\r\n        },\r\n        goToHelp() {\r\n            window.location.href = '#/HelpChat';\r\n        },\r\n        removeFile(index) {\r\n            this.fileList = []\r\n        },\r\n\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n.el-menu .el-menu-item {\r\n    width: 100%;\r\n}\r\n\r\n.uploadcontainer {\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n\r\n.upload-wrapper {\r\n    margin-right: 10px;\r\n    /* 调整上传按钮和输入框之间的间距 */\r\n    flex-grow: 1;\r\n    /* 占据剩余空间 */\r\n}\r\n\r\n.input-wrapper {\r\n    display: flex;\r\n    align-items: center;\r\n    background-color: #f1f1f1;\r\n    border-radius: 20px;\r\n    width: 100%;\r\n    height: 40px;\r\n    justify-content: space-between;\r\n}\r\n\r\n.input-button {\r\n    display: flex;\r\n    align-items: center;\r\n    background-color: transparent;\r\n    justify-content: space-around;\r\n    flex-direction: row;\r\n}\r\n\r\n.upload-icon,\r\n.send-btn {\r\n    /* background: transparent;\r\n    border: none; */\r\n\r\n}\r\n\r\n.icon-btn {\r\n    /* background: transparent;\r\n    border: none; */\r\n    /* color: #c0c4cc; */\r\n    /* 这个颜色可以根据你的设计调整 */\r\n    /* padding: 0 12px; */\r\n}\r\n\r\n.input-field-wrapper {\r\n    display: flex;\r\n    align-items: center;\r\n    flex-grow: 1;\r\n    position: relative;\r\n}\r\n\r\n.input-field .el-input__inner {\r\n    border: none;\r\n    background: transparent;\r\n    box-shadow: none;\r\n    /* flex-grow: 1; */\r\n}\r\n\r\n.file-tag {\r\n    display: flex;\r\n    align-items: center;\r\n    background-color: #e0e0e0;\r\n    border-radius: 12px;\r\n    padding: 4px 4px;\r\n    position: relative;\r\n    line-height: 18px;\r\n}\r\n\r\n.file-tag span {\r\n    margin-right: 0px;\r\n}\r\n\r\n.file-tag i {\r\n    cursor: pointer;\r\n    display: none;\r\n}\r\n\r\n.file-tag:hover i {\r\n    display: inline-block;\r\n}\r\n\r\n.menu-item-history {\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    margin-top: 5px;\r\n    border-radius: 10px;\r\n\r\n\r\n}\r\n\r\n.menu-item-history:hover {\r\n    border-radius: 10px;\r\n    /* 圆角 */\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CheckChat.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CheckChat.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CheckChat.vue?vue&type=template&id=567f07fa&\"\nimport script from \"./CheckChat.vue?vue&type=script&lang=js&\"\nexport * from \"./CheckChat.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CheckChat.vue?vue&type=style&index=0&id=567f07fa&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-container',{staticClass:\"background-container\"},[_c('el-header',{staticClass:\"header-container\"},[_c('img',{staticClass:\"logo\",attrs:{\"src\":require(\"../../imgs/logo1.png\")}}),_c('span',{staticClass:\"title\"},[_vm._v(\"Yoca\")])]),_c('el-main',[_c('el-container',{staticClass:\"main-container\"},[_c('el-aside',{staticClass:\"aside-container\",attrs:{\"width\":\"220px\"}},[_c('el-header',{staticClass:\"aside-header\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.createNewDialog}},[_vm._v(\"新建对话\")])],1)],1),_c('el-container',[_c('el-main',{staticClass:\"main-content\"},[_c('div',{staticClass:\"content\"},[_c('p',[_vm._v(\"增值税专用发票并非合同...\")])])])],1)],1)],1),_c('el-footer',[_vm._v(\"Footer\")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <el-container class=\"background-container\">\r\n        <el-header class=\"header-container\">\r\n            <img src=\"../../imgs/logo1.png\" class=\"logo\" />\r\n            <span class=\"title\">Yoca</span>\r\n        </el-header>\r\n        <el-main>\r\n            <el-container class=\"main-container\">\r\n                <el-aside width=\"220px\" class=\"aside-container\">\r\n                    <el-header class=\"aside-header\">\r\n                        <el-button type=\"primary\" @click=\"createNewDialog\">新建对话</el-button>\r\n                    </el-header>\r\n\r\n                </el-aside>\r\n\r\n                <el-container>\r\n                    <el-main class=\"main-content\">\r\n                        <div class=\"content\">\r\n                            <!-- Your main content here -->\r\n                            <p>增值税专用发票并非合同...</p>\r\n                        </div>\r\n                    </el-main>\r\n                  \r\n                </el-container>\r\n            </el-container>\r\n        </el-main>\r\n        <el-footer>Footer</el-footer>\r\n    </el-container>\r\n</template>\r\n\r\n<script>\r\nimport { chatkbStreamgpt, getkbhistory, getChatMsg, chatgpt, chatupload, gethistory, setclause_check, getstatic, getChat, getChatchat, delete_dialogue, chatStreamgpt, getkbChat, getclauseChat } from \"@/api/getData\";\r\nimport Index from \"./chatHome/index.vue\";\r\nimport Emoji from \"@/components/Emoji.vue\";\r\nimport Nav from \"@/components/Nav.vue\";\r\nimport commonMethodsMixin from '../../util/publicfun.js';\r\nimport StreamText from '@/components/StreamText.vue';\r\nimport VueMarkdown from 'vue-markdown';\r\n\r\nexport default {\r\n    mixins: [commonMethodsMixin],\r\n    components: {\r\n        Emoji,\r\n        Nav,\r\n        StreamText,\r\n        VueMarkdown\r\n    },\r\n    data() {\r\n        return {\r\n            currentStreamMessage: '',\r\n            activeIndex: null,\r\n            selected: '1',\r\n            chat_id: \"\",\r\n            newhistory: {},\r\n            historyArrlist: [],\r\n            configs: [],\r\n            promptall: [],\r\n            models: [],\r\n            promptdefaultvalue: 'default',\r\n            dynamicMarginLeft: '50px',\r\n            isCollapse: false,\r\n            newMessage: '',\r\n            cards: [\r\n                {\r\n                    icon: 'el-icon-info',\r\n                    title: '标题一',\r\n                    subtitle: '副标题一'\r\n                },\r\n                {\r\n                    icon: 'el-icon-warning',\r\n                    title: '标题二',\r\n                    subtitle: '副标题二'\r\n                },\r\n                {\r\n                    icon: 'el-icon-error',\r\n                    title: '标题三',\r\n                    subtitle: '副标题三'\r\n                },\r\n                {\r\n                    icon: 'el-icon-success',\r\n                    title: '标题四',\r\n                    subtitle: '副标题四'\r\n                }\r\n            ],\r\n            cards1: [\r\n                // {\r\n                //     header: '翻译',\r\n                //     content: '帮我翻译苹果',\r\n                //     message: '帮我翻译苹果'\r\n                // },\r\n                // {\r\n                //     header: '摘要',\r\n                //     content: '帮我分析这个摘要',\r\n                //     message: '帮我分析这个摘要'\r\n                // },\r\n                // {\r\n                //     header: '试题生成',\r\n                //     content: '帮我生成一个试题',\r\n                //     message: '帮我生成一个试题'\r\n                // }\r\n            ],\r\n            chatMessages: [],\r\n            chatStarted: false,\r\n            chatMessagesList: [],\r\n            //上传后的文件列表\r\n            fileList: [],\r\n            // 允许的文件类型\r\n            fileType: [\"pdf\", \"doc\", \"docx\", \"xls\", \"xlsx\", \"txt\", \"png\", \"jpg\", \"bmp\", \"jpeg\"],\r\n            // 运行上传文件大小，单位 M\r\n            fileSize: 50,\r\n            // 附件数量限制\r\n            fileLimit: 5,\r\n            //请求头\r\n            headers: { \"Content-Type\": \"multipart/form-data\" },\r\n            itemDetailsVisible: [],\r\n            isHovered: [],\r\n        };\r\n    },\r\n    created() {\r\n        console.log(\"created\", this.$root.configs)\r\n        getkbhistory().then((res) => {\r\n            console.log(\"gethistoryres\", res)\r\n            this.historyArrlist = res.data\r\n        }).catch((err) => {\r\n            console.log(\"errr\", err)\r\n        })\r\n        getstatic().then((res) => {\r\n            console.log(\"getstatic111\", res.data)\r\n\r\n            this.configs = res.data.prompts\r\n\r\n            this.promptall = res.data.prompts.map(prompt => {\r\n                return {\r\n                    value: prompt.scene\r\n                };\r\n            });\r\n            this.models = res.data.models.map(prompt => {\r\n                return {\r\n                    value: prompt\r\n                };\r\n            });\r\n        }).catch((err) => {\r\n            console.log(\"err\", err)\r\n        })\r\n    },\r\n    watch: {\r\n\r\n        chatMessages: {\r\n            handler(newMessages) {\r\n                this.scrollToBottom();\r\n                console.log(\"newMessages\", newMessages)\r\n                newMessages.forEach(message => {\r\n                    // 确保 message 对象具有 reference 属性并进行初始化\r\n                    if (!message.reference) {\r\n                        this.$set(message, 'reference', []);\r\n                    }\r\n                    if (!message.isHovered) {\r\n                        this.$set(message, 'isHovered', Array(message.reference.length).fill(false));\r\n                    }\r\n                });\r\n            },\r\n            immediate: true,\r\n            deep: true\r\n        }\r\n    },\r\n    methods: {\r\n        showFullReference(messageIndex, referenceIndex) {\r\n            console.log(\"this.chatMessages[messageIndex]\", this.chatMessages[messageIndex])\r\n\r\n            this.$set(this.chatMessages[messageIndex].isHovered, referenceIndex, true);\r\n        },\r\n        hideFullReference(messageIndex, referenceIndex) {\r\n            this.$set(this.chatMessages[messageIndex].isHovered, referenceIndex, false);\r\n        },\r\n        handleSelectDrop(item) {\r\n            console.log(\"promptdefaultvalue\", item.value)\r\n            this.promptdefaultvalue = item.value\r\n        },\r\n        scrollToBottom() {\r\n            this.$nextTick(() => {\r\n                const container = this.$refs.chatContainer;\r\n                if (container) {\r\n                    container.scrollTop = container.scrollHeight;\r\n                }\r\n            });\r\n        },\r\n        getUserContent(history) {\r\n            if (history.length > 0) {\r\n                const userEntry = history.find(entry => entry.role === 'user');\r\n                return userEntry ? userEntry.content : '';\r\n            }\r\n            else {\r\n                return \"\"\r\n            }\r\n\r\n        },\r\n        showDeleteButton(index) {\r\n            this.$set(this.historyArrlist[index], 'showDeleteButton', true);\r\n        },\r\n        hideDeleteButton(index) {\r\n            this.$set(this.historyArrlist[index], 'showDeleteButton', false);\r\n        },\r\n        deleteItem(index) {\r\n            console.log(\"deleteItem\", this.historyArrlist[index])\r\n\r\n            let params = {\r\n                dialogue_id: this.historyArrlist[index].dialogue_id,\r\n            }\r\n            this.$confirm('此操作将永久删除该对话, 是否继续?', '提示', {\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n                type: 'warning'\r\n            }).then(() => {\r\n                this.$message({\r\n                    type: 'success',\r\n                    message: '删除成功!'\r\n                });\r\n                delete_dialogue(params).then((res) => {\r\n                    this.historyArrlist.splice(index, 1);\r\n                    this.newMessage = \"\"\r\n                    this.chatStarted = false\r\n                    this.$nextTick(() => {\r\n                        document.activeElement.blur();\r\n                    });\r\n                    this.$nextTick(() => {\r\n                        this.$refs.dummyInput.focus();\r\n                    });\r\n                }).catch((err) => {\r\n\r\n                })\r\n\r\n            }).catch(() => {\r\n                this.$message({\r\n                    type: 'info',\r\n                    message: '已取消删除'\r\n                });\r\n            });\r\n\r\n        },\r\n        handleSelect(index) {\r\n            this.activeIndex = Number(index);\r\n            // 处理选中项逻辑\r\n        },\r\n        updateNewMessage() {\r\n            this.newMessage = this.fileList.map(file => file.name).join(', '); // 示例中将文件名用逗号分隔\r\n        },\r\n        updateIsCollapse(value) {\r\n            this.isCollapse = value;\r\n            // this.updateIsCollapse(value);\r\n        },\r\n        toggleCollapse() {\r\n            this.isCollapse = !this.isCollapse; // 切换状态\r\n            this.dynamicMarginLeft = \"150px\"\r\n        },\r\n        handleOpen(key, keyPath) {\r\n            console.log(key, keyPath);\r\n        },\r\n        handleClose(key, keyPath) {\r\n            console.log(key, keyPath);\r\n        },\r\n        goToMain() {\r\n            console.log(\"dddd\")\r\n            window.location.href = '#/ChatHome';\r\n        },\r\n        goToKnowledgeQA() {\r\n            window.location.href = '#/KnowLedgeChat';\r\n        },\r\n        goToFreeChat() {\r\n            window.location.href = '#/FreeChat';\r\n        },\r\n        goToCheckChat() {\r\n            window.location.href = '#/CheckChat';\r\n        },\r\n        goToTitleSetChat() {\r\n            window.location.href = '#/TitleSetChat';\r\n        },\r\n        goToKnowSetting() {\r\n            window.location.href = '#/KnowSetting';\r\n        },\r\n        goToPrompt() {\r\n            window.location.href = '#/Prompt';\r\n        },\r\n        goToSelectModel() {\r\n            window.location.href = '#/SelectModel';\r\n        },\r\n        goToHelp() {\r\n            window.location.href = '#/HelpChat';\r\n        },\r\n        submitForm() {\r\n            console.log('Submitting form data along with the fileList:',);\r\n\r\n        },\r\n        sendMessage(text) {\r\n            this.newMessage = text;\r\n        },\r\n        guid() {\r\n            return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n                var r = Math.random() * 16 | 0,\r\n                    v = c == 'x' ? r : (r & 0x3 | 0x8);\r\n                return v.toString(16);\r\n            });\r\n        }\r\n        ,\r\n\r\n        startChat() {\r\n            console.log(\"this.chat_id\", this.chat_id)\r\n\r\n            if (this.newMessage.trim() !== '' || this.newMessage.trim().length > 0) {\r\n                this.chatMessages.push({ content: this.newMessage, role: 'user' });\r\n                if (this.chat_id == \"\") {\r\n                    this.chat_id = this.guid()\r\n                }\r\n                console.log(\"chat_id\", this.chat_id)\r\n                let config = {\r\n                    \"model\": \"deepseek\",\r\n                    \"prompt\": this.promptdefaultvalue,\r\n                    \"knowledge\": \"default\",\r\n                    \"LLM_config\": \"default\"\r\n                }\r\n                let params = {\r\n                    dialogue_id: this.chat_id,\r\n                    query: this.newMessage,\r\n                    config: JSON.stringify(config)\r\n                    // history: JSON.stringify([{role:\"hh\",content:\"xx\"},{role:\"hh\",content:\"xx\"}])\r\n                    // {role:\"hh\",content:\"xx\"}\r\n                    // ,\r\n                }\r\n                console.log(\"params\", params)\r\n                chatkbStreamgpt(params, this.handleChunk, this.handleReferences);\r\n\r\n\r\n            }\r\n            else {\r\n\r\n\r\n                this.$alert('请输入内容', '提示', {\r\n                    confirmButtonText: '确定',\r\n                    callback: action => {\r\n\r\n                    }\r\n                });\r\n\r\n\r\n            }\r\n\r\n\r\n        },\r\n        handleChunk(first, content) {\r\n            if (first) {\r\n                this.chatMessages.push({ content: '', role: 'assistant', reference: [] });\r\n            }\r\n            const lastMessageIndex = this.chatMessages.length - 1;\r\n            this.chatMessages[lastMessageIndex].content += content;\r\n            this.$set(this.chatMessages, lastMessageIndex, { ...this.chatMessages[lastMessageIndex] });\r\n            this.newhistory = {\r\n                dialogue_id: this.chat_id, history: this.chatMessages\r\n            }\r\n            const existingIndex = this.historyArrlist.findIndex(item => item.dialogue_id === this.chat_id);\r\n\r\n            if (existingIndex === -1) {\r\n                this.historyArrlist.unshift(this.newhistory);\r\n            } else {\r\n                console.log(\"Duplicate dialogue_id found, not adding.\");\r\n            }\r\n            this.newMessage = '';\r\n            this.chatStarted = true;\r\n        },\r\n        handleReferences(reference) {\r\n            console.log(\"reference\", JSON.parse(reference).reference)\r\n            const lastMessageIndex = this.chatMessages.length - 1;\r\n            this.chatMessages[lastMessageIndex].content = JSON.parse(reference).response;\r\n\r\n            this.chatMessages[lastMessageIndex].reference = JSON.parse(reference).reference;\r\n            this.$set(this.chatMessages, lastMessageIndex, { ...this.chatMessages[lastMessageIndex] });\r\n            console.log(\"this.chatMessages\", this.chatMessages)\r\n            // 初始化itemDetailsVisible数组\r\n            this.itemDetailsVisible = Array(this.chatMessages[lastMessageIndex].reference.length).fill(false);\r\n\r\n        },\r\n        showDetails(index) {\r\n            this.$set(this.itemDetailsVisible, index, true);\r\n        },\r\n        hideDetails(index) {\r\n            this.$set(this.itemDetailsVisible, index, false);\r\n        },\r\n        newChat() {\r\n            if (this.chatMessages.length == 0) {\r\n                //说明没有新建\r\n                getkbChat().then((res) => {\r\n                    //\r\n                    console.log(\"getkbChat\", res)\r\n\r\n                    this.chat_id = res.dialogue_id\r\n                    this.chatStarted = true;\r\n                    this.chatMessages = res.history\r\n                }).catch((err) => {\r\n                    console.log(\"err\")\r\n                })\r\n            }\r\n            else {\r\n                //保存在历史\r\n                this.newhistory.showDeleteButton = false\r\n                let newhistory = this.newhistory\r\n                var isDuplicate = this.historyArrlist.some(function (item) {\r\n                    return item.dialogue_id === newhistory.dialogue_id;\r\n                });\r\n\r\n                // 如果不存在相同 dialogue_id 的记录，则将新记录添加到历史记录数组中\r\n                if (!isDuplicate) {\r\n                    this.historyArrlist.unshift(newhistory);\r\n                }\r\n                else {\r\n                    getChat().then((res) => {\r\n                        console.log(\"getChat\", res)\r\n                        this.chat_id = res.dialogue_id\r\n                        this.chatStarted = true;\r\n                        this.chatMessages = res.history\r\n                    }).catch((err) => {\r\n                        console.log(\"err\")\r\n                    })\r\n                }\r\n                console.log(this.historyArrlist, \"this.historyArrlist\")\r\n            }\r\n\r\n        },\r\n\r\n        newChat1() {\r\n\r\n            if (this.newhistory !== \"\") {\r\n                this.historyArrlist.unshift(this.newhistory)\r\n\r\n            }\r\n            else {\r\n\r\n            }\r\n            this.chat_id = \"\"\r\n            this.chatStarted = false;\r\n\r\n            // if (this.chatMessages.length > 0) {\r\n            //     this.historyArrlist.push({ time: new Date(), content: this.chatMessages, title: this.chatMessages[0].content, showDeleteButton: false })\r\n            // }\r\n            this.chatMessages = [];\r\n\r\n        },\r\n        historyChat(question, index) {\r\n            console.log(\"this.question\", question)\r\n            this.chatStarted = true;\r\n            this.historyArrlist.forEach((item, i) => {\r\n                item.showDeleteButton = i === index;\r\n            });\r\n            this.newhistory = question\r\n            this.chatMessages = question.history\r\n            this.chat_id = question.dialogue_id\r\n        },\r\n\r\n\r\n        //上传文件之前\r\n        beforeUpload(file) {\r\n            if (file.type != \"\" || file.type != null || file.type != undefined) {\r\n                //截取文件的后缀，判断文件类型\r\n                const FileExt = file.name.replace(/.+\\./, \"\").toLowerCase();\r\n                //计算文件的大小\r\n                const isLt5M = file.size / 1024 / 1024 < 50; //这里做文件大小限制\r\n                //如果大于50M\r\n                if (!isLt5M) {\r\n                    this.$showMessage('上传文件大小不能超过 50MB!');\r\n                    return false;\r\n                }\r\n                //如果文件类型不在允许上传的范围内\r\n                if (this.fileType.includes(FileExt)) {\r\n                    return true;\r\n                }\r\n                else {\r\n                    this.$message.error(\"上传文件格式不正确!\");\r\n                    return false;\r\n                }\r\n            }\r\n        },\r\n        //上传了的文件给移除的事件，由于我没有用到默认的展示，所以没有用到\r\n        handleRemove() {\r\n        },\r\n        //这是我自定义的移除事件\r\n        handleClose(i) {\r\n            this.fileList.splice(i, 1);//删除上传的文件\r\n            if (this.fileList.length == 0) {//如果删完了\r\n                this.fileflag = true;//显示url必填的标识\r\n                this.$set(this.rules.url, 0, { required: true, validator: this.validatorUrl, trigger: 'blur' })//然后动态的添加本地方法的校验规则\r\n            }\r\n        },\r\n        //超出文件个数的回调\r\n        handleExceed() {\r\n            this.$message({\r\n                type: 'warning',\r\n                message: '超出最大上传文件数量的限制！'\r\n            }); return\r\n        },\r\n        //上传文件的事件\r\n        uploadFile(item) {\r\n            // this.$showMessage('文件上传中........')\r\n            //上传文件的需要formdata类型;所以要转\r\n            console.log(\"FormDatas\", item)\r\n\r\n            var FormDatas = new FormData()\r\n            FormDatas.append('file', item.file);\r\n            console.log(\"FormDatas\", FormDatas.get(\"file\"))\r\n            let params = {\r\n                file: FormDatas.get(\"file\"),\r\n            }\r\n            this.fileList.push(item.file);\r\n\r\n            chatupload(params).then(res => {\r\n                console.log(\"res\", res.data.content)\r\n                // if (res.data.id != '' || res.data.id != null) {\r\n                //     this.fileList.push(item.file);//成功过后手动将文件添加到展示列表里\r\n                //     let i = this.fileList.indexOf(item.file)\r\n                //     this.fileList[i].id = res.data.id;//id也添加进去，最后整个大表单提交的时候需要的\r\n                //     if (this.fileList.length > 0) {//如果上传了附件就把校验规则给干掉\r\n                //         this.fileflag = false;\r\n                //         this.$set(this.rules.url, 0, '')\r\n                //     }\r\n                //     //this.handleSuccess();\r\n                // }\r\n            })\r\n        },\r\n        //上传成功后的回调\r\n        handleSuccess() {\r\n\r\n        },\r\n        beforeRemove() {\r\n\r\n        },\r\n        handlePreview() {\r\n\r\n        },\r\n\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n.background-container {\r\n    background-image: url(../../imgs/bg.png);\r\n    background-size: cover;\r\n    /* Ensure the image covers the entire container */\r\n    background-position: center;\r\n    /* Center the image */\r\n    background-repeat: no-repeat;\r\n    /* Prevent the image from repeating */\r\n    height: 100vh;\r\n    /* Full viewport height */\r\n    width: 100%;\r\n    /* Full width */\r\n}\r\n\r\n.header-container {\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 10px 20px;\r\n    margin-left: 50px\r\n        /* border-bottom: 1px solid #e0e0e0; */\r\n}\r\n\r\n.logo {\r\n    width: 25px;\r\n    height: 25px;\r\n}\r\n\r\n.title {\r\n    font-family: 'Arial', sans-serif;\r\n    /* Change to the font family you need */\r\n    font-size: 18px;\r\n    /* Adjust size as needed */\r\n    font-weight: bold;\r\n    color: #333;\r\n    /* Adjust color as needed */\r\n    margin-left: 10px;\r\n}\r\n\r\n.main-container {\r\n    height: 70vh;\r\n    display: flex;\r\n    background-color: aquamarine;\r\n    margin-left: 50px;\r\n    margin-right: 50px;\r\n    border-radius: 75px;\r\n}\r\n\r\n.aside-container {\r\n    padding: 20px;\r\n    display: flex;\r\n    flex-direction: column;\r\n\r\n    border-radius: 75px;\r\n    margin-left: 10px;\r\n    margin-top: 10px;\r\n    margin-bottom: 10px;\r\n}\r\n\r\n.aside-header {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 10px;\r\n}\r\n\r\n.aside-menu {\r\n    margin-top: 20px;\r\n}\r\n\r\n.history-list {\r\n    flex-grow: 1;\r\n    margin-top: 20px;\r\n    overflow-y: auto;\r\n}\r\n\r\n.history-item {\r\n    padding: 10px;\r\n    border-bottom: 1px solid #dcdcdc;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n.feedback {\r\n    font-family: 'Arial', sans-serif;\r\n    font-size: 14px;\r\n    color: #333;\r\n}\r\n\r\n.main-content {\r\n    padding: 20px;\r\n    overflow-y: auto;\r\n    background-color: #e0e0e0;\r\n    margin-right: 20px;\r\n    border-radius: 75px;\r\n}\r\n\r\n.footer-container {\r\n    text-align: center;\r\n    padding: 10px;\r\n    background: rgba(255, 255, 255, 0.8);\r\n    border-top: 1px solid #e0e0e0;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./KnowLedgeChat.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./KnowLedgeChat.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./KnowLedgeChat.vue?vue&type=template&id=323ca952&\"\nimport script from \"./KnowLedgeChat.vue?vue&type=script&lang=js&\"\nexport * from \"./KnowLedgeChat.vue?vue&type=script&lang=js&\"\nimport style0 from \"./KnowLedgeChat.vue?vue&type=style&index=0&id=323ca952&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-container',{staticClass:\"main-bg\"},[_c('Nav',{attrs:{\"isCollapse\":_vm.isCollapse,\"isSelect\":_vm.selected},on:{\"update:isCollapse\":_vm.updateIsCollapse}}),_c('el-container',{style:({ 'margin-left': _vm.isCollapse ? '-40px' : '0px' })},[_c('el-main',[_c('el-container',{staticStyle:{\"background-color\":\"antiquewhite\",\"height\":\"90vh\",\"border-radius\":\"5px\"}},[_c('el-aside',{staticClass:\"aside-container\",attrs:{\"width\":\"200px\"}},[_c('el-header',{staticStyle:{\"text-align\":\"center\",\"line-height\":\"40px\",\"margin-top\":\"10px\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.newChat}},[_vm._v(\"新对话\")])],1),_c('el-menu',{staticStyle:{\"background-color\":\"antiquewhite\",\"border-radius\":\"5px\",\"height\":\"200px\",\"justify-content\":\"center\"},on:{\"select\":_vm.handleSelect}},_vm._l((_vm.historyArrlist),function(question,index){return _c('el-menu-item',{key:index,staticClass:\"menu-item-history\",attrs:{\"index\":index.toString()},on:{\"click\":function($event){return _vm.historyChat(question, index)}}},[_c('span',{staticClass:\"menu-item-wrapper\",attrs:{\"slot\":\"title\"},on:{\"mouseover\":function($event){return _vm.showDeleteButton(index)},\"mouseleave\":function($event){return _vm.hideDeleteButton(index)}},slot:\"title\"},[_vm._v(\" \"+_vm._s(_vm.getUserContent(question.history))+\" \"),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(question.showDeleteButton),expression:\"question.showDeleteButton\"}],staticStyle:{\"position\":\"absolute\",\"right\":\"5px\",\"top\":\"55%\",\"transform\":\"translateY(-51%)\"},attrs:{\"type\":\"text\",\"icon\":\"el-icon-close\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.deleteItem(index)}}})],1)])}),1)],1),_c('el-container',{staticStyle:{\"background-color\":\"whitesmoke\",\"border-radius\":\"5px\"}},[_c('el-main',{staticStyle:{\"justify-content\":\"center\"}},[(_vm.chatStarted)?_c('div',{ref:\"chatContainer\",staticClass:\"chat-container\"},_vm._l((_vm.chatMessages),function(message,index){return _c('div',{key:index,staticClass:\"chat-message\"},[(message.role === 'user')?_c('div',{staticClass:\"answer-message\"},[_c('div',{staticClass:\"card\",staticStyle:{\"background-color\":\"rgba(244, 152, 24, 0.5)\",\"float\":\"right\"}},[_c('i',{staticClass:\"el-icon-user\"},[_vm._v(\" \"+_vm._s(message.content))]),(_vm.dialogImageUrl !== '')?_c('div',[_c('el-image',{staticStyle:{\"width\":\"200px\",\"height\":\"200px\"},attrs:{\"src\":_vm.dialogImageUrl,\"fit\":_vm.fit}})],1):_vm._e(),(_vm.dialogFileUrl !== '')?_c('div',[_c('a',[_vm._v(\" \"+_vm._s(_vm.dialogFileUrl))])]):_vm._e()])]):(message.role === 'assistant')?_c('div',{staticClass:\"answer-message\"},[_c('div',{staticClass:\"card\",staticStyle:{\"width\":\"800px\"}},[(index === _vm.chatMessages.length - 1)?_c('span',[_c('vue-markdown',{attrs:{\"source\":message.content,\"breaks\":true,\"typographer\":true,\"linkify\":true,\"highlight\":false}})],1):_c('span',[_vm._v(\" \"+_vm._s(message.content)+\" \")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.floatactiveIndex == index),expression:\"floatactiveIndex == index\"}],staticClass:\"floating-actions\"},[_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"朗读\",\"placement\":\"bottom-start\"}},[_c('i',{staticClass:\"el-icon-video-play\",on:{\"click\":_vm.readAloud}})]),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"复制\",\"placement\":\"bottom\"}},[_c('i',{staticClass:\"el-icon-copy-document\",on:{\"click\":_vm.copyContent}})]),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"点赞\",\"placement\":\"bottom-end\"}},[_c('i',{staticClass:\"el-icon-thumb\",on:{\"click\":_vm.likeMessage}})]),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"点踩\",\"placement\":\"bottom-end\"}},[_c('i',{staticClass:\"el-icon-bottom\",on:{\"click\":_vm.dislikeMessage}})]),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"重新生成\",\"placement\":\"bottom-end\"}},[_c('i',{staticClass:\"el-icon-refresh-left\",on:{\"click\":_vm.regenerateMessage}})])],1)]):_vm._e()])}),0):_c('div',[_c('el-row',{staticClass:\"main-message\",attrs:{\"type\":\"flex\"}},[_c('el-col',{attrs:{\"span\":20}},[_c('div',{staticClass:\"message-content\"},[_vm._v(\" Yoka: 助力安全生产的强大知识管家 \")])])],1),_c('el-row',{staticClass:\"response-options\",attrs:{\"type\":\"flex\"}},_vm._l((_vm.cards1),function(card,index){return _c('el-col',{key:index,attrs:{\"span\":8}},[_c('el-card',{staticStyle:{\"height\":\"300px\"},nativeOn:{\"click\":function($event){return _vm.sendMessage(card.message)}}},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(_vm._s(card.header))])]),_c('div',{staticClass:\"text item\"},[_vm._v(\" \"+_vm._s(card.content)+\" \")])])],1)}),1)],1)]),_c('el-footer',{staticStyle:{\"align-items\":\"flex-start\",\"display\":\"flex\"}},[_c('div',{staticClass:\"input-wrapper\"},[_c('el-dropdown',{staticClass:\"input-select1\"},[_c('span',{staticClass:\"el-dropdown-link\"},[_vm._v(\" \"+_vm._s(_vm.promptdefaultvalue)),_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\"})]),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},_vm._l((_vm.promptall),function(item){return _c('el-dropdown-item',{key:item.label,nativeOn:{\"click\":function($event){return _vm.handleSelectDrop1(item)}}},[_vm._v(\" \"+_vm._s(item.value)+\" \")])}),1)],1),_c('el-dropdown',{staticClass:\"input-select1\"},[_c('span',{staticClass:\"el-dropdown-link\"},[_vm._v(\" \"+_vm._s(_vm.modeldefaultvalue)),_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\"})]),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},_vm._l((_vm.models),function(item){return _c('el-dropdown-item',{key:item.label,nativeOn:{\"click\":function($event){return _vm.handleSelectDrop(item)}}},[_vm._v(\" \"+_vm._s(item.value)+\" \")])}),1)],1),_c('div',{staticClass:\"input-field-wrapper\"},[_c('el-input',{staticClass:\"input-field\",attrs:{\"placeholder\":\"请输入内容\"},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.startChat.apply(null, arguments)}},model:{value:(_vm.newMessage),callback:function ($$v) {_vm.newMessage=$$v},expression:\"newMessage\"}})],1),_c('div',{staticClass:\"input-button\"},[_vm._l((_vm.fileList),function(file,index){return _c('div',{key:index,staticClass:\"file-tag\"},[_c('span',{staticStyle:{\"overflow\":\"hidden\",\"text-overflow\":\"ellipsis\",\"font-size\":\"10px\"}},[_vm._v(_vm._s(file.name))]),_c('i',{staticClass:\"el-icon-close\",on:{\"click\":function($event){return _vm.removeFile(index)}}})])}),_c('el-upload',{ref:\"upload\",staticClass:\"upload-icon\",attrs:{\"action\":\"\",\"http-request\":_vm.uploadImg,\"show-file-list\":false,\"accept\":\"image/*\"}},[_c('i',{staticClass:\"el-icon-picture-outline-round\",staticStyle:{\"margin-right\":\"5px\"}})]),_c('el-upload',{ref:\"upload\",staticClass:\"upload-icon\",attrs:{\"action\":\"\",\"http-request\":_vm.uploadFile,\"show-file-list\":false}},[_c('i',{staticClass:\"el-icon-paperclip\",staticStyle:{\"margin-right\":\"5px\"}})]),_c('i',{staticClass:\"el-icon-s-promotion\",staticStyle:{\"margin-right\":\"5px\"},on:{\"click\":_vm.startChat}})],2)],1)])],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <el-container class=\"main-bg\">\r\n        <Nav :isCollapse=\"isCollapse\" @update:isCollapse=\"updateIsCollapse\" :isSelect=\"selected\"></Nav>\r\n\r\n        <el-container :style=\"{ 'margin-left': isCollapse ? '-40px' : '0px' }\">\r\n            <el-main>\r\n\r\n                <el-container style=\"background-color: antiquewhite;height: 90vh;border-radius: 5px;\">\r\n                    <el-aside width=\"200px\" class=\"aside-container\">\r\n                        <el-header style=\"text-align: center; line-height: 40px; margin-top:10px; \">\r\n                            <el-button type=\"primary\" icon=\"el-icon-plus\" @click=\"newChat\">新对话</el-button>\r\n                        </el-header>\r\n                        <!-- Sidebar content here -->\r\n                        <el-menu @select=\"handleSelect\"\r\n                            style=\"background-color: antiquewhite; border-radius: 5px; height: 200px; justify-content: center;\">\r\n                            <el-menu-item v-for=\"(question, index) in historyArrlist\" :key=\"index\"\r\n                                :index=\"index.toString()\" class=\"menu-item-history\"\r\n                                @click=\"historyChat(question, index)\">\r\n                                <span slot=\"title\" @mouseover=\"showDeleteButton(index)\"\r\n                                    @mouseleave=\"hideDeleteButton(index)\" class=\"menu-item-wrapper\">\r\n                                    {{ getUserContent(question.history) }}\r\n                                    <el-button v-show=\"question.showDeleteButton\" type=\"text\" icon=\"el-icon-close\"\r\n                                        @click.stop=\"deleteItem(index)\"\r\n                                        style=\"position: absolute; right: 5px; top: 55%; transform: translateY(-51%);\"></el-button>\r\n                                </span>\r\n                            </el-menu-item>\r\n                        </el-menu>\r\n                    </el-aside>\r\n\r\n                    <el-container style=\"background-color: whitesmoke; border-radius: 5px;\">\r\n\r\n                        <el-main style=\"justify-content: center;\">\r\n                            <!-- 聊天页面 -->\r\n                            <div v-if=\"chatStarted\" class=\"chat-container\" ref=\"chatContainer\">\r\n                                <div v-for=\"(message, index) in chatMessages\" :key=\"index\" class=\"chat-message\">\r\n                                    <div v-if=\"message.role === 'user'\" class=\"answer-message\">\r\n                                        <div class=\"card\"\r\n                                            style=\" background-color: rgba(244, 152, 24, 0.5); float: right;\">\r\n                                            <i class=\"el-icon-user\"> {{ message.content }}</i>\r\n                                            <div v-if=\"dialogImageUrl !== ''\">\r\n\r\n                                                <el-image style=\"width: 200px; height: 200px\" :src=\"dialogImageUrl\"\r\n                                                    :fit=\"fit\"></el-image>\r\n                                            </div>\r\n                                            <div v-if=\"dialogFileUrl !== ''\">\r\n                                                <a > {{dialogFileUrl}}</a>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div v-else-if=\"message.role === 'assistant'\" class=\"answer-message\">\r\n                                        <div class=\"card\" style=\"width: 800px;\">\r\n\r\n                                            <span v-if=\"index === chatMessages.length - 1\">\r\n                                                <vue-markdown :source=\"message.content\" :breaks=\"true\"\r\n                                                    :typographer=\"true\" :linkify=\"true\"\r\n                                                    :highlight=\"false\"></vue-markdown>\r\n\r\n                                            </span>\r\n                                            <span v-else>\r\n                                                {{ message.content }}\r\n                                            </span>\r\n\r\n\r\n                                        </div>\r\n                                        <div class=\"floating-actions\" v-show=\"floatactiveIndex == index\">\r\n\r\n                                            <el-tooltip class=\"item\" effect=\"dark\" content=\"朗读\"\r\n                                                placement=\"bottom-start\">\r\n                                                <i class=\"el-icon-video-play\" @click=\"readAloud\"></i>\r\n                                            </el-tooltip>\r\n                                            <el-tooltip class=\"item\" effect=\"dark\" content=\"复制\" placement=\"bottom\">\r\n                                                <i class=\"el-icon-copy-document\" @click=\"copyContent\"></i>\r\n                                            </el-tooltip>\r\n                                            <el-tooltip class=\"item\" effect=\"dark\" content=\"点赞\" placement=\"bottom-end\">\r\n                                                <i class=\"el-icon-thumb\" @click=\"likeMessage\"></i>\r\n\r\n                                            </el-tooltip>\r\n                                            <el-tooltip class=\"item\" effect=\"dark\" content=\"点踩\" placement=\"bottom-end\">\r\n                                                <i class=\"el-icon-bottom\" @click=\"dislikeMessage\"></i>\r\n\r\n                                            </el-tooltip>\r\n                                            <el-tooltip class=\"item\" effect=\"dark\" content=\"重新生成\"\r\n                                                placement=\"bottom-end\">\r\n                                                <i class=\"el-icon-refresh-left\" @click=\"regenerateMessage\"></i>\r\n\r\n                                            </el-tooltip>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n\r\n                            <div v-else>\r\n                                <el-row type=\"flex\" class=\"main-message\">\r\n                                    <el-col :span=\"20\">\r\n                                        <div class=\"message-content\">\r\n                                            Yoka: 助力安全生产的强大知识管家\r\n                                        </div>\r\n                                    </el-col>\r\n                                </el-row>\r\n                                <el-row type=\"flex\" class=\"response-options\">\r\n                                    <el-col :span=\"8\" v-for=\"(card, index) in cards1\" :key=\"index\">\r\n                                        <el-card @click.native=\"sendMessage(card.message)\" style=\"height: 300px;\">\r\n                                            <div slot=\"header\" class=\"clearfix\">\r\n                                                <span>{{ card.header }}</span>\r\n                                            </div>\r\n                                            <div class=\"text item\">\r\n                                                {{ card.content }}\r\n                                            </div>\r\n                                        </el-card>\r\n                                    </el-col>\r\n                                </el-row>\r\n                            </div>\r\n\r\n                        </el-main>\r\n\r\n\r\n                        <el-footer style=\"align-items: flex-start; display: flex\">\r\n                            <!-- Input area -->\r\n\r\n\r\n\r\n                            <div class=\"input-wrapper\">\r\n                                <el-dropdown class=\"input-select1\">\r\n                                    <span class=\"el-dropdown-link\">\r\n                                        {{ promptdefaultvalue }}<i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n                                    </span>\r\n                                    <el-dropdown-menu slot=\"dropdown\">\r\n                                        <el-dropdown-item v-for=\"item in promptall\" :key=\"item.label\"\r\n                                            @click.native=\"handleSelectDrop1(item)\">\r\n                                            {{ item.value }}\r\n                                        </el-dropdown-item>\r\n                                    </el-dropdown-menu>\r\n                                </el-dropdown>\r\n                                <el-dropdown class=\"input-select1\">\r\n                                    <span class=\"el-dropdown-link\">\r\n                                        {{ modeldefaultvalue }}<i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n                                    </span>\r\n                                    <el-dropdown-menu slot=\"dropdown\">\r\n                                        <el-dropdown-item v-for=\"item in models\" :key=\"item.label\"\r\n                                            @click.native=\"handleSelectDrop(item)\">\r\n                                            {{ item.value }}\r\n                                        </el-dropdown-item>\r\n                                    </el-dropdown-menu>\r\n                                </el-dropdown>\r\n                                <div class=\"input-field-wrapper\">\r\n                                    <el-input v-model=\"newMessage\" class=\"input-field\" placeholder=\"请输入内容\"\r\n                                        @keydown.enter=\"startChat\">\r\n                                    </el-input>\r\n\r\n                                </div>\r\n                                <div class=\"input-button\">\r\n                                \r\n                                    <div v-for=\"(file, index) in fileList\" :key=\"index\" class=\"file-tag\">\r\n                                        <span style=\" overflow: hidden; text-overflow: ellipsis;font-size: 10px;\">{{\r\n            file.name }}</span>\r\n                                        <i class=\"el-icon-close\" @click=\"removeFile(index)\"></i>\r\n                                    </div>\r\n                                    <el-upload class=\"upload-icon\" action :http-request=\"uploadImg\" ref=\"upload\"\r\n                                        :show-file-list=\"false\" accept=\"image/*\">\r\n                                        <i class=\"el-icon-picture-outline-round\" style=\"margin-right: 5px;\"></i>\r\n                                    </el-upload>\r\n                                    <el-upload class=\"upload-icon\" action :http-request=\"uploadFile\" ref=\"upload\"\r\n                                        :show-file-list=\"false\">\r\n                                        <i class=\"el-icon-paperclip\" style=\"margin-right: 5px;\"></i>\r\n                                    </el-upload>\r\n                                    <i class=\"el-icon-s-promotion\" @click=\"startChat\" style=\"margin-right: 5px;\">\r\n                                    </i>\r\n                                </div>\r\n\r\n\r\n                            </div>\r\n                        </el-footer>\r\n                    </el-container>\r\n                </el-container>\r\n            </el-main>\r\n        </el-container>\r\n    </el-container>\r\n</template>\r\n\r\n<script>\r\nimport { chatFileStreamgpt, chatImgStreamgpt, upload_img, upload_doc, chatkbStreamgpt, chatStreamgpt, getChatMsg, gethistory, getChat, getstatic, chatgpt, getChatchat } from \"@/api/getData\";\r\nimport Emoji from \"@/components/Emoji.vue\";\r\nimport Nav from \"@/components/Nav.vue\";\r\nimport commonMethodsMixin from '../../util/publicfun.js';\r\nimport StreamText from '@/components/StreamText.vue';\r\nimport VueMarkdown from 'vue-markdown';\r\nexport default {\r\n    mixins: [commonMethodsMixin],\r\n    components: {\r\n        Emoji,\r\n        Nav,\r\n        StreamText,\r\n        VueMarkdown\r\n    },\r\n    data() {\r\n        return {\r\n            selected: '2',\r\n            floatactiveIndex: null,\r\n            showActions: false,\r\n            promptall: [{\r\n                value: \"生成摘要\",\r\n            }, {\r\n                value: '标签提取',\r\n            }, {\r\n                value: '内容检查',\r\n            }],\r\n\r\n            isCollapse: false,\r\n            cards: [\r\n                {\r\n                    icon: 'el-icon-info',\r\n                    title: '标题一',\r\n                    subtitle: '副标题一'\r\n                },\r\n                {\r\n                    icon: 'el-icon-warning',\r\n                    title: '标题二',\r\n                    subtitle: '副标题二'\r\n                },\r\n                {\r\n                    icon: 'el-icon-error',\r\n                    title: '标题三',\r\n                    subtitle: '副标题三'\r\n                },\r\n                {\r\n                    icon: 'el-icon-success',\r\n                    title: '标题四',\r\n                    subtitle: '副标题四'\r\n                }\r\n            ],\r\n            chat_id: \"\",\r\n            newhistory: {},\r\n            historyArrlist: [],\r\n            configs: [],\r\n            promptall: [],\r\n            promptdefaultvalue: 'default',\r\n            modeldefaultvalue: \"deepseek\",\r\n            dynamicMarginLeft: '50px',\r\n            isCollapse: false,\r\n            newMessage: '',\r\n            cards: [\r\n                {\r\n                    icon: 'el-icon-info',\r\n                    title: '标题一',\r\n                    subtitle: '副标题一'\r\n                },\r\n                {\r\n                    icon: 'el-icon-warning',\r\n                    title: '标题二',\r\n                    subtitle: '副标题二'\r\n                },\r\n                {\r\n                    icon: 'el-icon-error',\r\n                    title: '标题三',\r\n                    subtitle: '副标题三'\r\n                },\r\n                {\r\n                    icon: 'el-icon-success',\r\n                    title: '标题四',\r\n                    subtitle: '副标题四'\r\n                }\r\n            ],\r\n            cards1: [\r\n                {\r\n                    header: '翻译',\r\n                    content: 'The quick brown fox jumps over a lazy dog.',\r\n                    message: 'The quick brown fox jumps over a lazy dog.'\r\n                },\r\n                {\r\n                    header: '摘要',\r\n                    content: '生成如下内容的摘要：从前有一个小男孩,他住在一个偏远的小村庄里。虽然家境贫寒,但他很勇敢,也很喜欢探险。有一天,他在村边的树林里游荡,无意中迷了路。walks走来走去,终于看到一片小湖。湖面波光粼粼,清澈见底,景色宜人。就在这时,他发现湖中有一件闪闪发亮的东西。小男孩费了好大劲,终于将它捞了上来,原来是一个会说话的老鸭子!',\r\n                    message: '帮我分析这个摘要'\r\n                },\r\n                {\r\n                    header: '试题生成',\r\n                    content: '出题：生产、储存区域应设置安全警示标志。搬运时要轻装轻卸，防止包装及容器损坏。配备相应品种和数量的消防器材及泄漏应急处理设备。倒空的容器可能存在残留有害物时应及时处理。',\r\n                    message: '帮我生成一个试题'\r\n                }\r\n            ],\r\n            chatMessages: [],\r\n            chatStarted: false,\r\n            chatMessagesList: [],\r\n            //上传后的文件列表\r\n            fileList: [],\r\n            // 允许的文件类型\r\n            // fileType: [\"pdf\", \"doc\", \"docx\", \"xls\", \"xlsx\", \"txt\", \"png\", \"jpg\", \"bmp\", \"jpeg\"],\r\n            // 运行上传文件大小，单位 M\r\n            fileSize: 50,\r\n            // 附件数量限制\r\n            fileLimit: 1,\r\n            //请求头\r\n            headers: { \"Content-Type\": \"multipart/form-data\" },\r\n            kbs: [],\r\n            models: [],\r\n            prompts: [],\r\n            fileType: \"\",\r\n            dialogImageUrl: \"\",\r\n            dialogFileUrl: \"\"\r\n\r\n        };\r\n    },\r\n    created() {\r\n        gethistory().then((res) => {\r\n            console.log(\"gethistoryres\", res)\r\n            this.historyArrlist = res.data\r\n        }).catch((err) => {\r\n            console.log(\"errr\", err)\r\n        })\r\n        getstatic().then((res) => {\r\n            console.log(\"全局11111\", res.data)\r\n\r\n            this.promptall = res.data.prompts.map(prompt => {\r\n                return {\r\n                    value: prompt.scene\r\n                };\r\n            });\r\n            this.models = res.data.models.map(prompt => {\r\n                return {\r\n                    value: prompt\r\n                };\r\n            });\r\n        }).catch((err) => {\r\n            console.log(\"err\", err)\r\n        })\r\n    },\r\n    mounted() {\r\n        // 在mounted中添加鼠标悬停事件监听器\r\n        const answerMessageElement = this.$el.querySelector('.answer-message');\r\n        if (answerMessageElement) {\r\n            answerMessageElement.addEventListener('mouseenter', this.showActionButtons);\r\n            answerMessageElement.addEventListener('mouseleave', this.hideActionButtons);\r\n        }\r\n    },\r\n    beforeDestroy() {\r\n        // 在beforeDestroy中移除鼠标悬停事件监听器\r\n        const answerMessageElement = this.$el.querySelector('.answer-message');\r\n        if (answerMessageElement) {\r\n            answerMessageElement.removeEventListener('mouseenter', this.showActionButtons);\r\n            answerMessageElement.removeEventListener('mouseleave', this.hideActionButtons);\r\n        }\r\n    },\r\n\r\n    methods: {\r\n        getUserContent(history) {\r\n            if (history.length > 0) {\r\n                const userEntry = history.find(entry => entry.role === 'user');\r\n                return userEntry ? userEntry.content : '';\r\n            }\r\n            else {\r\n                return \"\"\r\n            }\r\n\r\n        },\r\n        handleSelect(index) {\r\n            this.activeIndex = Number(index);\r\n            // 处理选中项逻辑\r\n        },\r\n        handleSelectDrop1(item) {\r\n            console.log(\"promptdefaultvalue\", item.value)\r\n            this.promptdefaultvalue = item.value\r\n        },\r\n        handleSelectDrop(item) {\r\n            console.log(\"modeldefaultvalue\", item.value)\r\n            this.modeldefaultvalue = item.value\r\n        },\r\n        updateIsCollapse(value) {\r\n            this.isCollapse = value;\r\n            // this.updateIsCollapse(value);\r\n        },\r\n        showActionButtons(index) {\r\n            console.log(\"index\", index)\r\n            if (index == 0) {\r\n                this.floatactiveIndex = -1;\r\n            }\r\n            else {\r\n                this.floatactiveIndex = index;\r\n\r\n            }\r\n        },\r\n        hideActionButtons() {\r\n            this.floatactiveIndex = null;\r\n        },\r\n        readAloud() {\r\n            // 朗读功能的实现\r\n        },\r\n        copyContent() {\r\n            // 复制功能的实现\r\n        },\r\n        likeMessage() {\r\n            // 点赞功能的实现\r\n        },\r\n        dislikeMessage() {\r\n            // 点踩功能的实现\r\n        },\r\n        regenerateMessage() {\r\n            // 重新生成功能的实现\r\n        },\r\n        // beforeUploadImg(file) {\r\n        //     if (file && file.type && file.name && file.size) {\r\n        //         //截取文件的后缀，判断文件类型\r\n        //         const FileExt = file.name.split('.').pop().toLowerCase();\r\n        //         //计算文件的大小\r\n        //         const isLt50M = file.size / 1024 / 1024 < 50; //这里做文件大小限制\r\n        //         //如果大于50M\r\n        //         if (!isLt50M) {\r\n        //             this.$showMessage('上传文件大小不能超过 50MB!');\r\n        //             return false;\r\n        //         }\r\n        //         //允许上传的图片格式\r\n        //         const allowedImageTypes = ['jpg', 'jpeg', 'png', 'gif', 'bmp'];\r\n        //         //如果文件类型不在允许上传的范围内\r\n        //         if (allowedImageTypes.includes(FileExt)) {\r\n        //             return true;\r\n        //         } else {\r\n        //             this.$message.error(\"上传文件格式不正确, 仅支持 jpg, jpeg, png, gif, bmp 格式!\");\r\n        //             return false;\r\n        //         }\r\n        //     } else {\r\n        //         this.$message.error(\"文件信息不完整!\");\r\n        //         return false;\r\n        //     }\r\n        // },\r\n\r\n        // //上传文件之前\r\n        // beforeUpload(file) {\r\n        //     if (file.type != \"\" || file.type != null || file.type != undefined) {\r\n        //         //截取文件的后缀，判断文件类型\r\n        //         const FileExt = file.name.replace(/.+\\./, \"\").toLowerCase();\r\n        //         //计算文件的大小\r\n        //         const isLt5M = file.size / 1024 / 1024 < 50; //这里做文件大小限制\r\n        //         //如果大于50M\r\n        //         if (!isLt5M) {\r\n        //             this.$showMessage('上传文件大小不能超过 50MB!');\r\n        //             return false;\r\n        //         }\r\n        //         //如果文件类型不在允许上传的范围内\r\n        //         if (this.fileType.includes(FileExt)) {\r\n        //             return true;\r\n        //         }\r\n        //         else {\r\n        //             this.$message.error(\"上传文件格式不正确!\");\r\n        //             return false;\r\n        //         }\r\n        //     }\r\n        // },\r\n        //上传了的文件给移除的事件，由于我没有用到默认的展示，所以没有用到\r\n        handleRemove() {\r\n        },\r\n        //这是我自定义的移除事件\r\n        handleClose(i) {\r\n            this.fileList.splice(i, 1);//删除上传的文件\r\n            if (this.fileList.length == 0) {//如果删完了\r\n                this.fileflag = true;//显示url必填的标识\r\n                this.$set(this.rules.url, 0, { required: true, validator: this.validatorUrl, trigger: 'blur' })//然后动态的添加本地方法的校验规则\r\n            }\r\n        },\r\n        //超出文件个数的回调\r\n        handleExceed() {\r\n            this.$message({\r\n                type: 'warning',\r\n                message: '超出最大上传文件数量的限制！'\r\n            }); return\r\n        },\r\n        uploadImg(item) {\r\n            // this.$showMessage('文件上传中........')\r\n            //上传文件的需要formdata类型;所以要转\r\n            var FormDatas = new FormData()\r\n            FormDatas.append('file', item.file);\r\n\r\n            let params = {\r\n                file: FormDatas\r\n            }\r\n            this.dialogImageUrl = URL.createObjectURL(item.file);\r\n            console.log(\"this.dialogImageUrl\", item)\r\n\r\n            this.fileList.push(item.file);\r\n            upload_img(params).then(res => {\r\n                console.log(\"upload_imgres\", res.data.content)\r\n                this.fileType = \"img\"\r\n            })\r\n        },\r\n        //上传文件的事件\r\n        uploadFile(item) {\r\n            // this.$showMessage('文件上传中........')\r\n            //上传文件的需要formdata类型;所以要转\r\n            var FormDatas = new FormData()\r\n            FormDatas.append('file', item.file);\r\n           \r\n            this.dialogFileUrl = item.file.name;\r\n            let config = {\r\n                embedding_model: \"bce\",\r\n                index: \"flat_ip\",\r\n                text_splitter: \"default\",\r\n                chunk_size: 200,\r\n                overlap: 50,\r\n                chunk_split_method: \"default\"\r\n            }\r\n            let params = {\r\n                config: JSON.stringify(config),\r\n                file: FormDatas\r\n            }\r\n            this.fileList.push(item.file);\r\n            upload_doc(params).then(res => {\r\n                console.log(\"res\", res.data.content)\r\n                this.fileType = \"file\"\r\n            })\r\n        },\r\n        //上传成功后的回调\r\n        handleSuccess() {\r\n\r\n        },\r\n        beforeRemove() {\r\n\r\n        },\r\n        handlePreview() {\r\n\r\n        },\r\n        historyChat(question) {\r\n            console.log(\"this.question\", question)\r\n            this.dialogImageUrl = \"\"\r\n            this.dialogFileUrl = \"\"\r\n            this.chatStarted = true;\r\n            question.showDeleteButton = true\r\n            this.newhistory = question\r\n            this.chatMessages = question.history\r\n            this.chat_id = question.dialogue_id\r\n        },\r\n        showDeleteButton(index) {\r\n            console.log(\"indexindex\", this.historyArrlist[index])\r\n            this.historyArrlist[index].showDeleteButton = true;\r\n        },\r\n        hideDeleteButton(index) {\r\n            this.historyArrlist[index].showDeleteButton = false\r\n        },\r\n        deleteItem(index) {\r\n            this.historyArrlist.splice(index, 1);\r\n        },\r\n        guid() {\r\n            return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n                var r = Math.random() * 16 | 0,\r\n                    v = c == 'x' ? r : (r & 0x3 | 0x8);\r\n                return v.toString(16);\r\n            });\r\n        }\r\n        ,\r\n        startChat() {\r\n            console.log(\"this.chat_id\", this.chat_id)\r\n\r\n            if (this.newMessage.trim() !== '' || this.newMessage.trim().length > 0) {\r\n                this.chatMessages.push({ content: this.newMessage, role: 'user' });\r\n                if (this.chat_id == \"\") {\r\n                    this.chat_id = this.guid()\r\n                }\r\n                console.log(\"chat_id\", this.chat_id)\r\n                let config = {\r\n                    \"model\": this.modeldefaultvalue,\r\n                    \"prompt\": this.promptdefaultvalue,\r\n                    \"knowledge\": \"default\",\r\n                    \"LLM_config\": \"default\"\r\n                }\r\n\r\n                let params = {\r\n                    dialogue_id: this.chat_id,\r\n                    query: this.newMessage,\r\n                    config: JSON.stringify(config)\r\n                    // history: JSON.stringify([{role:\"hh\",content:\"xx\"},{role:\"hh\",content:\"xx\"}])\r\n                    // {role:\"hh\",content:\"xx\"}\r\n                    // ,\r\n                }\r\n                console.log(\"params\", params, this.promptdefaultvalue)\r\n                if (this.fileType !== \"\") {\r\n                    if (this.fileType == \"img\") {\r\n                        chatImgStreamgpt(params, this.handleChunk, this.handleReferences)\r\n                    }\r\n                    else {\r\n                        let config1 = {\r\n                            \"model\": \"default\",\r\n                            \"prompt\": \"default\",\r\n                            \"knowledge\": \"new\",\r\n                            \"LLM_config\": \"default\"\r\n                        }\r\n\r\n                        let params1 = {\r\n                            dialogue_id: this.chat_id,\r\n                            query: this.newMessage,\r\n                            config: JSON.stringify(config1)\r\n                            // history: JSON.stringify([{role:\"hh\",content:\"xx\"},{role:\"hh\",content:\"xx\"}])\r\n                            // {role:\"hh\",content:\"xx\"}\r\n                            // ,\r\n                        }\r\n                        chatFileStreamgpt(params1, this.handleChunk, this.handleReferences)\r\n                    }\r\n                }\r\n                else {\r\n                    if (this.modeldefaultvalue == \"spark\") {\r\n                        chatgpt(params).then((res) => {\r\n                            this.chatMessages.push({ content: res.data.response, role: 'assistant', reference: res.data.reference });\r\n                            this.newhistory = {\r\n                                dialogue_id: this.chat_id, history: this.chatMessages\r\n                            }\r\n                            const existingIndex = this.historyArrlist.findIndex(item => item.dialogue_id === this.chat_id);\r\n\r\n                            if (existingIndex === -1) {\r\n                                this.historyArrlist.unshift(this.newhistory);\r\n                            } else {\r\n                                console.log(\"Duplicate dialogue_id found, not adding.\");\r\n                            }\r\n                            this.newMessage = '';\r\n                            this.chatStarted = true;\r\n\r\n\r\n                        });\r\n                    }\r\n                    else {\r\n                        chatStreamgpt(params, this.handleChunk, this.handleReferences);\r\n\r\n                    }\r\n                }\r\n\r\n\r\n            }\r\n            else {\r\n                this.$alert('请输入内容', '提示', {\r\n                    confirmButtonText: '确定',\r\n                    callback: action => {\r\n                    }\r\n                });\r\n            }\r\n        },\r\n        handleChunk(first, content) {\r\n            if (first) {\r\n                this.chatMessages.push({ content: '', role: 'assistant', reference: [] });\r\n            }\r\n\r\n            const lastMessageIndex = this.chatMessages.length - 1;\r\n            this.chatMessages[lastMessageIndex].content += content;\r\n\r\n            this.$set(this.chatMessages, lastMessageIndex, { ...this.chatMessages[lastMessageIndex] });\r\n            this.newhistory = {\r\n                dialogue_id: this.chat_id, history: this.chatMessages\r\n            }\r\n            const existingIndex = this.historyArrlist.findIndex(item => item.dialogue_id === this.chat_id);\r\n\r\n            if (existingIndex === -1) {\r\n                this.historyArrlist.unshift(this.newhistory);\r\n            } else {\r\n                console.log(\"Duplicate dialogue_id found, not adding.\");\r\n            }\r\n            this.newMessage = '';\r\n            this.chatStarted = true;\r\n            this.fileList = []\r\n        },\r\n        handleReferences(reference) {\r\n            console.log(\"reference\", JSON.parse(reference).reference)\r\n            const lastMessageIndex = this.chatMessages.length - 1;\r\n            this.chatMessages[lastMessageIndex].content = JSON.parse(reference).response;\r\n\r\n            this.chatMessages[lastMessageIndex].reference = JSON.parse(reference).reference;\r\n            this.$set(this.chatMessages, lastMessageIndex, { ...this.chatMessages[lastMessageIndex] });\r\n            console.log(\"this.chatMessages\", this.chatMessages)\r\n\r\n        },\r\n        newChat() {\r\n            this.dialogImageUrl = \"\"\r\n            this.dialogFileUrl = \"\"\r\n            if (this.chatMessages.length == 0) {\r\n                //说明没有新建\r\n                getChat().then((res) => {\r\n                    //\r\n                    console.log(\"getChat\", res)\r\n\r\n                    this.chat_id = res.dialogue_id\r\n                    this.chatStarted = true;\r\n                    this.chatMessages = res.history\r\n                }).catch((err) => {\r\n                    console.log(\"err\")\r\n                })\r\n            }\r\n            else {\r\n                //保存在历史\r\n                this.newhistory.showDeleteButton = false\r\n                let newhistory = this.newhistory\r\n                var isDuplicate = this.historyArrlist.some(function (item) {\r\n                    return item.dialogue_id === newhistory.dialogue_id;\r\n                });\r\n\r\n                // 如果不存在相同 dialogue_id 的记录，则将新记录添加到历史记录数组中\r\n                if (!isDuplicate) {\r\n                    this.historyArrlist.unshift(newhistory);\r\n                }\r\n                else {\r\n                    getChat().then((res) => {\r\n                        console.log(\"getChat\", res)\r\n                        this.chat_id = res.dialogue_id\r\n                        this.chatStarted = true;\r\n                        this.chatMessages = res.history\r\n                    }).catch((err) => {\r\n                        console.log(\"err\")\r\n                    })\r\n                }\r\n                console.log(this.historyArrlist, \"this.historyArrlist\")\r\n            }\r\n        },\r\n        toggleCollapse() {\r\n            this.isCollapse = !this.isCollapse; // 切换状态\r\n        },\r\n        handleOpen(key, keyPath) {\r\n            console.log(key, keyPath);\r\n        },\r\n        handleClose(key, keyPath) {\r\n            console.log(key, keyPath);\r\n        },\r\n        goToMain() {\r\n            window.location.href = '#/ChatHome';\r\n        },\r\n        goToKnowledgeQA() {\r\n            window.location.href = '#/KnowLedgeChat';\r\n        },\r\n        goToFreeChat() {\r\n            window.location.href = '#/FreeChat';\r\n        },\r\n        goToCheckChat() {\r\n            window.location.href = '#/CheckChat';\r\n        },\r\n        goToTitleSetChat() {\r\n            window.location.href = '#/TitleSetChat';\r\n        },\r\n        goToKnowSetting() {\r\n            window.location.href = '#/KnowSetting';\r\n        },\r\n        goToPrompt() {\r\n            window.location.href = '#/Prompt';\r\n        },\r\n        goToSelectModel() {\r\n            window.location.href = '#/SelectModel';\r\n        },\r\n        goToHelp() {\r\n            window.location.href = '#/HelpChat';\r\n        },\r\n        submitForm() {\r\n            console.log('Submitting form data along with the fileList:',);\r\n\r\n        },\r\n        sendMessage(text) {\r\n            this.newMessage = text;\r\n\r\n            // gethistory().then((res) => {\r\n            //     console.log(\"res\", res)\r\n            // }).catch((err) => {\r\n            //     console.log('err', err)\r\n            // })\r\n        },\r\n        removeFile(index) {\r\n            this.fileList = []\r\n        },\r\n        isImage(content) {\r\n            return /\\.(jpg|jpeg|png|gif|bmp)$/i.test(content);\r\n        },\r\n        isFile(content) {\r\n            return /^https?:\\/\\//i.test(content) && !this.isImage(content);\r\n        },\r\n        getFileName(content) {\r\n            return content.split('/').pop();\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n.el-menu .el-menu-item {\r\n    width: 100%;\r\n}\r\n\r\n.floating-actions {\r\n    /* position: absolute; */\r\n    display: flex;\r\n    flex-direction: row;\r\n    margin-top: 2px;\r\n    border: 1px solid #000;\r\n    border-radius: 5px;\r\n    padding: 5px;\r\n}\r\n\r\n\r\n\r\n.answer-message1 {\r\n    display: flex;\r\n    align-items: flex-start;\r\n    flex-direction: column;\r\n}\r\n\r\n.upload-icon,\r\n.send-btn {\r\n    /* background: transparent;\r\n    border: none; */\r\n\r\n}\r\n\r\n.icon-btn {\r\n    /* background: transparent;\r\n    border: none; */\r\n    /* color: #c0c4cc; */\r\n    /* 这个颜色可以根据你的设计调整 */\r\n    /* padding: 0 12px; */\r\n}\r\n\r\n.input-field-wrapper {\r\n    display: flex;\r\n    align-items: center;\r\n    flex-grow: 1;\r\n    position: relative;\r\n}\r\n\r\n.input-field .el-input__inner {\r\n    border: none;\r\n    background: transparent;\r\n    box-shadow: none;\r\n    /* flex-grow: 1; */\r\n}\r\n\r\n.file-tag {\r\n    display: flex;\r\n    align-items: center;\r\n    background-color: #e0e0e0;\r\n    border-radius: 12px;\r\n    padding: 4px 4px;\r\n    position: relative;\r\n    line-height: 18px;\r\n}\r\n\r\n.file-tag span {\r\n    margin-right: 0px;\r\n}\r\n\r\n.file-tag i {\r\n    cursor: pointer;\r\n    display: none;\r\n}\r\n\r\n.file-tag:hover i {\r\n    display: inline-block;\r\n}\r\n\r\n.menu-item-history {\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    margin-top: 5px;\r\n    border-radius: 10px;\r\n\r\n\r\n}\r\n\r\n.menu-item-history:hover {\r\n    border-radius: 10px;\r\n    /* 圆角 */\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FreeChat.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FreeChat.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FreeChat.vue?vue&type=template&id=0497ea63&\"\nimport script from \"./FreeChat.vue?vue&type=script&lang=js&\"\nexport * from \"./FreeChat.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FreeChat.vue?vue&type=style&index=0&id=0497ea63&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-container',{staticClass:\"main-bg\"},[_c('Nav',{attrs:{\"isCollapse\":_vm.isCollapse,\"isSelect\":_vm.selected},on:{\"update:isCollapse\":_vm.updateIsCollapse}}),_c('el-container',{style:({ 'margin-left': _vm.isCollapse ? '-40px' : '0px' })},[_c('el-main',[_c('el-header',[_c('el-upload',{ref:\"upload\",staticClass:\"upload-demo\",style:({ marginTop: _vm.fileList.length === 1 ? '-10px' : '0' }),attrs:{\"action\":\"\",\"http-request\":_vm.uploadFile,\"limit\":_vm.fileLimit,\"on-remove\":_vm.handleRemove,\"file-list\":_vm.fileList,\"on-exceed\":_vm.handleExceed,\"before-upload\":_vm.beforeUpload,\"show-file-list\":true}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"icon\":\"el-icon-plus\"}},[_vm._v(\"上传条款\")])],1)],1),_c('el-table',{ref:\"table\",attrs:{\"data\":_vm.currentPageData,\"border\":\"\"},on:{\"filter-change\":_vm._filterChange}},[_vm._l((_vm.dataList),function(item,index){return [(item.sort)?_c('el-table-column',{key:index,attrs:{\"label\":item.label,\"align\":\"center\",\"prop\":item.value,\"sortable\":\"\",\"show-overflow-tooltip\":true,\"filter-multiple\":true,\"filters\":_vm.filterData(item),\"filter-method\":_vm.filterTag}}):_c('el-table-column',{key:index,attrs:{\"label\":item.label,\"align\":\"center\",\"prop\":item.value,\"show-overflow-tooltip\":true}})]})],2),_c('el-row',{staticStyle:{\"float\":\"right\"},attrs:{\"type\":\"flex\",\"justify\":\"flex-end\"}},[_c('el-col',[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-sizes\":[10, 20, 30, 40],\"page-size\":_vm.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.tableData.length},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_c('el-col',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.exportExcel}},[_vm._v(\"导出\")])],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-container class=\"main-bg\">\r\n    <Nav :isCollapse=\"isCollapse\" @update:isCollapse=\"updateIsCollapse\" :isSelect=\"selected\"></Nav>\r\n\r\n    <el-container :style=\"{ 'margin-left': isCollapse ? '-40px' : '0px' }\">\r\n\r\n      <el-main>\r\n        <el-header>\r\n\r\n\r\n          <el-upload class=\"upload-demo\" action :http-request=\"uploadFile\" ref=\"upload\" :limit=\"fileLimit\"\r\n            :on-remove=\"handleRemove\" :file-list=\"fileList\" :on-exceed=\"handleExceed\" :before-upload=\"beforeUpload\"\r\n            :show-file-list=\"true\" :style=\"{ marginTop: fileList.length === 1 ? '-10px' : '0' }\">\r\n            <!-- action=\"/api/file/fileUpload\" -->\r\n            <el-button size=\"small\" type=\"primary\" icon=\"el-icon-plus\">上传条款</el-button>\r\n          </el-upload>\r\n        </el-header>\r\n        <el-table ref=\"table\" :data=\"currentPageData\" @filter-change=\"_filterChange\" border>\r\n          <template v-for=\"(item, index) in dataList\">\r\n            <el-table-column v-if=\"item.sort\" :key=\"index\" :label=\"item.label\" align=\"center\" :prop=\"item.value\"\r\n              sortable :show-overflow-tooltip=\"true\" :filter-multiple=\"true\" :filters=\"filterData(item)\"\r\n              :filter-method=\"filterTag\">\r\n            </el-table-column>\r\n            <el-table-column v-else :key=\"index\" :label=\"item.label\" align=\"center\" :prop=\"item.value\"\r\n              :show-overflow-tooltip=\"true\">\r\n            </el-table-column>\r\n          </template>\r\n        </el-table>\r\n        <el-row type=\"flex\" justify=\"flex-end\" style=\"float: right;\">\r\n          <el-col>\r\n            <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\"\r\n              :current-page=\"currentPage\" :page-sizes=\"[10, 20, 30, 40]\" :page-size=\"pageSize\"\r\n              layout=\"total, sizes, prev, pager, next, jumper\" :total=\"tableData.length\"></el-pagination>\r\n          </el-col>\r\n          <el-col>\r\n            <el-button type=\"primary\" @click=\"exportExcel\">导出</el-button>\r\n          </el-col>\r\n        </el-row>\r\n      </el-main>\r\n\r\n    </el-container>\r\n  </el-container>\r\n</template>\r\n\r\n<script>\r\nimport { getChatMsg, gethistory, getexam, upload_exam } from \"@/api/getData\";\r\nimport { saveAs } from 'file-saver';\r\nimport Docxtemplater from 'docxtemplater';\r\nimport JSZip from 'jszip';\r\nimport JSZipUtils from 'jszip-utils'\r\nimport 'docxtemplater/build/docxtemplater.js'\r\nimport 'pizzip/dist/pizzip.js'\r\nimport * as XLSX from \"xlsx\"\r\nimport FileSaver from 'file-saver'\r\nimport Emoji from \"@/components/Emoji.vue\";\r\nimport Nav from \"@/components/Nav.vue\";\r\nimport commonMethodsMixin from '../../util/publicfun.js';\r\nimport StreamText from '@/components/StreamText.vue';\r\nconst ImageModule = require('docxtemplater-image-module-free')\r\n\r\nfunction exportWord(template, exportRow, outputFilename) {\r\n  JSZipUtils.getBinaryContent(template, (error, content) => {\r\n    if (error) {\r\n      console.error(error, 'error')\r\n      return\r\n    }\r\n    var opts = {}\r\n    opts.centered = false\r\n    opts.getImage = (tagValue, tagName) => {\r\n      return new Promise((resolve, reject) => {\r\n        JSZipUtils.getBinaryContent(tagValue, (error, content) => {\r\n          if (error) {\r\n            return reject(error)\r\n          }\r\n          return resolve(content)\r\n        })\r\n      })\r\n    }\r\n    //图片有关代码，没有图片的可以删除\r\n    opts.getSize = (img, tagValue, tagName) => {\r\n      // FOR FIXED SIZE IMAGE :\r\n      return [470, 210] //图片大小 （这个可以写成动态的，开发文档上有）\r\n      return new Promise((resolve, reject) => {\r\n        var image = new Image()\r\n        image.src = url\r\n        image.onload = () => {\r\n          resolve([image.width, image.height])\r\n        }\r\n        image.onerror = (e) => {\r\n          console.log('img, tagValue, tagName : ', img, tagValue, tagName)\r\n          reject(e)\r\n        }\r\n      })\r\n    }\r\n    var imageModule = new ImageModule(opts)\r\n\r\n    var zip = new PizZip(content)\r\n    var doc = new docxtemplater()\r\n      .loadZip(zip)\r\n      .attachModule(imageModule)\r\n      .compile()\r\n    doc\r\n      .resolveData(exportRow)\r\n      .then((res) => {\r\n        doc.render()\r\n        var out = doc.getZip().generate({\r\n          type: 'blob',\r\n          mimeType:\r\n            'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\r\n        })\r\n        saveAs(out, outputFilename + '.docx')\r\n      })\r\n      .catch((error) => {\r\n        let e = {\r\n          message: error.message,\r\n          name: error.name,\r\n          stack: error.stack,\r\n          properties: error.properties,\r\n        }\r\n        console.log(\r\n          JSON.stringify({\r\n            error: e,\r\n          })\r\n        )\r\n        throw error // 抛出异常\r\n      })\r\n  })\r\n}\r\n\r\nexport default {\r\n  mixins: [commonMethodsMixin],\r\n  components: {\r\n    Emoji,\r\n    Nav,\r\n    StreamText\r\n  },\r\n  data() {\r\n    return {\r\n      fileLimit: 1,\r\n      selected: '4',\r\n      tableData: [], // 原始数据\r\n      currentPage: 1, // 当前页码\r\n      pageSize: 10, // 每页显示条目数\r\n      isCollapse: false,\r\n      dataList: [\r\n        {\r\n          label: \"题目分类\",\r\n          value: \"parent\",\r\n          sort: true\r\n\r\n        },\r\n        {\r\n          label: \"题目标题\",\r\n          value: \"file\",\r\n          sort: true\r\n\r\n        },\r\n        {\r\n          label: \"题目内容\",\r\n          value: \"content\",\r\n          sort: false\r\n        },\r\n        {\r\n          label: \"时间\",\r\n          value: \"time\",\r\n          sort: true\r\n\r\n        },\r\n\r\n      ],\r\n      fileList: []\r\n\r\n\r\n\r\n    };\r\n  },\r\n  created() {\r\n    console.log(\"created\")\r\n    getexam().then((res) => {\r\n      this.tableData = res.data\r\n      console.log(\"getexamres\", res)\r\n    }).catch((err) => {\r\n      console.log(\"errr\", err)\r\n    })\r\n  },\r\n  watch: {\r\n    tableData() {\r\n      // this.updatePagedData();\r\n    },\r\n  },\r\n  computed: {\r\n    // 筛选项\r\n    filterData() {\r\n      return function (data) {\r\n        let obj = [];\r\n        //找到对应的数据 并添加到obj\r\n        this.tableData.filter((item) => {\r\n          obj.push({\r\n            text: item[data.value],\r\n            value: item[data.value],\r\n          });\r\n        });\r\n        //因为column有重复数据，所以要进行去重\r\n        return this.deWeight(obj);\r\n      };\r\n    },\r\n    currentPageData() {\r\n      const startIndex = (this.currentPage - 1) * this.pageSize;\r\n      const endIndex = startIndex + this.pageSize;\r\n      return this.tableData.slice(startIndex, endIndex);\r\n    }\r\n  },\r\n  mounted() {\r\n    // 初始化数据，这里是一个示例\r\n    this.tableData = [\r\n\r\n    ];\r\n    this.totalItems = this.tableData.length;\r\n    this.dataList = [\r\n      {\r\n        label: \"题目分类\",\r\n        value: \"parent\",\r\n        sort: true\r\n\r\n      },\r\n      {\r\n        label: \"题目标题\",\r\n        value: \"file\",\r\n        sort: true\r\n\r\n      },\r\n      {\r\n        label: \"题目内容\",\r\n        value: \"content\",\r\n        sort: false\r\n      },\r\n      {\r\n        label: \"时间\",\r\n        value: \"time\",\r\n        sort: true\r\n\r\n      },\r\n\r\n    ],\r\n      this.updatePagedData();\r\n  },\r\n  methods: {\r\n    //上传了的文件给移除的事件，由于我没有用到默认的展示，所以没有用到\r\n    handleRemove() {\r\n    },\r\n    handleExceed() {\r\n\r\n    },\r\n    beforeUpload() {\r\n\r\n    },\r\n    updateIsCollapse(value) {\r\n      this.isCollapse = value;\r\n      // this.updateIsCollapse(value);\r\n    },\r\n    //上传文件的事件\r\n    async uploadFile(item) {\r\n      // this.$showMessage('文件上传中........')\r\n      //上传文件的需要formdata类型;所以要转\r\n      console.log(\"FormDatas\", item)\r\n\r\n      var FormDatas = new FormData()\r\n      FormDatas.append('file', item.file);\r\n      console.log(\"FormDatas\", FormDatas.get(\"file\"))\r\n      let params = {\r\n        file: FormDatas.get(\"file\"),\r\n      }\r\n        ;\r\n      this.fileList.push(item.file);\r\n\r\n      await upload_exam(FormDatas, this.handleChunk);\r\n      // const response = await upload_exam(FormDatas,handleChunk);\r\n      // // 假设接口返回的是一个流式响应或一个包含数据块的数组\r\n      // const chunks = response.data; // 假设这里返回一个数组\r\n\r\n      // const processStream = async (chunks) => {\r\n      //   for (const chunk of chunks) {\r\n      //     this.handleChunk(JSON.stringify(chunk));\r\n      //     await new Promise(resolve => setTimeout(resolve, 500)); // 模拟延迟\r\n      //   }\r\n      // };\r\n\r\n      // await processStream(chunks);\r\n\r\n    },\r\n    handleChunk(chunkValue) {\r\n      try {\r\n        const data = JSON.parse(chunkValue);\r\n        console.log(\"datadatadata\",data)\r\n        this.tableData.unshift(data);\r\n        this.totalItems = this.tableData.length;\r\n      } catch (error) {\r\n        console.error('Error parsing chunk value', error);\r\n      }\r\n    },\r\n    handleSizeChange(newSize) {\r\n      this.pageSize = newSize;\r\n      this.updatePagedData();\r\n    },\r\n    handleCurrentChange(newPage) {\r\n      this.currentPage = newPage;\r\n      this.updatePagedData();\r\n    },\r\n\r\n    updatePagedData() {\r\n      const start = (this.currentPage - 1) * this.pageSize;\r\n      const end = start + this.pageSize;\r\n      this.tableData.slice(start, end);\r\n\r\n    },\r\n    //上传成功后的回调\r\n    handleSuccess() {\r\n\r\n    },\r\n    beforeRemove() {\r\n\r\n    },\r\n    handlePreview() {\r\n\r\n    },\r\n    exportExcel() {\r\n      // 1. 将表格数据转换为 Excel 文件的格式\r\n      const worksheet = XLSX.utils.json_to_sheet(this.$refs.table.tableData);\r\n      const workbook = XLSX.utils.book_new();\r\n      XLSX.utils.book_append_sheet(workbook, worksheet, 'Sheet1');\r\n\r\n      // 2. 将 Excel 文件存储为二进制对象\r\n      const excelBuffer = XLSX.write(workbook, { bookType: 'xlsx', type: 'array' });\r\n\r\n      // 3. 创建一个 Blob 对象\r\n      const blob = new Blob([excelBuffer], { type: 'application/octet-stream' });\r\n\r\n      // 4. 创建一个下载链接\r\n      const url = window.URL.createObjectURL(blob);\r\n      const link = document.createElement('a');\r\n      link.href = url;\r\n      link.setAttribute('download', 'export.xlsx');\r\n\r\n      // 5. 模拟点击下载链接\r\n      document.body.appendChild(link);\r\n      link.click();\r\n\r\n      // 6. 释放资源\r\n      document.body.removeChild(link);\r\n      window.URL.revokeObjectURL(url);\r\n    },\r\n    getexam() {\r\n\r\n    },\r\n    // 导出数据到 docx 文件\r\n    exportToDocx() {\r\n      exportWord('./template.docx', this.$refs.table.tableData, \"hh\")\r\n\r\n      // const doc = new Docxtemplater();\r\n      // const template = `<h1>数据导出</h1><table><tr></tr></table>`;\r\n      // const data = {\r\n      //   dataList: this.dataList,\r\n      //   currentPageData: this.currentPageData\r\n      // };\r\n      // // 使用 JSZip 加载模板内容\r\n      // new JSZip().loadAsync(template).then(function (zip) {\r\n      //   // 将模板加载到 Docxtemplater\r\n      //   doc.loadZip(zip);\r\n      //   // 设置数据并渲染文档\r\n      //   doc.setData(data);\r\n      //   doc.render();\r\n      //   // 生成并下载 DOCX 文件\r\n      //   const output = doc.getZip().generate({ type: 'blob' });\r\n      //   saveAs(output, 'exported_data.docx');\r\n      // });\r\n    },\r\n\r\n    // 每页显示条目数改变时触发\r\n    handleSizeChange(val) {\r\n      this.pageSize = val;\r\n    },\r\n    // 当前页码改变时触发\r\n    handleCurrentChange(val) {\r\n      this.currentPage = val;\r\n    },\r\n    toggleCollapse() {\r\n      this.isCollapse = !this.isCollapse; // 切换状态\r\n    },\r\n    handleOpen(key, keyPath) {\r\n      console.log(key, keyPath);\r\n    },\r\n    handleClose(key, keyPath) {\r\n      console.log(key, keyPath);\r\n    },\r\n    goToMain() {\r\n      window.location.href = '#/ChatHome';\r\n    },\r\n    goToKnowledgeQA() {\r\n      window.location.href = '#/KnowLedgeChat';\r\n    },\r\n    goToFreeChat() {\r\n      window.location.href = '#/FreeChat';\r\n    },\r\n    goToCheckChat() {\r\n      window.location.href = '#/CheckChat';\r\n    },\r\n    goToTitleSetChat() {\r\n      window.location.href = '#/TitleSetChat';\r\n    },\r\n    goToKnowSetting() {\r\n      window.location.href = '#/KnowSetting';\r\n    },\r\n    goToPrompt() {\r\n      window.location.href = '#/Prompt';\r\n    },\r\n    goToSelectModel() {\r\n      window.location.href = '#/SelectModel';\r\n    },\r\n    goToHelp() {\r\n      window.location.href = '#/HelpChat';\r\n    },\r\n    submitForm() {\r\n      console.log('Submitting form data along with the fileList:',);\r\n\r\n    },\r\n    filterHandler(value, row, column) {\r\n      const property = column[\"property\"];\r\n      return row[property] === value;\r\n    },\r\n    filterTag(value, row, column) {\r\n      const property = column[\"property\"];\r\n      return row[property] === value;\r\n    },\r\n    // 数组对象去重\r\n    deWeight(arr) {\r\n      for (var i = 0; i < arr.length - 1; i++) {\r\n        for (var j = i + 1; j < arr.length; j++) {\r\n          if (arr[i].text == arr[j].text) {\r\n            arr.splice(j, 1);\r\n            j--;\r\n          }\r\n        }\r\n      }\r\n      return arr;\r\n    },\r\n    _filterChange() {\r\n      this.totalSize = this.$refs.table.tableData.length;\r\n      console.log(this.totalSize, this.$refs.table.tableData);\r\n    },\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style></style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TitleSetChat.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TitleSetChat.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TitleSetChat.vue?vue&type=template&id=a0dbb906&\"\nimport script from \"./TitleSetChat.vue?vue&type=script&lang=js&\"\nexport * from \"./TitleSetChat.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-container',{staticStyle:{\"height\":\"100vh\"}},[_c('Nav',{attrs:{\"isCollapse\":_vm.isCollapse,\"isSelect\":_vm.selected},on:{\"update:isCollapse\":_vm.updateIsCollapse}}),_c('el-container',[_c('el-main',[_c('el-header',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"center\"}},[_c('el-button',{staticStyle:{\"margin-bottom\":\"20px\"},attrs:{\"size\":\"small\",\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){_vm.dialogFormVisible = true}}},[_vm._v(\"新增配置\")])],1),_c('el-container',[_c('el-tabs',{staticStyle:{\"width\":\"100%\"},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"公共提示词\",\"name\":\"first\"}},[_c('el-table',{ref:\"table\",attrs:{\"data\":_vm.publicTableData,\"border\":\"\"}},[_vm._l((_vm.dataList),function(item,index){return [_c('el-table-column',{attrs:{\"label\":item.label,\"align\":\"center\",\"prop\":item.value}})]})],2)],1),_c('el-tab-pane',{attrs:{\"label\":\"私有提示词\",\"name\":\"second\"}},[_c('el-table',{ref:\"table\",attrs:{\"data\":_vm.privateTableData,\"border\":\"\"}},[_vm._l((_vm.dataList),function(item,index){return [_c('el-table-column',{attrs:{\"label\":item.label,\"align\":\"center\",\"prop\":item.value}})]})],2)],1)],1),_c('el-dialog',{attrs:{\"title\":\"Prompt\",\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form}},[_c('el-form-item',{attrs:{\"label\":\"name\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"type\",\"label-width\":_vm.formLabelWidth}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.form.type),callback:function ($$v) {_vm.$set(_vm.form, \"type\", $$v)},expression:\"form.type\"}},[_c('el-option',{attrs:{\"label\":\"public\",\"value\":\"public\"}}),_c('el-option',{attrs:{\"label\":\"private\",\"value\":\"private\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"Content\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.form.content),callback:function ($$v) {_vm.$set(_vm.form, \"content\", $$v)},expression:\"form.content\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submitForm}},[_vm._v(\"确 定\")])],1)],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <el-container style=\"height: 100vh;\">\r\n        <Nav :isCollapse=\"isCollapse\" @update:isCollapse=\"updateIsCollapse\" :isSelect=\"selected\"></Nav>\r\n\r\n        <el-container>\r\n\r\n            <el-main>\r\n                <el-header style=\"display: flex; justify-content: space-between; align-items: center;\">\r\n\r\n                    <el-button size=\"small\" type=\"primary\" icon=\"el-icon-plus\" style=\"margin-bottom: 20px;\"\r\n                        @click=\"dialogFormVisible = true\">新增配置</el-button>\r\n                </el-header>\r\n\r\n                <el-container>\r\n                    <el-tabs v-model=\"activeName\" style=\"width: 100%;\">\r\n                        <el-tab-pane label=\"公共提示词\" name=\"first\">\r\n                            <el-table ref=\"table\" :data=\"publicTableData\" border>\r\n                                <template v-for=\"(item, index) in dataList\">\r\n                                    <el-table-column :label=\"item.label\" align=\"center\" :prop=\"item.value\">\r\n                                    </el-table-column>\r\n                                </template>\r\n                            </el-table>\r\n                        </el-tab-pane>\r\n                        <el-tab-pane label=\"私有提示词\" name=\"second\">\r\n                            <el-table ref=\"table\" :data=\"privateTableData\" border>\r\n                                <template v-for=\"(item, index) in dataList\">\r\n                                    <el-table-column :label=\"item.label\" align=\"center\" :prop=\"item.value\">\r\n                                    </el-table-column>\r\n                                </template>\r\n                            </el-table>\r\n                        </el-tab-pane>\r\n                    </el-tabs>\r\n\r\n                    <el-dialog title=\"Prompt\" :visible.sync=\"dialogFormVisible\">\r\n                        <el-form :model=\"form\" ref=\"form\">\r\n                            <el-form-item label=\"name\" :label-width=\"formLabelWidth\">\r\n                                <el-input v-model=\"form.name\" autocomplete=\"off\"></el-input>\r\n                            </el-form-item>\r\n                            <el-form-item label=\"type\" :label-width=\"formLabelWidth\">\r\n                                <el-select v-model=\"form.type\" placeholder=\"请选择\">\r\n                                    <el-option label=\"public\" value=\"public\"></el-option>\r\n                                    <el-option label=\"private\" value=\"private\"></el-option>\r\n                                </el-select>\r\n                            </el-form-item>\r\n                            <el-form-item label=\"Content\" :label-width=\"formLabelWidth\">\r\n                                <el-input type=\"textarea\" v-model=\"form.content\"></el-input>\r\n                            </el-form-item>\r\n\r\n                        </el-form>\r\n                        <div slot=\"footer\" class=\"dialog-footer\">\r\n                            <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n                            <el-button type=\"primary\" @click=\"submitForm\">确 定</el-button>\r\n                        </div>\r\n                    </el-dialog>\r\n\r\n                </el-container>\r\n\r\n            </el-main>\r\n        </el-container>\r\n    </el-container>\r\n</template>\r\n\r\n<script>\r\nimport { getChatMsg, gethistory, getstatic } from \"@/api/getData\";\r\nimport Emoji from \"@/components/Emoji.vue\";\r\nimport Nav from \"@/components/Nav.vue\";\r\nimport commonMethodsMixin from '../../util/publicfun.js';\r\nimport StreamText from '@/components/StreamText.vue';\r\nexport default {\r\n    mixins: [commonMethodsMixin],\r\n    components: {\r\n        Emoji,\r\n        Nav,\r\n        StreamText\r\n    },\r\n    data() {\r\n        return {\r\n            selected: '6',\r\n            activeName: \"first\",\r\n            isCollapse: false,\r\n            tableData: [],\r\n            publicTableData: [],\r\n            privateTableData: [],\r\n\r\n            // tableData: [\r\n            //     { section: \"prompt1\", name: \"prompt1prompt1prompt1\", age: \"prompt1prompt1\", sex: \"prompt1prompt1\" },\r\n            //     { section: \"prompt2\", name: \"prompt2prompt2prompt2\", age: \"prompt2prompt2\", sex: \"prompt2prompt2\" },\r\n            // ],\r\n            dataList: [\r\n                {\r\n                    label: \"name\",\r\n                    value: \"scene\",\r\n                },\r\n                {\r\n                    label: \"type\",\r\n                    value: \"type\",\r\n                },\r\n                {\r\n                    label: \"content\",\r\n                    value: \"content\",\r\n                },\r\n\r\n            ],\r\n            dialogTableVisible: false,\r\n            dialogFormVisible: false,\r\n            form: {\r\n                name: '',\r\n                type: '',\r\n                content: ''\r\n            },\r\n            formLabelWidth: '120px'\r\n\r\n\r\n\r\n        };\r\n    },\r\n    computed: {\r\n        // 筛选项\r\n        filterData() {\r\n            return function (data) {\r\n                let obj = [];\r\n                //找到对应的数据 并添加到obj\r\n                this.tableData.filter((item) => {\r\n                    obj.push({\r\n                        text: item[data.value],\r\n                        value: item[data.value],\r\n                    });\r\n                });\r\n                //因为column有重复数据，所以要进行去重\r\n                return this.deWeight(obj);\r\n            };\r\n        },\r\n    },\r\n    created() {\r\n        getstatic().then((res) => {\r\n            console.log(\"getstaticres\", res)\r\n            this.publicTableData = res.data.prompts.filter(item => item.type === \"public\");\r\n            this.privateTableData = res.data.prompts.filter(item => item.type === \"private\");\r\n\r\n        }).catch((err) => {\r\n            console.log(\"err\", err)\r\n        })\r\n\r\n    },\r\n    methods: {\r\n        submitForm() {\r\n            // 获取表单数据\r\n            const formData = this.form;\r\n            this.dialogFormVisible = false;\r\n            // 打印到控制台以确认数据\r\n            console.log('提交的表单数据:', formData.type, this.privateTableData);\r\n\r\n            if (formData.type == \"public\") {\r\n                this.publicTableData.push({ \"content\": formData.content, \"scene\": formData.name, \"type\": \"public\" })\r\n            }\r\n            if (formData.type == \"private\") {\r\n                this.privateTableData.push({ \"content\": formData.content, \"scene\": formData.name, \"type\": \"private\" })\r\n            }\r\n            this.form = {\r\n                type: '',\r\n                content: '',\r\n                name: ''\r\n            };\r\n        },\r\n        updateIsCollapse(value) {\r\n            this.isCollapse = value;\r\n            // this.updateIsCollapse(value);\r\n        },\r\n        toggleCollapse() {\r\n            this.isCollapse = !this.isCollapse; // 切换状态\r\n        },\r\n        handleOpen(key, keyPath) {\r\n            console.log(key, keyPath);\r\n        },\r\n        handleClose(key, keyPath) {\r\n            console.log(key, keyPath);\r\n        },\r\n        goToMain() {\r\n            window.location.href = '#/ChatHome';\r\n        },\r\n        goToKnowledgeQA() {\r\n            window.location.href = '#/KnowLedgeChat';\r\n        },\r\n        goToFreeChat() {\r\n            window.location.href = '#/FreeChat';\r\n        },\r\n        goToCheckChat() {\r\n            window.location.href = '#/CheckChat';\r\n        },\r\n        goToTitleSetChat() {\r\n            window.location.href = '#/TitleSetChat';\r\n        },\r\n        goToKnowSetting() {\r\n            window.location.href = '#/KnowSetting';\r\n        },\r\n        goToPrompt() {\r\n            window.location.href = '#/Prompt';\r\n        },\r\n        goToSelectModel() {\r\n            window.location.href = '#/SelectModel';\r\n        },\r\n        goToHelp() {\r\n            window.location.href = '#/HelpChat';\r\n        },\r\n\r\n        filterHandler(value, row, column) {\r\n            const property = column[\"property\"];\r\n            return row[property] === value;\r\n        },\r\n        filterTag(value, row, column) {\r\n            const property = column[\"property\"];\r\n            return row[property] === value;\r\n        },\r\n        // 数组对象去重\r\n        deWeight(arr) {\r\n            for (var i = 0; i < arr.length - 1; i++) {\r\n                for (var j = i + 1; j < arr.length; j++) {\r\n                    if (arr[i].text == arr[j].text) {\r\n                        arr.splice(j, 1);\r\n                        j--;\r\n                    }\r\n                }\r\n            }\r\n            return arr;\r\n        },\r\n        _filterChange() {\r\n            this.totalSize = this.$refs.table.tableData.length;\r\n            console.log(this.totalSize);\r\n        },\r\n        handleTabClick(tab) {\r\n            this.activeName = tab.name;\r\n        }\r\n\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n.el-menu .el-menu-item {\r\n    width: 100%;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Prompt.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Prompt.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Prompt.vue?vue&type=template&id=4c5c7b9c&\"\nimport script from \"./Prompt.vue?vue&type=script&lang=js&\"\nexport * from \"./Prompt.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Prompt.vue?vue&type=style&index=0&id=4c5c7b9c&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-container',{staticStyle:{\"height\":\"100vh\"}},[_c('Nav',{attrs:{\"isCollapse\":_vm.isCollapse,\"isSelect\":_vm.selected},on:{\"update:isCollapse\":_vm.updateIsCollapse}}),_c('el-container',[_c('el-main',[_c('el-header',[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){_vm.dialogFormVisible = true}}},[_vm._v(\"新增model\")])],1),_c('el-container',[_c('el-dialog',{attrs:{\"title\":\"Model\",\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{attrs:{\"model\":_vm.form}},[_c('el-form-item',{attrs:{\"label\":\"MODEL 名字\",\"label-width\":_vm.formLabelWidth}},[_c('el-select',{attrs:{\"placeholder\":\"请选择MODEL\"},model:{value:(_vm.form.region),callback:function ($$v) {_vm.$set(_vm.form, \"region\", $$v)},expression:\"form.region\"}},[_c('el-option',{attrs:{\"label\":\"MODEL1\",\"value\":\"shanghai\"}}),_c('el-option',{attrs:{\"label\":\"MODEL2\",\"value\":\"beijing\"}})],1)],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"确 定\")])],1)],1)],1),_c('el-row',{attrs:{\"gutter\":20}},_vm._l((_vm.modellist),function(knowledge,index){return _c('el-col',{key:index,attrs:{\"span\":8}},[_c('el-card',{style:({ height: '200px', display: 'flex', flexDirection: 'column',}),attrs:{\"shadow\":\"hover\"},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('div',{staticClass:\"headerbutton\",staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"center\",\"height\":\"50px\"}},[_c('div',[_c('i',{staticClass:\"el-icon-picture-outline-round\",on:{\"click\":function($event){return _vm.showGraph(index)}}}),_c('span',[_vm._v(_vm._s(knowledge))])]),(index == 1)?_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"success\",\"icon\":\"el-icon-check\",\"circle\":\"\"}}):_vm._e()],1)]},proxy:true}],null,true)},[_c('div',{staticClass:\"text item\"},[_vm._v(\" \"+_vm._s(knowledge)+\" \"+_vm._s(knowledge)+\" \"+_vm._s(knowledge)+\" \")]),_c('el-row',{staticStyle:{\"margin-top\":\"20px\"}},[_c('el-col',{staticStyle:{\"text-align\":\"center\"},attrs:{\"span\":8}},[_c('i',{staticClass:\"el-icon-edit\",on:{\"click\":function($event){return _vm.showConfigDialog(index)}}},[_vm._v(\"配置\")])]),_c('el-col',{staticStyle:{\"text-align\":\"center\"},attrs:{\"span\":8}},[_c('i',{staticClass:\"el-icon-picture-outline-round\",on:{\"click\":function($event){return _vm.openDialogAndRenderGraph(index)}}},[_vm._v(\"启动\")])]),_c('el-col',{staticStyle:{\"text-align\":\"center\"},attrs:{\"span\":8}},[_c('i',{staticClass:\"el-icon-delete\",on:{\"click\":function($event){return _vm.deleteKnowledge(index)}}},[_vm._v(\"停止\")])])],1)],1)],1)}),1),_c('el-dialog',{attrs:{\"title\":\"配置\",\"visible\":_vm.settingdialogFormVisible},on:{\"update:visible\":function($event){_vm.settingdialogFormVisible=$event}}},[_c('el-form',{attrs:{\"model\":_vm.settingform}},[_c('el-row',_vm._l((_vm.configArray),function(config,index){return _c('el-col',{key:index,attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":config.label}},[_c('el-select',{attrs:{\"placeholder\":'请选择' + config.label},model:{value:(_vm.settingform[config.key]),callback:function ($$v) {_vm.$set(_vm.settingform, config.key, $$v)},expression:\"settingform[config.key]\"}},_vm._l((config.options),function(option,optionIndex){return _c('el-option',{key:optionIndex,attrs:{\"label\":option.label,\"value\":option.value}})}),1)],1)],1)}),1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.settingdialogFormVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.savesetting}},[_vm._v(\"确 定\")])],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <el-container style=\"height: 100vh;\">\r\n        <Nav :isCollapse=\"isCollapse\" @update:isCollapse=\"updateIsCollapse\" :isSelect=\"selected\"></Nav>\r\n\r\n        <el-container>\r\n\r\n            <el-main>\r\n                <el-header>\r\n\r\n\r\n                    <el-button size=\"small\" type=\"primary\" icon=\"el-icon-plus\"\r\n                        @click=\"dialogFormVisible = true\">新增model</el-button>\r\n\r\n\r\n                </el-header>\r\n                <el-container>\r\n                    <el-dialog title=\"Model\" :visible.sync=\"dialogFormVisible\">\r\n                        <el-form :model=\"form\">\r\n\r\n                            <el-form-item label=\"MODEL 名字\" :label-width=\"formLabelWidth\">\r\n                                <el-select v-model=\"form.region\" placeholder=\"请选择MODEL\">\r\n                                    <el-option label=\"MODEL1\" value=\"shanghai\"></el-option>\r\n                                    <el-option label=\"MODEL2\" value=\"beijing\"></el-option>\r\n                                </el-select>\r\n                            </el-form-item>\r\n                        </el-form>\r\n                        <div slot=\"footer\" class=\"dialog-footer\">\r\n                            <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n                            <el-button type=\"primary\" @click=\"dialogFormVisible = false\">确 定</el-button>\r\n                        </div>\r\n                    </el-dialog>\r\n\r\n                </el-container>\r\n                <el-row :gutter=\"20\">\r\n                    <el-col :span=\"8\" v-for=\"(knowledge, index) in modellist\" :key=\"index\">\r\n                        <el-card\r\n                            :style=\"{ height: '200px', display: 'flex', flexDirection: 'column',}\"\r\n                            shadow=\"hover\">\r\n                            <template #header>\r\n                                <div class=\"headerbutton\"\r\n                                    style=\"display: flex; justify-content: space-between; align-items: center; height: 50px;\">\r\n                                    <div>\r\n                                        <i class=\"el-icon-picture-outline-round\" @click=\"showGraph(index)\"></i>\r\n                                        <span>{{ knowledge }}</span>\r\n                                    </div>\r\n                                    <el-button size=\"mini\" type=\"success\" icon=\"el-icon-check\" circle\r\n                                        v-if=\"index == 1\"></el-button>\r\n                                </div>\r\n                            </template>\r\n                            <div class=\"text item\"\r\n                                >\r\n                                {{ knowledge }} {{ knowledge }} {{ knowledge }}\r\n                            </div>\r\n                            <el-row style=\"margin-top: 20px;\">\r\n                                <el-col :span=\"8\" style=\"text-align: center;\">\r\n                                    <i class=\"el-icon-edit\" @click=\"showConfigDialog(index)\">配置</i>\r\n                                </el-col>\r\n                                <el-col :span=\"8\" style=\"text-align: center;\">\r\n                                    <i class=\"el-icon-picture-outline-round\"\r\n                                        @click=\"openDialogAndRenderGraph(index)\">启动</i>\r\n                                </el-col>\r\n                                <el-col :span=\"8\" style=\"text-align: center;\">\r\n                                    <i class=\"el-icon-delete\" @click=\"deleteKnowledge(index)\">停止</i>\r\n                                </el-col>\r\n                            </el-row>\r\n                        </el-card>\r\n                    </el-col>\r\n                </el-row>\r\n\r\n                <el-dialog title=\"配置\" :visible.sync=\"settingdialogFormVisible\">\r\n                    <el-form :model=\"settingform\">\r\n                        <el-row>\r\n                            <el-col :span=\"8\" v-for=\"(config, index) in configArray\" :key=\"index\">\r\n                                <el-form-item :label=\"config.label\">\r\n                                    <el-select v-model=\"settingform[config.key]\" :placeholder=\"'请选择' + config.label\">\r\n                                        <el-option v-for=\"(option, optionIndex) in config.options\" :key=\"optionIndex\"\r\n                                            :label=\"option.label\" :value=\"option.value\"></el-option>\r\n                                    </el-select>\r\n                                </el-form-item>\r\n                            </el-col>\r\n                        </el-row>\r\n                    </el-form>\r\n\r\n\r\n                    <div slot=\"footer\" class=\"dialog-footer\">\r\n                        <el-button @click=\"settingdialogFormVisible = false\">取 消</el-button>\r\n                        <el-button type=\"primary\" @click=\"savesetting\">确 定</el-button>\r\n                    </div>\r\n                </el-dialog>\r\n\r\n            </el-main>\r\n        </el-container>\r\n    </el-container>\r\n</template>\r\n\r\n<script>\r\nimport { getChatMsg, gethistory, getstatic } from \"@/api/getData\";\r\nimport Emoji from \"@/components/Emoji.vue\";\r\nimport Nav from \"@/components/Nav.vue\";\r\nimport commonMethodsMixin from '../../util/publicfun.js';\r\nimport StreamText from '@/components/StreamText.vue';\r\nexport default {\r\n    mixins: [commonMethodsMixin],\r\n    components: {\r\n        Emoji,\r\n        Nav,\r\n        StreamText\r\n    },\r\n    data() {\r\n        return {\r\n\r\n            settingdialogFormVisible: false,\r\n            selected: '7',\r\n            currentDate: new Date(),\r\n            isCollapse: false,\r\n            dialogTableVisible: false,\r\n            dialogFormVisible: false,\r\n            form: {\r\n                name: '',\r\n                region: '',\r\n                date1: '',\r\n                date2: '',\r\n                delivery: false,\r\n                type: [],\r\n                resource: '',\r\n                desc: ''\r\n            },\r\n            formLabelWidth: '120px',\r\n            modellist: [],\r\n            configArray: [\r\n                {\r\n                    label: 'tempreature',\r\n                    key: 'config1',\r\n                    options: [\r\n                        { label: '选项1-1', value: 'option1-1' },\r\n                        { label: '选项1-2', value: 'option1-2' },\r\n                        // 其他选项...\r\n                    ]\r\n                },\r\n                {\r\n                    label: 'top_k',\r\n                    key: 'config2',\r\n                    options: [\r\n                        { label: '选项2-1', value: 'option2-1' },\r\n                        { label: '选项2-2', value: 'option2-2' },\r\n                        // 其他选项...\r\n                    ]\r\n                },\r\n                {\r\n                    label: 'top_p',\r\n                    key: 'config3',\r\n                    options: [\r\n                        { label: '选项3-1', value: 'option3-1' },\r\n                        { label: '选项3-2', value: 'option3-2' },\r\n                        // 其他选项...\r\n                    ]\r\n                },\r\n                {\r\n                    label: '序列长',\r\n                    key: 'config4',\r\n                    options: [\r\n                        { label: '选项4-1', value: 'option4-1' },\r\n                        { label: '选项4-2', value: 'option4-2' },\r\n                        // 其他选项...\r\n                    ]\r\n                },\r\n                {\r\n                    label: '采样',\r\n                    key: 'config5',\r\n                    options: [\r\n                        { label: '选项5-1', value: 'option5-1' },\r\n                        { label: '选项5-2', value: 'option5-2' },\r\n                        // 其他选项...\r\n                    ]\r\n                },\r\n                {\r\n                    label: '重复惩罚',\r\n                    key: 'config6',\r\n                    options: [\r\n                        { label: '选项6-1', value: 'option6-1' },\r\n                        { label: '选项6-2', value: 'option6-2' },\r\n                        // 其他选项...\r\n                    ]\r\n                },\r\n            ],\r\n            settingform: {\r\n                name: '',\r\n                content: '',\r\n                region: '',\r\n                date1: '',\r\n                date2: '',\r\n                delivery: false,\r\n                type: [],\r\n                resource: '',\r\n                desc: ''\r\n            },\r\n\r\n\r\n\r\n        };\r\n    },\r\n    created() {\r\n        getstatic().then((res) => {\r\n            console.log(\"getstaticres\", res)\r\n            this.modellist = res.data.models\r\n        }).catch((err) => {\r\n            console.log(\"err\", err)\r\n        })\r\n\r\n    },\r\n    computed: {\r\n        // 筛选项\r\n        filterData() {\r\n            return function (data) {\r\n                let obj = [];\r\n                //找到对应的数据 并添加到obj\r\n                this.tableData.filter((item) => {\r\n                    obj.push({\r\n                        text: item[data.value],\r\n                        value: item[data.value],\r\n                    });\r\n                });\r\n                //因为column有重复数据，所以要进行去重\r\n                return this.deWeight(obj);\r\n            };\r\n        },\r\n    },\r\n\r\n    methods: {\r\n        savesetting() {\r\n            this.settingdialogFormVisible = false;\r\n            console.log(\"settingdialogFormVisible\", this.settingform)\r\n        },\r\n        showConfigDialog(index) {\r\n            this.settingdialogFormVisible = true\r\n        },\r\n        updateIsCollapse(value) {\r\n            this.isCollapse = value;\r\n            // this.updateIsCollapse(value);\r\n        },\r\n        toggleCollapse() {\r\n            this.isCollapse = !this.isCollapse; // 切换状态\r\n        },\r\n        handleOpen(key, keyPath) {\r\n            console.log(key, keyPath);\r\n        },\r\n        handleClose(key, keyPath) {\r\n            console.log(key, keyPath);\r\n        },\r\n        goToMain() {\r\n            window.location.href = '#/ChatHome';\r\n        },\r\n        goToKnowledgeQA() {\r\n            window.location.href = '#/KnowLedgeChat';\r\n        },\r\n        goToFreeChat() {\r\n            window.location.href = '#/FreeChat';\r\n        },\r\n        goToCheckChat() {\r\n            window.location.href = '#/CheckChat';\r\n        },\r\n        goToTitleSetChat() {\r\n            window.location.href = '#/TitleSetChat';\r\n        },\r\n        goToKnowSetting() {\r\n            window.location.href = '#/KnowSetting';\r\n        },\r\n        goToPrompt() {\r\n            window.location.href = '#/Prompt';\r\n        },\r\n        goToSelectModel() {\r\n            window.location.href = '#/SelectModel';\r\n        },\r\n        goToHelp() {\r\n            window.location.href = '#/HelpChat';\r\n        },\r\n        submitForm() {\r\n            console.log('Submitting form data along with the fileList:',);\r\n\r\n        },\r\n        filterHandler(value, row, column) {\r\n            const property = column[\"property\"];\r\n            return row[property] === value;\r\n        },\r\n        filterTag(value, row, column) {\r\n            const property = column[\"property\"];\r\n            return row[property] === value;\r\n        },\r\n        // 数组对象去重\r\n        deWeight(arr) {\r\n            for (var i = 0; i < arr.length - 1; i++) {\r\n                for (var j = i + 1; j < arr.length; j++) {\r\n                    if (arr[i].text == arr[j].text) {\r\n                        arr.splice(j, 1);\r\n                        j--;\r\n                    }\r\n                }\r\n            }\r\n            return arr;\r\n        },\r\n        _filterChange() {\r\n            this.totalSize = this.$refs.table.tableData.length;\r\n            console.log(this.totalSize);\r\n        },\r\n\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n.headerbutton {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n.text.item {\r\n  flex-grow: 1;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SelectModel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SelectModel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SelectModel.vue?vue&type=template&id=5be00dc4&\"\nimport script from \"./SelectModel.vue?vue&type=script&lang=js&\"\nexport * from \"./SelectModel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SelectModel.vue?vue&type=style&index=0&id=5be00dc4&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-container',{staticStyle:{\"height\":\"100vh\"}},[_c('Nav',{attrs:{\"isCollapse\":_vm.isCollapse,\"isSelect\":_vm.selected},on:{\"update:isCollapse\":_vm.updateIsCollapse}}),_c('el-container',[_c('el-main',[_c('el-header',[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){_vm.dialogFormVisible = true}}},[_vm._v(\"新增知识\")])],1),_c('el-container',{},[_c('el-row',{staticStyle:{\"width\":\"100%\",\"flex-wrap\":\"wrap\"},attrs:{\"type\":\"flex\"}},_vm._l((_vm.kbs),function(knowledge,index){return _c('el-col',{key:index,attrs:{\"span\":8}},[_c('el-card',{attrs:{\"height\":\"80px\",\"shadow\":\"hover\"}},[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('i',{staticClass:\"el-icon-picture-outline-round\",on:{\"click\":function($event){return _vm.showGraph(index)}}}),_c('span',[_vm._v(_vm._s(knowledge.name))])]),_c('div',{staticClass:\"text item\"},[_vm._v(\" \"+_vm._s(knowledge.description)+\" \")]),_c('el-row',{staticStyle:{\"margin-top\":\"20px\"}},[_c('el-col',{attrs:{\"span\":8}},[_c('i',{staticClass:\"el-icon-edit\",on:{\"click\":function($event){return _vm.showConfigDialog(index)}}},[_vm._v(\"配置\")])]),_c('el-col',{attrs:{\"span\":8}},[_c('i',{staticClass:\"el-icon-picture-outline-round\",on:{\"click\":function($event){return _vm.openDialogAndRenderGraph(index)}}},[_vm._v(\"图谱\")])]),_c('el-col',{attrs:{\"span\":8}},[_c('i',{staticClass:\"el-icon-delete\",on:{\"click\":function($event){return _vm.deleteKnowledge(index)}}},[_vm._v(\"删除\")])])],1)],1)],1)}),1),_c('el-dialog',{style:({ height: 'auto' }),attrs:{\"title\":\"图谱\",\"visible\":_vm.centerDialogVisible,\"width\":\"600px\",\"center\":\"\"},on:{\"update:visible\":function($event){_vm.centerDialogVisible=$event}}},[_c('div',{ref:\"graphContainer\",staticClass:\"graph-container\"})])],1)],1),_c('el-dialog',{attrs:{\"title\":\"新增知识\",\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{attrs:{\"model\":_vm.form}},[_c('el-form-item',{attrs:{\"label\":\"知识名称\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择知识\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}},[_c('el-option',{attrs:{\"label\":\"知识一\",\"value\":\"shanghai\"}}),_c('el-option',{attrs:{\"label\":\"知识二\",\"value\":\"beijing\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"知识内容\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.content),callback:function ($$v) {_vm.$set(_vm.form, \"content\", $$v)},expression:\"form.content\"}})],1),_c('el-form-item',{attrs:{\"label\":\"知识文件\"}},[_c('el-upload',{staticClass:\"upload-demo\",attrs:{\"action\":\"#\",\"on-preview\":_vm.handlePreview,\"on-remove\":_vm.handleRemove,\"before-remove\":_vm.beforeRemove,\"on-change\":_vm.handleChange,\"file-list\":_vm.fileList,\"http-request\":_vm.uploadFile}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"点击上传\")]),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"只能上传jpg/png文件，且不超过500kb\")])],1)],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addNew}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"配置\",\"visible\":_vm.settingdialogFormVisible},on:{\"update:visible\":function($event){_vm.settingdialogFormVisible=$event}}},[_c('el-form',{attrs:{\"model\":_vm.settingform}},[_c('el-row',_vm._l((_vm.configArray),function(config,index){return _c('el-col',{key:index,attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":config.label}},[_c('el-select',{attrs:{\"placeholder\":'请选择' + config.label},model:{value:(_vm.settingform[config.key]),callback:function ($$v) {_vm.$set(_vm.settingform, config.key, $$v)},expression:\"settingform[config.key]\"}},_vm._l((config.options),function(option,optionIndex){return _c('el-option',{key:optionIndex,attrs:{\"label\":option.label,\"value\":option.value}})}),1)],1)],1)}),1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.settingdialogFormVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.savesetting}},[_vm._v(\"确 定\")])],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <el-container style=\"height: 100vh;\">\r\n        <Nav :isCollapse=\"isCollapse\" @update:isCollapse=\"updateIsCollapse\" :isSelect=\"selected\"></Nav>\r\n\r\n        <el-container>\r\n\r\n            <el-main>\r\n\r\n                <el-header>\r\n\r\n\r\n                    <el-button size=\"small\" type=\"primary\" icon=\"el-icon-plus\"\r\n                        @click=\"dialogFormVisible = true\">新增知识</el-button>\r\n\r\n                </el-header>\r\n                <el-container style=\"\">\r\n\r\n\r\n                    <!-- <div> -->\r\n                    <el-row type=\"flex\" style=\" width: 100%;flex-wrap: wrap;\">\r\n                        <el-col :span=\"8\" v-for=\"(knowledge, index) in kbs\" :key=\"index\">\r\n                            <el-card height=\"80px\" shadow=\"hover\">\r\n                                <div slot=\"header\">\r\n                                    <i class=\"el-icon-picture-outline-round\" @click=\"showGraph(index)\"></i>\r\n\r\n                                    <span>{{ knowledge.name }}</span>\r\n                                </div>\r\n                                <div class=\"text item\">\r\n                                    {{ knowledge.description }}\r\n                                </div>\r\n\r\n                                <el-row style=\"margin-top: 20px;\">\r\n                                    <el-col :span=\"8\">\r\n                                        <i class=\"el-icon-edit\" @click=\"showConfigDialog(index)\">配置</i>\r\n                                    </el-col>\r\n                                    <el-col :span=\"8\">\r\n\r\n                                        <i class=\"el-icon-picture-outline-round\"\r\n                                            @click=\"openDialogAndRenderGraph(index)\">图谱</i>\r\n                                    </el-col>\r\n                                    <el-col :span=\"8\">\r\n                                        <i class=\"el-icon-delete\" @click=\"deleteKnowledge(index)\">删除</i>\r\n\r\n                                    </el-col>\r\n\r\n                                </el-row>\r\n\r\n                            </el-card>\r\n                        </el-col>\r\n                    </el-row>\r\n                    <!-- </div> -->\r\n\r\n                    <el-dialog title=\"图谱\" :visible.sync=\"centerDialogVisible\" width=\"600px\" center\r\n                        :style=\"{ height: 'auto' }\">\r\n                        <div ref=\"graphContainer\" class=\"graph-container\"></div>\r\n                    </el-dialog>\r\n\r\n                </el-container>\r\n            </el-main>\r\n\r\n\r\n            <!-- <el-button type=\"text\" @click=\"dialogFormVisible = true\">打开嵌套表单的 Dialog</el-button> -->\r\n\r\n            <el-dialog title=\"新增知识\" :visible.sync=\"dialogFormVisible\">\r\n                <el-form :model=\"form\">\r\n                    <el-form-item label=\"知识名称\">\r\n                        <el-select v-model=\"form.name\" placeholder=\"请选择知识\">\r\n                            <el-option label=\"知识一\" value=\"shanghai\"></el-option>\r\n                            <el-option label=\"知识二\" value=\"beijing\"></el-option>\r\n                        </el-select>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"知识内容\">\r\n                        <el-input v-model=\"form.content\" autocomplete=\"off\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"知识文件\">\r\n                        <el-upload class=\"upload-demo\" action=\"#\" :on-preview=\"handlePreview\" :on-remove=\"handleRemove\"\r\n                            :before-remove=\"beforeRemove\" :on-change=\"handleChange\" :file-list=\"fileList\"\r\n                            :http-request=\"uploadFile\">\r\n                            <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n                            <div slot=\"tip\" class=\"el-upload__tip\">只能上传jpg/png文件，且不超过500kb</div>\r\n                        </el-upload>\r\n                    </el-form-item>\r\n                </el-form>\r\n                <div slot=\"footer\" class=\"dialog-footer\">\r\n                    <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n                    <el-button type=\"primary\" @click=\"addNew\">确 定</el-button>\r\n                </div>\r\n            </el-dialog>\r\n\r\n            <el-dialog title=\"配置\" :visible.sync=\"settingdialogFormVisible\">\r\n                <el-form :model=\"settingform\">\r\n                    <el-row>\r\n                        <el-col :span=\"8\" v-for=\"(config, index) in configArray\" :key=\"index\">\r\n                            <el-form-item :label=\"config.label\">\r\n                                <el-select v-model=\"settingform[config.key]\" :placeholder=\"'请选择' + config.label\">\r\n                                    <el-option v-for=\"(option, optionIndex) in config.options\" :key=\"optionIndex\"\r\n                                        :label=\"option.label\" :value=\"option.value\"></el-option>\r\n                                </el-select>\r\n                            </el-form-item>\r\n                        </el-col>\r\n                    </el-row>\r\n                </el-form>\r\n\r\n\r\n                <div slot=\"footer\" class=\"dialog-footer\">\r\n                    <el-button @click=\"settingdialogFormVisible = false\">取 消</el-button>\r\n                    <el-button type=\"primary\" @click=\"savesetting\">确 定</el-button>\r\n                </div>\r\n            </el-dialog>\r\n\r\n\r\n        </el-container>\r\n    </el-container>\r\n</template>\r\n\r\n<script>\r\nimport { getChatMsg, gethistory, getstatic, upload_kg } from \"@/api/getData\";\r\nimport * as d3 from 'd3';\r\nimport Emoji from \"@/components/Emoji.vue\";\r\nimport Nav from \"@/components/Nav.vue\";\r\nimport commonMethodsMixin from '../../util/publicfun.js';\r\nimport StreamText from '@/components/StreamText.vue';\r\nexport default {\r\n    mixins: [commonMethodsMixin],\r\n    components: {\r\n        Emoji,\r\n        Nav,\r\n        StreamText\r\n    },\r\n    data() {\r\n\r\n        return {\r\n            selected: '5',\r\n            centerDialogVisible: false,\r\n            graphData: {\r\n                nodes: [\r\n                    { id: 'A在税务行业有哪些典型案例', group: 1 },\r\n                    { id: '海港一线和二线的区别', group: 2 },\r\n                    { id: 'B行业有哪些典型案例', group: 2 },\r\n                    { id: '介绍下海港的技术支撑平台', group: 2 },\r\n                    { id: '海港一线和二线的区别1', group: 2 },\r\n                    { id: 'B行业有哪些典型案例1', group: 2 },\r\n                    { id: '介绍下海港的技术支撑平台1', group: 2 },\r\n\r\n                    // { id: '关联词4', group: 2 },\r\n                    // { id: '关联词5', group: 2 },\r\n                    // { id: '关联词6', group: 2 },\r\n                    // { id: '关联词7', group: 2 },\r\n                    // 添加更多的节点\r\n                ],\r\n\r\n                links: [\r\n                    { source: 'A在税务行业有哪些典型案例', target: '海港一线和二线的区别', value: 2, label: \"海港\" },\r\n                    { source: 'A在税务行业有哪些典型案例', target: 'B行业有哪些典型案例', value: 20, label: \"典型案例\" },\r\n                    { source: 'A在税务行业有哪些典型案例', target: '介绍下海港的技术支撑平台', value: 2, label: \"海港\" },\r\n                    { source: 'A在税务行业有哪些典型案例', target: '海港一线和二线的区别1', value: 2, label: \"海港\" },\r\n                    { source: 'A在税务行业有哪些典型案例', target: 'B行业有哪些典型案例1', value: 20, label: \"典型案例\" },\r\n                    { source: 'A在税务行业有哪些典型案例', target: '介绍下海港的技术支撑平台1', value: 2, label: \"海港\" },\r\n                    // { source: 'A在税务行业有哪些典型案例', target: '关联词5', value: 1 },\r\n                    // { source: 'A在税务行业有哪些典型案例', target: '关联词6', value: 1 },\r\n                    // { source: 'A在税务行业有哪些典型案例', target: '关联词7', value: 1 },\r\n                    // 添加更多的链接\r\n                ],\r\n            },\r\n            configArray: [\r\n                {\r\n                    label: '模型选择',\r\n                    key: 'config1',\r\n                    options: [\r\n                        { label: '选项1-1', value: 'option1-1' },\r\n                        { label: '选项1-2', value: 'option1-2' },\r\n                        // 其他选项...\r\n                    ]\r\n                },\r\n                {\r\n                    label: '块大小',\r\n                    key: 'config2',\r\n                    options: [\r\n                        { label: '选项2-1', value: 'option2-1' },\r\n                        { label: '选项2-2', value: 'option2-2' },\r\n                        // 其他选项...\r\n                    ]\r\n                },\r\n                // {\r\n                //     label: '块重叠',\r\n                //     key: 'config3',\r\n                //     options: [\r\n                //         { label: '选项3-1', value: 'option3-1' },\r\n                //         { label: '选项3-2', value: 'option3-2' },\r\n                //         // 其他选项...\r\n                //     ]\r\n                // },\r\n                {\r\n                    label: '文本切分方式',\r\n                    key: 'config4',\r\n                    options: [\r\n                        { label: '选项4-1', value: 'option4-1' },\r\n                        { label: '选项4-2', value: 'option4-2' },\r\n                        // 其他选项...\r\n                    ]\r\n                },\r\n                // {\r\n                //     label: '配置项5',\r\n                //     key: 'config5',\r\n                //     options: [\r\n                //         { label: '选项5-1', value: 'option5-1' },\r\n                //         { label: '选项5-2', value: 'option5-2' },\r\n                //         // 其他选项...\r\n                //     ]\r\n                // },\r\n                // {\r\n                //     label: '配置项6',\r\n                //     key: 'config6',\r\n                //     options: [\r\n                //         { label: '选项6-1', value: 'option6-1' },\r\n                //         { label: '选项6-2', value: 'option6-2' },\r\n                //         // 其他选项...\r\n                //     ]\r\n                // },\r\n            ],\r\n            settingform: {\r\n                name: '',\r\n                content: '',\r\n                region: '',\r\n                date1: '',\r\n                date2: '',\r\n                delivery: false,\r\n                type: [],\r\n                resource: '',\r\n                desc: ''\r\n            },\r\n            settingdialogFormVisible: false,\r\n            currentDate: new Date(),\r\n            isCollapse: false,\r\n\r\n            dialogFormVisible: false,\r\n            form: {\r\n                name: '',\r\n                content: '',\r\n                region: '',\r\n                date1: '',\r\n                date2: '',\r\n                delivery: false,\r\n                type: [],\r\n                resource: '',\r\n                desc: ''\r\n            }\r\n            ,\r\n            active: 1,\r\n            configs: [\r\n                {\r\n                    name: \"知识1\",\r\n                    content: \"知识的内容\"\r\n\r\n                },\r\n                {\r\n                    name: \"知识2\",\r\n                    content: \"知识的内容2222\"\r\n\r\n                },\r\n                {\r\n                    name: \"知识3\",\r\n                    content: \"知识的内容333\"\r\n\r\n                }\r\n\r\n            ], // 存储配置的数组\r\n            kbs: [],\r\n            selectfile:\"\",\r\n            fileList:[]\r\n\r\n        };\r\n    },\r\n    created() {\r\n        getstatic().then((res) => {\r\n            console.log(\"getstaticres\", res)\r\n            this.kbs = res.data.kbs\r\n        }).catch((err) => {\r\n            console.log(\"err\", err)\r\n        })\r\n\r\n    },\r\n    mounted() {\r\n        this.loadFiles();\r\n    },\r\n    computed: {\r\n        // 筛选项\r\n        filterData() {\r\n            return function (data) {\r\n                let obj = [];\r\n                //找到对应的数据 并添加到obj\r\n                this.tableData.filter((item) => {\r\n                    obj.push({\r\n                        text: item[data.value],\r\n                        value: item[data.value],\r\n                    });\r\n                });\r\n                //因为column有重复数据，所以要进行去重\r\n                return this.deWeight(obj);\r\n            };\r\n        },\r\n    },\r\n\r\n    methods: {\r\n        handlePreview(){\r\n\r\n        },\r\n        handleRemove(){\r\n\r\n        },\r\n        beforeRemove(){\r\n\r\n        },\r\n\r\n        parseNetworkData(networkData) {\r\n            const nodes = [];\r\n            const links = [];\r\n            // Helper function to add nodes and avoid duplicates\r\n            function addNode(id, group) {\r\n                if (!nodes.find(node => node.id === id)) {\r\n                    nodes.push({ id, group });\r\n                }\r\n            }\r\n\r\n            networkData.forEach(entry => {\r\n                const content = entry.content;\r\n                const parts = content.match(/([^，]+)/g);\r\n                if (parts.length === 3) {\r\n                    const [subject, relationship, object] = parts;\r\n                    addNode(subject, 1);\r\n                    addNode(object, 2);\r\n                    links.push({\r\n                        source: subject,\r\n                        target: object,\r\n                        value: 1,\r\n                        label: relationship\r\n                    });\r\n                }\r\n            });\r\n\r\n            return { nodes, links };\r\n        },\r\n\r\n\r\n\r\n        updateIsCollapse(value) {\r\n            this.isCollapse = value;\r\n            // this.updateIsCollapse(value);\r\n        },\r\n        openDialogAndRenderGraph(index) {\r\n            this.centerDialogVisible = true;\r\n\r\n            this.$nextTick(() => {\r\n                this.showGraph(index);\r\n            });\r\n        },\r\n        showGraph(index) {\r\n            console.log(\"fileList\", this.selectfile)\r\n            // upload_kg(this.selectfile, this.handleChunk);\r\n\r\n            this.centerDialogVisible = true;\r\n            const data = this.graphData;\r\n            const width = 500;\r\n            const height = 400;\r\n            d3.select(this.$refs.graphContainer).selectAll('*').remove();\r\n\r\n            const svg = d3\r\n                .select(this.$refs.graphContainer)\r\n                .append('svg')\r\n                .attr('width', width)\r\n                .attr('height', height);\r\n\r\n            const linkDistance = 150; // 设置链接长度\r\n            const chargeStrength = -500; // 设置节点之间的距离，数值越负，距离越远\r\n\r\n            // // 定义箭头标记\r\n            // svg.append('defs').append('marker')\r\n            //     .attr('id', 'arrowhead')\r\n            //     .attr('viewBox', '-0 -5 10 10')\r\n            //     .attr('refX', 25) // 调整箭头位置\r\n            //     .attr('refY', 0)\r\n            //     .attr('orient', 'auto')\r\n            //     .attr('markerWidth', 6) // 调整箭头大小\r\n            //     .attr('markerHeight', 6) // 调整箭头大小\r\n            //     .attr('xoverflow', 'visible')\r\n            //     .append('svg:path')\r\n            //     .attr('d', 'M 0,-5 L 10 ,0 L 0,5')\r\n            //     .attr('fill', '#999')\r\n            //     .style('stroke', 'none');\r\n\r\n            const simulation = d3\r\n                .forceSimulation(data.nodes)\r\n                .force('link', d3.forceLink(data.links).id(d => d.id).distance(linkDistance))\r\n                .force('charge', d3.forceManyBody().strength(chargeStrength))\r\n                .force('center', d3.forceCenter(200, height / 2));\r\n\r\n            const extendLength = 200;\r\n\r\n            // 创建链接路径\r\n            const link = svg.append('g')\r\n                .attr('stroke', '#999')\r\n                .attr('stroke-opacity', 0.6)\r\n                .selectAll('line')\r\n                .data(data.links)\r\n                .enter()\r\n                .append('line')\r\n                .attr('stroke-width', d => Math.sqrt(d.value))\r\n            // .attr('marker-end', 'url(#arrowhead)'); // 为每条线添加箭头\r\n\r\n            // 创建链接文字\r\n            const linkText = svg.append('g')\r\n                .selectAll('text')\r\n                .data(data.links)\r\n                .enter()\r\n                .append('text')\r\n                .text(d => d.label) // 显示链接的标签\r\n                .attr('font-size', 12)\r\n                .attr('fill', '#000');\r\n\r\n            // 初始节点半径\r\n            const initialRadius = 20;\r\n            // 放大后的节点半径\r\n            const enlargedRadius = 30;\r\n\r\n            // 创建节点\r\n            const node = svg\r\n                .append('g')\r\n                .selectAll('circle')\r\n                .data(data.nodes)\r\n                .enter()\r\n                .append('circle')\r\n                .attr('r', initialRadius)\r\n                .attr('fill', d => (d.group === 1 ? 'red' : 'green'))\r\n                .call(\r\n                    d3\r\n                        .drag()\r\n                        .on('start', dragstarted)\r\n                        .on('drag', dragged)\r\n                        .on('end', dragended)\r\n                )\r\n                .on('mouseover', function (event, d) {\r\n                    // 鼠标悬停时放大节点\r\n                    d3.select(this).attr('r', enlargedRadius);\r\n                })\r\n                .on('mouseout', function (event, d) {\r\n                    // 鼠标移开时恢复节点原始大小\r\n                    d3.select(this).attr('r', initialRadius);\r\n                });\r\n\r\n            const text = svg\r\n                .append('g')\r\n                .selectAll('text')\r\n                .data(data.nodes)\r\n                .enter()\r\n                .append('text')\r\n                .text(d => d.id)\r\n                .attr('x', 15)\r\n                .attr('y', 3);\r\n\r\n            simulation.on('tick', () => {\r\n                link\r\n                    .attr('x1', d => d.source.x)\r\n                    .attr('y1', d => d.source.y)\r\n                    .attr('x2', d => d.target.x)\r\n                    .attr('y2', d => d.target.y);\r\n\r\n                linkText\r\n                    .attr('x', d => (d.source.x + d.target.x) / 2) // 文字在链接的中间位置\r\n                    .attr('y', d => (d.source.y + d.target.y) / 2);\r\n\r\n                node.attr('cx', d => d.x).attr('cy', d => d.y);\r\n\r\n                text.attr('x', d => d.x).attr('y', d => d.y);\r\n            });\r\n\r\n            function dragstarted(event, d) {\r\n                if (!event.active) simulation.alphaTarget(0.3).restart();\r\n                d.fx = d.x;\r\n                d.fy = d.y;\r\n            }\r\n\r\n            function dragged(event, d) {\r\n                d.fx = event.x;\r\n                d.fy = event.y;\r\n            }\r\n\r\n            function dragended(event, d) {\r\n                if (!event.active) simulation.alphaTarget(0);\r\n                d.fx = null;\r\n                d.fy = null;\r\n            }\r\n        },\r\n        handleChunk(chunkValue) {\r\n            try {\r\n                const data = JSON.parse(chunkValue);\r\n                console.log(\"datadatadata\", data)\r\n                this.tableData.unshift(data);\r\n                this.totalItems = this.tableData.length;\r\n            } catch (error) {\r\n                console.error('Error parsing chunk value', error);\r\n            }\r\n        },\r\n\r\n        deleteKnowledge() {\r\n\r\n        },\r\n        savesetting() {\r\n            this.settingdialogFormVisible = false;\r\n            console.log(\"settingdialogFormVisible\", this.settingform)\r\n        },\r\n        showConfigDialog(index) {\r\n            this.settingdialogFormVisible = true\r\n        },\r\n        addNew() {\r\n            this.configs.push({\r\n                name: this.form.name,\r\n                content: this.form.content\r\n            });\r\n            this.dialogFormVisible = false;\r\n            this.form.name = '';\r\n            this.form.content = '';\r\n            console.log(\"this.configs\", this.configs)\r\n        },\r\n        toggleCollapse() {\r\n            this.isCollapse = !this.isCollapse; // 切换状态\r\n        },\r\n        handleOpen(key, keyPath) {\r\n            console.log(key, keyPath);\r\n        },\r\n        handleClose(key, keyPath) {\r\n            console.log(key, keyPath);\r\n        },\r\n        goToMain() {\r\n            window.location.href = '#/ChatHome';\r\n        },\r\n        goToKnowledgeQA() {\r\n            window.location.href = '#/KnowLedgeChat';\r\n        },\r\n        goToFreeChat() {\r\n            window.location.href = '#/FreeChat';\r\n        },\r\n        goToCheckChat() {\r\n            window.location.href = '#/CheckChat';\r\n        },\r\n        goToTitleSetChat() {\r\n            window.location.href = '#/TitleSetChat';\r\n        },\r\n        goToKnowSetting() {\r\n            window.location.href = '#/KnowSetting';\r\n        },\r\n        goToPrompt() {\r\n            window.location.href = '#/Prompt';\r\n        },\r\n        goToSelectModel() {\r\n            window.location.href = '#/SelectModel';\r\n        },\r\n        goToHelp() {\r\n            window.location.href = '#/HelpChat';\r\n        },\r\n        submitForm() {\r\n            console.log('Submitting form data along with the fileList:',);\r\n\r\n        },\r\n        next() {\r\n            if (this.active++ > 2) this.active = 0;\r\n        },\r\n        handleChange(file, fileList) {\r\n            this.fileList = fileList;\r\n            this.saveFiles();\r\n        },\r\n        uploadFile(param) {\r\n            this.selectfile = param\r\n            // const reader = new FileReader();\r\n            // reader.onload = (e) => {\r\n            //     const newFile = {\r\n            //         uid: param.file.uid,\r\n            //         name: param.file.name,\r\n            //         url: e.target.result,\r\n            //         description: '' // 初始描述为空，可以后续编辑\r\n            //     };\r\n            //     this.fileList.push(newFile);\r\n            //     this.saveFiles();\r\n            // };\r\n            // reader.readAsDataURL(param.file);\r\n        },\r\n        saveFiles() {\r\n            localStorage.setItem('fileList', JSON.stringify(this.fileList));\r\n        },\r\n        loadFiles() {\r\n            const files = localStorage.getItem('fileList');\r\n            if (files) {\r\n                this.fileList = JSON.parse(files);\r\n            }\r\n        },\r\n        editFile(fileUid) {\r\n            const file = this.fileList.find(file => file.uid === fileUid);\r\n            if (file) {\r\n                const newDescription = prompt('编辑描述内容', file.description || '');\r\n                if (newDescription !== null) {\r\n                    file.description = newDescription;\r\n                    this.saveFiles();\r\n                }\r\n            }\r\n        },\r\n        deleteFile(fileUid) {\r\n            this.fileList = this.fileList.filter(file => file.uid !== fileUid);\r\n            this.saveFiles();\r\n        }\r\n\r\n\r\n\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n.response-options {\r\n    text-align: center;\r\n    padding-left: 20;\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.graph-container {\r\n    max-height: 600px;\r\n    overflow-y: auto;\r\n    border: 1px solid #ddd;\r\n    width: 100%;\r\n    /* 根据需要调整 */\r\n}\r\n\r\n/* 自定义滚动条样式 */\r\n.graph-container::-webkit-scrollbar {\r\n    width: 12px;\r\n    /* 滚动条宽度 */\r\n}\r\n\r\n.graph-container::-webkit-scrollbar-track {\r\n    background: #f1f1f1;\r\n    /* 滚动条轨道颜色 */\r\n    border-radius: 10px;\r\n    /* 轨道圆角 */\r\n}\r\n\r\n.graph-container::-webkit-scrollbar-thumb {\r\n    background: #888;\r\n    /* 滚动条拇指颜色 */\r\n    border-radius: 10px;\r\n    /* 拇指圆角 */\r\n}\r\n\r\n.graph-container::-webkit-scrollbar-thumb:hover {\r\n    background: #555;\r\n    /* 鼠标悬停时的颜色 */\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./KnowSetting.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./KnowSetting.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./KnowSetting.vue?vue&type=template&id=e6669eca&\"\nimport script from \"./KnowSetting.vue?vue&type=script&lang=js&\"\nexport * from \"./KnowSetting.vue?vue&type=script&lang=js&\"\nimport style0 from \"./KnowSetting.vue?vue&type=style&index=0&id=e6669eca&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-container',{staticStyle:{\"height\":\"100vh\"}},[_c('Nav',{attrs:{\"isCollapse\":_vm.isCollapse,\"isSelect\":_vm.selected},on:{\"update:isCollapse\":_vm.updateIsCollapse}}),_c('el-container',[_c('el-header',{staticStyle:{\"text-align\":\"right\",\"line-height\":\"60px\"}},[_vm._v(\" Yoka \")]),_c('el-main',[_c('vue-markdown',{attrs:{\"source\":_vm.markdown,\"breaks\":true,\"typographer\":true,\"linkify\":true,\"highlight\":false}})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-container style=\"height: 100vh;\">\r\n    <Nav :isCollapse=\"isCollapse\" @update:isCollapse=\"updateIsCollapse\" :isSelect=\"selected\"></Nav>\r\n\r\n    <el-container>\r\n      <el-header style=\"text-align: right; line-height: 60px\">\r\n        <!-- 头部内容 -->\r\n        Yoka\r\n      </el-header>\r\n      <el-main>\r\n        <vue-markdown :source=\"markdown\" :breaks=\"true\" :typographer=\"true\" :linkify=\"true\" :highlight=\"false\"></vue-markdown>\r\n      </el-main>\r\n    </el-container>\r\n  </el-container>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n.home {\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background-color: rgb(249, 248, 247);\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 50%;\r\n  transform: translate(-50%, -50%);\r\n}\r\n\r\n.el-menu-vertical-demo:not(.el-menu--collapse) {\r\n  width: 150px;\r\n  min-height: 400px;\r\n}\r\n\r\n.el-menu-vertical-demo::before {\r\n  // // content: \"\";\r\n  // // position: absolute;\r\n  // // top: 0;\r\n  // // left: 0;\r\n  // // width: 100%;\r\n  // // height: 100%;\r\n  // // background-color: rgba(0, 0, 0, 0);\r\n  // // /* 设置初始背景色透明 */\r\n  // // z-index: -1;\r\n  // // transition: background-color 0.3s ease;\r\n  // /* 添加过渡效果 */\r\n}\r\n\r\n.title-row {\r\n  padding: 14px;\r\n}\r\n\r\n.main-title {\r\n  margin-left: 8px;\r\n  /* Adjust the space between icon and title as needed */\r\n  font-size: 20px;\r\n  /* Your desired size for the main title */\r\n  vertical-align: middle;\r\n}\r\n\r\n.sub-title {\r\n  /* Styling for subtitle, if necessary */\r\n}\r\n</style>\r\n<script>\r\nwindow.addEventListener('resize', function () {\r\n  var asideRect = document.querySelector('aside').getBoundingClientRect();\r\n  var fixedButton = document.querySelector('.fixed-button');\r\n  fixedButton.style.top = asideRect.top + 'px';  // 调整 top 值以跟随 aside\r\n});\r\nimport Emoji from \"@/components/Emoji.vue\";\r\nimport Nav from \"@/components/Nav.vue\";\r\nimport commonMethodsMixin from '../../util/publicfun.js';\r\nimport StreamText from '@/components/StreamText.vue';\r\nimport VueMarkdown from 'vue-markdown';\r\nexport default {\r\n  mixins: [commonMethodsMixin],\r\n  components: {\r\n    Emoji,\r\n    Nav,\r\n    StreamText,\r\n    VueMarkdown\r\n  },\r\n  created(){\r\n    \r\n  },\r\n\r\n  data() {\r\n    return {\r\n      markdown: `\r\n# Yoka 危险货物专家 AI 助手使用说明\r\n\r\n## 简介\r\n\r\nYoka 是一款基于多个大语言模型、RAG 架构和 Agent 技术实现的危险货物专家 AI 助手。它旨在帮助企业实现安全生产和知识管理,提供四个主要场景:知识库问答、自由对话、条款检查和题目生成。\r\n\r\n## 主要功能\r\n\r\n### 1. 知识库问答\r\n\r\n基于本地知识库和 RAG 架构,Yoka 可以回答企业业务知识、法律法规等相关问题。它利用自然语言处理技术从知识库中检索相关信息,并生成准确的答复。\r\n\r\n### 2. 自由对话\r\n\r\nYoka 充分发挥了大语言模型的原生能力,可以根据用户选择的不同模型和 Prompt 模板,解决个性化问题。用户可以与 Yoka 进行自由对话,探讨各种主题。\r\n\r\n### 3. 条款检查\r\n\r\nYoka 基于旧有条款知识库和 RAG 架构,可以关联新旧条款,分析新条款的合理性和合规性。它有助于企业审查和优化内部政策,确保符合法律法规要求。\r\n\r\n### 4. 题目生成\r\n\r\n根据企业私有知识、法规和条款,Yoka 可以生成试题,用于员工培训和考核。这有助于提高员工的专业知识水平,增强企业的风险防范能力。\r\n\r\n## 其他功能\r\n\r\n### 1. 知识图谱生成\r\n\r\nYoka 基于知识图谱技术,可以生成企业知识库图谱和单一文档图谱,帮助企业进行知识管理和查询。\r\n\r\n### 2. 个性化配置\r\n\r\nYoka 提供了丰富的知识引擎配置和大语言模型配置,满足用户的个性化需求,针对性地解决实际问题。\r\n\r\n## 使用方法\r\n\r\n1. 启动 Yoka 危险货物专家 AI 助手\r\n2. 选择所需的功能场景\r\n3. 根据指示进行操作,如输入问题、上传条款文件或选择配置等\r\n4. Yoka 将根据请求生成相应的输出结果\r\n\r\n## 注意事项\r\n\r\n- 确保提供足够的知识数据,以获得准确的结果\r\n- 定期更新知识库,以反映最新的法规和业务变化\r\n- 对于敏感或重要的决策,请寻求人工专家的审核和指导\r\n\r\n欢迎使用 Yoka 危险货物专家 AI 助手,提高工作效率,确保安全合规!如有任何疑问或建议,欢迎随时反馈。\r\n      `,\r\n      selected: '8',\r\n      isCollapse: false,\r\n      cards: [\r\n        {\r\n          icon: 'el-icon-info',\r\n          title: '标题一',\r\n          subtitle: '副标题一'\r\n        },\r\n        {\r\n          icon: 'el-icon-warning',\r\n          title: '标题二',\r\n          subtitle: '副标题二'\r\n        },\r\n        {\r\n          icon: 'el-icon-error',\r\n          title: '标题三',\r\n          subtitle: '副标题三'\r\n        },\r\n        {\r\n          icon: 'el-icon-success',\r\n          title: '标题四',\r\n          subtitle: '副标题四'\r\n        }\r\n      ]\r\n\r\n    };\r\n  },\r\n  methods: {\r\n    updateIsCollapse(value) {\r\n      this.isCollapse = value;\r\n      // this.updateIsCollapse(value);\r\n    },\r\n    historyChat(question) {\r\n      console.log(\"this.question\", question)\r\n\r\n      this.chatStarted = true;\r\n      question.showDeleteButton = true\r\n      this.newhistory = question\r\n      this.chatMessages = question.history\r\n      this.chat_id = question.dialogue_id\r\n    },\r\n    showDeleteButton(index) {\r\n      console.log(\"indexindex\", this.historyArrlist[index])\r\n      this.historyArrlist[index].showDeleteButton = true;\r\n    },\r\n    hideDeleteButton(index) {\r\n      this.historyArrlist[index].showDeleteButton = false\r\n    },\r\n    deleteItem(index) {\r\n      this.historyArrlist.splice(index, 1);\r\n    },\r\n    guid() {\r\n      return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n        var r = Math.random() * 16 | 0,\r\n          v = c == 'x' ? r : (r & 0x3 | 0x8);\r\n        return v.toString(16);\r\n      });\r\n    }\r\n    ,\r\n    toggleCollapse() {\r\n      this.isCollapse = !this.isCollapse; // 切换状态\r\n    },\r\n\r\n    handleOpen(key, keyPath) {\r\n      console.log(key, keyPath);\r\n    },\r\n    handleClose(key, keyPath) {\r\n      console.log(key, keyPath);\r\n    },\r\n    goToMain() {\r\n      window.location.href = '#/ChatHome';\r\n    },\r\n    goToKnowledgeQA() {\r\n      window.location.href = '#/KnowLedgeChat';\r\n    },\r\n    goToFreeChat() {\r\n      window.location.href = '#/FreeChat';\r\n    },\r\n    goToCheckChat() {\r\n      window.location.href = '#/CheckChat';\r\n    },\r\n    goToTitleSetChat() {\r\n      window.location.href = '#/TitleSetChat';\r\n    },\r\n\r\n    goToKnowSetting() {\r\n      window.location.href = '#/KnowSetting';\r\n    },\r\n    goToPrompt() {\r\n      window.location.href = '#/Prompt';\r\n    },\r\n    goToSelectModel() {\r\n      window.location.href = '#/SelectModel';\r\n    },\r\n    goToHelp() {\r\n      window.location.href = '#/HelpChat';\r\n    },\r\n    submitForm() {\r\n      console.log('Submitting form data along with the fileList:',);\r\n\r\n    },\r\n\r\n  }\r\n}\r\n</script>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HelpChat.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HelpChat.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HelpChat.vue?vue&type=template&id=de515fb8&scoped=true&\"\nimport script from \"./HelpChat.vue?vue&type=script&lang=js&\"\nexport * from \"./HelpChat.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HelpChat.vue?vue&type=style&index=0&id=de515fb8&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"de515fb8\",\n  null\n  \n)\n\nexport default component.exports","import VueRouter from \"vue-router\";\r\n\r\nimport ChatHome from \"../view/pages/chatHome/index.vue\";\r\nimport Video from \"../view/pages/video.vue\";\r\nimport Lingting from \"../view/pages/lingting.vue\";\r\nimport Setting from \"../view/pages/setting.vue\";\r\nimport MobileChat from \"@/view/pages/chatHome/MobileChat.vue\";\r\nimport Home from \"@/view/home.vue\";\r\nimport CheckChat from \"../view/pages/CheckChat.vue\";\r\nimport KnowLedgeChat from \"../view/pages/KnowLedgeChat.vue\";\r\nimport FreeChat from \"../view/pages/FreeChat.vue\";\r\nimport TitleSetChat from \"../view/pages/TitleSetChat.vue\";\r\nimport Prompt from \"../view/pages/Prompt.vue\";\r\nimport SelectModel from \"../view/pages/SelectModel.vue\";\r\nimport KnowSetting from \"../view/pages/KnowSetting.vue\";\r\nimport HelpChat from \"../view/pages/HelpChat.vue\"\r\n\r\nexport default new VueRouter({\r\n  routes: [\r\n    {\r\n      path: \"/\",\r\n      redirect: \"/ChatHome\",\r\n      component: Home,\r\n      children: [\r\n        {\r\n          path: \"/ChatHome\",\r\n          name: \"ChatHome\",\r\n          component: ChatHome,\r\n        },\r\n        {\r\n          path: \"/Video\",\r\n          name: \"Video\",\r\n          component: Video,\r\n        },\r\n        {\r\n          path: \"/Lingting\",\r\n          name: \"Lingting\",\r\n          component: Lingting,\r\n        },\r\n        {\r\n          path: \"/Setting\",\r\n          name: \"Setting\",\r\n          component: Setting,\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      path: \"/MobileChat\",\r\n      name: \"MobileChat\",\r\n      component: MobileChat,\r\n    },\r\n    {\r\n      path: \"/CheckChat\",\r\n      name: \"CheckChat\",\r\n      component: CheckChat,\r\n    },\r\n    {\r\n      path: \"/KnowLedgeChat\",\r\n      name: \"KnowLedgeChat\",\r\n      component: KnowLedgeChat,\r\n    },\r\n    {\r\n      path: \"/FreeChat\",\r\n      name: \"FreeChat\",\r\n      component: FreeChat,\r\n    },\r\n    {\r\n      path: \"/TitleSetChat\",\r\n      name: \"TitleSetChat\",\r\n      component: TitleSetChat,\r\n    },\r\n\r\n    ,\r\n    {\r\n      path: \"/Prompt\",\r\n      name: \"Prompt\",\r\n      component: Prompt,\r\n    },\r\n    ,\r\n    {\r\n      path: \"/SelectModel\",\r\n      name: \"SelectModel\",\r\n      component: SelectModel,\r\n    },\r\n    , {\r\n        path: \"/KnowSetting\",\r\n        name: \"KnowSetting\",\r\n        component: KnowSetting,\r\n    },\r\n\r\n    , {\r\n        path: \"/HelpChat\",\r\n        name: \"HelpChat\",\r\n        component: HelpChat,\r\n    },\r\n  ],\r\n});\r\n","import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport ElementUI from 'element-ui';\r\nimport VueRouter from 'vue-router'\r\nimport 'element-ui/lib/theme-chalk/index.css';\r\nimport router from './router/index'\r\nimport \"./mock/index.js\"\r\nimport './default.scss'\r\nVue.use(VueRouter)\r\nVue.config.productionTip = false\r\nVue.use(ElementUI);\r\n\r\nnew Vue({\r\n  router,\r\n  render: h => h(App),\r\n}).$mount('#app')\r\n","const Mock = require(\"mockjs\");\r\n\r\nMock.mock(/friend\\/friendList/, 'post', () => { //三个参数。第一个：路径，第二个：请求方式post/get，第三个：回调，返回值\r\n    return friendList\r\n})\r\n\r\nMock.mock(/friend\\/chatMsg/, 'post', (config) => { //三个参数。第一个：路径，第二个：请求方式post/get，第三个：回调，返回值\r\n    let params = JSON.parse(config.body)\r\n    if (params.frinedId == \"1002\")\r\n        return chatMsg1002\r\n    if (params.frinedId == \"1003\")\r\n        return chatMsg1003\r\n    if (params.frinedId == \"1004\")\r\n        return chatMsg1004\r\n})\r\n\r\n\r\nlet friendList = Mock.mock(\r\n    [\r\n        {\r\n            img: \"\",\r\n            name: \"chatgpt\",\r\n            detail: \"Welcome Chat\",\r\n            lastMsg: \"to do\",\r\n            id: \"1002\",\r\n            headImg: require(\"@/assets/img/head_portrait1.png\"),\r\n\r\n        },\r\n        // {\r\n        //     img: \"\",\r\n        //     name: \"小毛\",\r\n        //     detail: \"我是小毛\",\r\n        //     lastMsg: \"dada dw ertgthy j uy\",\r\n        //     id: \"1003\",\r\n        //     headImg: require(\"@/assets/img/head_portrait2.jpg\"),\r\n\r\n        // },\r\n        // {\r\n        //     img: \"\",\r\n        //     name: \"小王\",\r\n        //     detail: \"我是小王\",\r\n        //     lastMsg: \"大萨达萨达所大大萨达\",\r\n        //     id: \"1004\",\r\n        //     headImg: require(\"@/assets/img/head_portrait3.jpg\"),\r\n\r\n        // },\r\n    ]\r\n)\r\n\r\nlet chatMsg1002 = Mock.mock(\r\n    [\r\n        // {\r\n        //     headImg: require(\"@/assets/img/head_portrait.jpg\"),\r\n        //     name: \"大毛是小白\",\r\n        //     time: \"09：12 AM\",\r\n        //     msg: \" 在吗？\",\r\n        //     chatType: 0, //信息类型，0文字，1图片\r\n        //     uid: \"1001\", //uid\r\n        // },\r\n\r\n        {\r\n            headImg: require(\"@/assets/img/head_portrait1.png\"),\r\n            name: \"chatgpt\",\r\n            time: \"09：12 AM\",\r\n            msg: \" gpt-3模型为您服务\",\r\n            chatType: 0, //信息类型，0文字，1图片\r\n            uid: \"1002\", //uid\r\n        }\r\n        // {\r\n        //     headImg: require(\"@/assets/img/head_portrait.jpg\"),\r\n        //     name: \"大毛是小白\",\r\n        //     time: \"09：12 AM\",\r\n        //     msg: require(\"@/assets/img/emoji/slightly-smiling-face.png\"),\r\n        //     chatType: 1, //信息类型，0文字，1图片\r\n        //     extend: {\r\n        //         imgType: 1, //(1表情，2本地图片)\r\n        //     },\r\n        //     uid: \"1001\",\r\n        // },\r\n    ]\r\n)\r\nlet chatMsg1003 = Mock.mock(\r\n    [\r\n        {\r\n            headImg: require(\"@/assets/img/head_portrait.jpg\"),\r\n            name: \"大毛是小白\",\r\n            time: \"09：12 AM\",\r\n            msg: \"在干嘛呢\",\r\n            chatType: 0, //信息类型，0文字，1图片\r\n            uid: \"1001\", //uid\r\n        },\r\n        {\r\n            headImg: require(\"@/assets/img/head_portrait.jpg\"),\r\n            name: \"大毛是小白\",\r\n            time: \"09：12 AM\",\r\n            msg: require(\"@/assets/img/emoji/slightly-smiling-face.png\"),\r\n            chatType: 1, //信息类型，0文字，1图片\r\n            extend: {\r\n                imgType: 1, //(1表情，2本地图片)\r\n            },\r\n            uid: \"1001\",\r\n        },\r\n        {\r\n            headImg: require(\"@/assets/img/head_portrait2.jpg\"),\r\n            name: \"小毛\",\r\n            time: \"09：12 AM\",\r\n            msg: \"吃饭\",\r\n            chatType: 0, //信息类型，0文字，1图片\r\n            uid: \"1002\", //uid\r\n        },\r\n        {\r\n            headImg: require(\"@/assets/img/head_portrait.jpg\"),\r\n            name: \"大毛是小白\",\r\n            time: \"09：12 AM\",\r\n            msg: \"吃的什么饭\",\r\n            chatType: 0, //信息类型，0文字，1图片, 2文件\r\n            uid: \"1001\",\r\n        },\r\n        {\r\n            headImg: require(\"@/assets/img/head_portrait2.jpg\"),\r\n            name: \"小毛\",\r\n            time: \"09：12 AM\",\r\n            msg: \"蛋炒饭\",\r\n            chatType: 0, //信息类型，0文字，1图片\r\n            uid: \"1002\", //uid\r\n        },\r\n        {\r\n            headImg: require(\"@/assets/img/head_portrait.jpg\"),\r\n            name: \"大毛是小白\",\r\n            time: \"09：12 AM\",\r\n            msg: \"加蛋了吗？\",\r\n            chatType: 0, //信息类型，0文字，1图片, 2文件\r\n            uid: \"1001\",\r\n        },\r\n        {\r\n            headImg: require(\"@/assets/img/head_portrait2.jpg\"),\r\n            name: \"小毛\",\r\n            time: \"09：12 AM\",\r\n            msg: \"你说呢\",\r\n            chatType: 0, //信息类型，0文字，1图片\r\n            uid: \"1002\", //uid\r\n        },\r\n        {\r\n            headImg: require(\"@/assets/img/head_portrait2.jpg\"),\r\n            name: \"小毛\",\r\n            time: \"09：12 AM\",\r\n            msg: require(\"@/assets/img/emoji/slightly-smiling-face.png\"),\r\n            chatType: 1, //信息类型，0文字，1图片\r\n            extend: {\r\n                imgType: 1, //(1表情，2本地图片)\r\n            },\r\n            uid: \"1002\", //uid\r\n        },\r\n    ]\r\n)\r\nlet chatMsg1004 = Mock.mock(\r\n    [\r\n        {\r\n            headImg: require(\"@/assets/img/head_portrait.jpg\"),\r\n            name: \"大毛是小白\",\r\n            time: \"09：12 AM\",\r\n            msg: \" sadasdawdas sadsad sad sad as despite ofhaving so much to do\",\r\n            chatType: 0, //信息类型，0文字，1图片\r\n            uid: \"1001\", //uid\r\n        },\r\n        {\r\n            headImg: require(\"@/assets/img/head_portrait.jpg\"),\r\n            name: \"大毛是小白\",\r\n            time: \"09：12 AM\",\r\n            msg: require(\"@/assets/img/emoji/slightly-smiling-face.png\"),\r\n            chatType: 1, //信息类型，0文字，1图片\r\n            extend: {\r\n                imgType: 1, //(1表情，2本地图片)\r\n            },\r\n            uid: \"1001\",\r\n        },\r\n        {\r\n            headImg: require(\"@/assets/img/head_portrait3.jpg\"),\r\n            name: \"小王\",\r\n            time: \"09：12 AM\",\r\n            msg: \" 21312大萨达萨达\",\r\n            chatType: 0, //信息类型，0文字，1图片\r\n            uid: \"1002\", //uid\r\n        },\r\n        {\r\n            headImg: require(\"@/assets/img/head_portrait.jpg\"),\r\n            name: \"大毛是小白\",\r\n            time: \"09：12 AM\",\r\n            msg: \"111212\",\r\n            chatType: 0, //信息类型，0文字，1图片, 2文件\r\n            uid: \"1001\",\r\n        },\r\n        {\r\n            headImg: require(\"@/assets/img/head_portrait3.jpg\"),\r\n            name: \"小王\",\r\n            time: \"09：12 AM\",\r\n            msg: \"大萨达萨达所大大萨达\",\r\n            chatType: 0, //信息类型，0文字，1图片\r\n            uid: \"1002\", //uid\r\n        },\r\n    ]\r\n)","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkchathome\"] = self[\"webpackChunkchathome\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(5021); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["render","_vm","this","_c","_self","attrs","staticRenderFns","staticClass","staticStyle","_v","nativeOn","$event","goToKnowledgeQA","apply","arguments","goToFreeChat","goToCheckChat","goToTitleSetChat","data","emojiList","require","methods","sendEmoji","closeEmoji","component","props","isCollapse","type","required","isSelect","chat_id","newhistory","historyArrlist","configs","promptall","models","promptdefaultvalue","dynamicMarginLeft","goToMain","console","window","goToKnowSetting","goToPrompt","goToSelectModel","goToHelp","toggleCollapse","handleOpen","handleClose","updateIsCollapse","value","_s","displayedText","text","speed","default","currentIndex","mounted","startStreaming","setTimeout","addEventListener","fixedButton","mixins","components","Emoji","Nav","StreamText","selected","cards","icon","title","subtitle","submitForm","axios","config","error","log","JSON","stringify","Promise","reject","response","base","baseUrl","getFriend","params","method","baseURL","then","res","getkbChat","url","getclauseChat","getChat","chatgpt","dialogue_id","query","chatupload","headers","gethistory","getkbhistory","getclausehistory","getexam","getstatic","delete_dialogue","chatkbStreamgpt","async","handleChunk","handleReferences","fetch","body","readableStream","reader","getReader","first","isReferences","references","done","read","chunkValue","TextDecoder","decode","lines","split","filter","line","startsWith","forEach","content","slice","trim","releaseLock","chatclauseStreamgpt","hasdata","chatStreamgpt","upload_exam","file","ok","Error","status","decoder","buffer","boundaryIndex","stream","indexOf","lineEndIndex","substring","clause_doc_stream_check","formData","FormData","append","chatFileStreamgpt","upload_doc","chatImgStreamgpt","upload_img","name","Home","kbs","prompts","created","_l","personList","personInfo","key","id","on","clickPerson","pcCurrent","showChatWindow","chatWindowInfo","personCardSort","class","activeCard","current","detail","imgUrl","HeadPortrait","watch","isActive","frinedInfo","video","telephone","_m","sendImg","sendFile","ref","chatList","item","index","uid","headImg","time","chatType","isSend","length","msg","_e","extend","imgType","srcImgList","fileType","directives","rawName","inputMsg","expression","domProps","_k","keyCode","sendText","target","composing","animation","obj","fn1","clearInterval","timer","setInterval","step","scrollTop","Math","ceil","floor","FileCard","showEmoji","friendInfo","getFriendChatMsg","frinedId","getChatMsg","sendMsg","scrollBottom","clickEmoji","prompt","temperature","top_p","model","max_tokens","frequency_penalty","presence_penalty","stop","message","chatMsg","_this","e","PersonCard","ChatWindow","nowPersonInfo","slot","instance","timeout","post","websock","destroyed","testOpenAi","err","style","newChat","handleSelect","question","toString","historyChat","showDeleteButton","hideDeleteButton","getUserContent","history","stopPropagation","deleteItem","chatStarted","chatMessages","role","reference","index1","showFullReference","hideFullReference","isHovered","cards1","card","sendMessage","header","newMessage","callback","$$v","fileList","removeFile","uploadFile","beforeUpload","startChat","VueMarkdown","chatMessagesList","fileSize","fileLimit","handler","newMessages","immediate","deep","scrollToBottom","container","confirmButtonText","cancelButtonText","validator","trigger","handleExceed","FormDatas","handleChunk1","handleSuccess","beforeRemove","handlePreview","guid","v","createNewDialog","currentStreamMessage","activeIndex","itemDetailsVisible","handleSelectDrop","document","updateNewMessage","showDetails","hideDetails","newChat1","handleRemove","dialogImageUrl","fit","dialogFileUrl","floatactiveIndex","readAloud","copyContent","likeMessage","dislikeMessage","regenerateMessage","label","handleSelectDrop1","modeldefaultvalue","uploadImg","showActions","answerMessageElement","beforeDestroy","showActionButtons","hideActionButtons","embedding_model","text_splitter","chunk_size","overlap","chunk_split_method","isImage","isFile","getFileName","marginTop","currentPageData","_filterChange","dataList","sort","filterData","filterTag","currentPage","pageSize","tableData","handleSizeChange","handleCurrentChange","exportExcel","ImageModule","exportWord","template","exportRow","outputFilename","JSZipUtils","opts","loadZip","attachModule","compile","doc","resolveData","mimeType","saveAs","catch","stack","properties","computed","updatePagedData","XLSX","bookType","link","exportToDocx","filterHandler","deWeight","arr","j","dialogFormVisible","activeName","publicTableData","privateTableData","form","formLabelWidth","$set","dialogTableVisible","handleTabClick","region","modellist","knowledge","height","display","flexDirection","scopedSlots","_u","fn","showGraph","proxy","showConfigDialog","openDialogAndRenderGraph","deleteKnowledge","settingdialogFormVisible","settingform","configArray","options","option","optionIndex","savesetting","currentDate","date1","date2","delivery","resource","desc","description","centerDialogVisible","handleChange","addNew","graphData","nodes","group","links","source","active","selectfile","parseNetworkData","networkData","addNode","d3","select","attr","forceSimulation","force","selectAll","enter","call","d","simulation","linkText","node","next","saveFiles","localStorage","loadFiles","editFile","deleteFile","markdown","VueRouter","routes","path","redirect","children","ChatHome","Video","Lingting","Setting","MobileChat","CheckChat","KnowLedgeChat","FreeChat","TitleSetChat","Prompt","SelectModel","KnowSetting","HelpChat","Vue","ElementUI","router","h","App","$mount","Mock","mock","friendList","parse","chatMsg1002","chatMsg1003","chatMsg1004","img","lastMsg","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","loaded","__webpack_modules__","m","deferred","O","result","chunkIds","priority","notFulfilled","Infinity","i","fulfilled","Object","keys","every","splice","r","n","getter","__esModule","a","definition","o","defineProperty","enumerable","get","g","globalThis","Function","prop","prototype","hasOwnProperty","Symbol","toStringTag","nmd","paths","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","push","__webpack_exports__"],"sourceRoot":""}